webpackJsonp([0],{10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileAlternatives=t.getAltSection=t.default=t.setItems=t.setAlt=t.nextAlt=void 0;var a=n(8),r=n(1),l=n(23),o=function(e,t,n,a){return{type:"nextAlt",alterSection:e,alterTag:t,nAlts:n,initial:a}};t.nextAlt=o;var i=function(e,t,n){return{type:"setAlt",alterSection:e,alterTag:t,alt:n}};t.setAlt=i;t.setItems=function(e,t,n){return{type:"setItems",eIds:e,alterSection:t,alt:n}};var u={nextAlt:function(e,t){var n=t.alterSection,a=t.alterTag,l=t.initial,o=t.nAlts,i=e[n],u=(i=void 0===i?r.emptyO:i)[a],c=((void 0===u?l||0:u)+1)%o;return(0,r.updateAuto)(e,[n,a],{$set:c})},setAlt:function(e,t){var n=t.alterSection,a=t.alterTag,l=t.alt;return(0,r.updateAuto)(e,[n,a],{$set:l})},fetchItems:function(e,t){var n=t.data,a=t.eIds,l=t.alterSection,o=t.alt,i=e;if(n&&null!=a){var u=!0,c=!1,s=void 0;try{for(var f,d=a[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var m=f.value;i=(0,r.updateAuto)(i,[l,m],{$set:o})}}catch(e){c=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}}return i},setItems:function(e,t){var n=t.eIds,a=t.alterSection,l=t.alt,o=e;if(null!=n){var i=!0,u=!1,c=void 0;try{for(var s,f=n[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value;o=(0,r.updateAuto)(o,[a,d],{$set:l})}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}}return o}},c=(0,r.makeReducer)(u);t.default=c;t.getAltSection=function(e,t){return{alter:e.alter[t.alterSection]||r.emptyO}};var s=(0,a.memoize)(function(e,t,n,a){return function(r){return{getAlt:function(e){var t=e[r];return void 0===t?n||0:t},nextAlt:(0,l.handle)(a,o,e,r,t,n),initAlt:(0,l.handle)(a,i,e,r,n),setAlt:function(t){return(0,l.handle)(a,i,e,r,t)},putAlt:function(t){return a(i(e,r,t))}}}},null,{debug:"compileAlternatives"});t.compileAlternatives=s},101:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.getWinDim=t.default=t.changeWinDim=void 0;var r=n(1);t.changeWinDim=function(){return function(e){e(a({type:"windim"},o()))}};var l={windim:function(e,t){return a({},e,{height:t.height,width:t.width})}},o=function(){var e=window;return{height:e.innerHeight,width:e.innerWidth}},i=(0,r.makeReducer)(l,o());t.default=i;t.getWinDim=function(e){return{win:e.win}}},102:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.getMe=t.default=t.fetchMe=void 0;var r=n(51),l=n(1);t.fetchMe=function(){return(0,r.accessData)({type:"fetchMe",contentType:"db",path:"/who/ami",desc:"me"})};var o={fetchMe:function(e,t){var n=t.data;return null==n?l.emptyO:a({},n)}},i=(0,l.makeReducer)(o);t.default=i;t.getMe=function(e){return{me:e.me}}},113:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(2),i=n(1),u=n(23),c=n(15),s=n(10),f=n(199),d=n(7),m=n(35),p=n(9),v=n(46),y=a(n(552)),h=a(n(118)),b=a(n(119)),g=a(n(5)),E=(0,i.combineSelectors)(c.getSettings,f.getGrid,s.getAltSection),w=(0,o.connect)(E)(function(e){var t=e.alter,n=e.alterSection,a=e.filtered,o=e.settings,c=e.filters,E=e.tables,w=e.table,O=e.listIds,S=e.select,_=e.perm,k=e.masterId,A=e.linkField,N=e.fixed,I=e.grid,T=e.gridTag,j=e.dispatch,P=I[T],M=void 0===P?i.emptyA:P,x=E[w],C=x.fields,F=x.fieldOrder,D=x.fieldSpecs,R=x.item,L=x.detailOrder,U=x.entities,V=(0,p.dealWithProvenance)(o,C),W=F.filter(function(e){return V[e]}),$=W.length,z=null!=L?L.length:0,H="".concat(90/$,"%"),B=W.map(function(e){var t=D[e].grid;if(null==t)return{width:H,shrink:0,grow:1};var n=t.width,a=t.grow,r=t.shrink;return{width:null==n?H:n,shrink:null==r?0:r,grow:null==a?0:a}}).concat(new Array(z).fill({width:H,shrink:0,grow:.3})).map(function(e){var t=e.width,n=e.grow,a=e.shrink;return{flex:"".concat(n," ").concat(a," ").concat(t),overflow:"auto"}}),K=(0,f.compileSortedData)(E,w,O,M,o),Y=(0,s.compileAlternatives)(n,2,0,j),q=(0,m.compileActive)(E,w),G=(0,v.getMasterTable)(E,w,A),X=[],J=!0,Z=!1,Q=void 0;try{for(var ee,te=K[Symbol.iterator]();!(J=(ee=te.next()).done);J=!0){var ne=ee.value,ae=U[ne],re=ae.values,le=ae.perm,oe=ae.workflow,ie=Y(ne),ue=ie.getAlt,ce=ie.nextAlt,se=ue(t),fe=null!=q&&q.has(ne);X.push(l.default.createElement(y.default,{key:"".concat(w,"-").concat(ne),alt:se,nextAlt:ce,filters:c,tables:E,table:w,eId:ne,masterId:k,linkField:A,isactive:fe,initialValues:re,perm:le,workflow:oe,fields:V,widthStyles:B,fixed:N}))}}catch(e){Z=!0,Q=e}finally{try{J||null==te.return||te.return()}finally{if(Z)throw Q}}return l.default.createElement(l.Fragment,null,a&&S===d.DETAILS?null:l.default.createElement("div",null,l.default.createElement(h.default,{table:w,perm:_,select:S,masterTable:G,nItems:O.length,fixed:N,item:R,button:"button medium",onInsert:(0,u.handle)(j,d.insertItem,w,S,k,A)}),l.default.createElement(b.default,{table:w,listIds:O,item:R,button:"button medium",alterSection:n,nAlts:2,initial:0,openAll:S==d.DETAILS})),0!==M.length?l.default.createElement("div",{className:"sortspecs"},"Sorted: ",M.map(function(e){var t=r(e,2),n=t[0],a=t[1];return l.default.createElement("span",{className:"sortcol",key:n},n,l.default.createElement("span",{className:"fa fa-arrow".concat(-1===a?"down":"up")}))}),l.default.createElement(g.default,{tip:"remove all sort options",at:"right"},l.default.createElement("span",{className:"fa fa-close button small",onClick:(0,u.handle)(j,f.resetSort,T)})," ")):null,l.default.createElement("div",{className:"grid"},l.default.createElement("div",{className:"grid-head"},l.default.createElement("div",{className:"grid-status-cell"}),W.filter(function(e){return e!==A}).map(function(e,t){var n=B[t],a=M.find(function(t){return t[0]===e}),r=a?a[1]:0;return l.default.createElement("div",{className:"grid-head-cell label-col-grid",key:e,style:n},r?l.default.createElement(g.default,{tip:"remove column from sort options",at:"top"},l.default.createElement("span",{className:"sorted button small",onClick:(0,u.handle)(j,f.delColumn,T,e)},e)):l.default.createElement(g.default,{tip:"sort on this column",at:"top"},l.default.createElement("span",{className:"unsorted button small",onClick:(0,u.handle)(j,f.addColumn,T,e,1)},e)),r?l.default.createElement(g.default,{tip:"change sort direction",at:"top"},l.default.createElement("span",{className:"sorted button small fa fa-arrow-".concat(1===r?"up":"down"),onClick:(0,u.handle)(j,f.turnColumn,T,e)})):null)}),(L||i.emptyA).map(function(e,t){var n=B[t];return l.default.createElement("div",{className:"grid-head-cell label-col-grid",key:e,style:n},e)})),X))});t.default=w},117:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function o(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),u=n(2),c=n(30),s=n(8),f=n(1),d=n(9),m=n(46),p=n(37),v=n(7),y=n(10),h=n(35),b=n(15),g=a(n(17)),E=a(n(588)),w=a(n(204)),O=a(n(118)),S=a(n(119)),_=0,k=2,A=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return o(a,(n=a=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.handleInsert=function(){var e=a.props,t=e.table,n=e.select,r=e.masterId,l=e.linkField;(0,e.dispatch)((0,v.insertItem)(t,n,r,l)),a.gotoNew=!0},a.gotoItem=function(e){var t=a.props,n=t.table,r=t.alterSection,l=t.dispatch;(0,(0,y.compileAlternatives)(r,k,_,l)(e).putAlt)((_+1)%k);(0,(0,y.compileAlternatives)("edit-".concat(n,"-").concat(e),k,_,l)("edit").putAlt)((_+1)%k)},a.scroll=function(e){null!=e&&e.scrollIntoView()},a.showHide=(0,s.memoize)(function(e,t,n,a,r){return function(){if(t!==v.DETAILS){var l=(0,f.getUrlParts)(c.browserHistory),o=l.base,i=l.controller,u=l.eId,s="".concat(o,"/").concat(e,"/").concat(i);a?u!==n&&c.browserHistory.push("".concat(s,"/item/").concat(n,"/")):(u!==f.emptyS&&c.browserHistory.push("".concat(s,"/")),r())}else r()}}),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.settings,a=t.alter,r=t.alterSection,l=t.filtered,o=t.filters,u=t.tables,c=t.table,s=t.select,b=t.masterId,A=t.linkField,N=t.fixed,I=t.listIds,T=t.expand,j=t.border,P=t.perm,M=t.dispatch,x=u[c],C=x.item,F=x.entities,D=(0,y.compileAlternatives)(r,k,_,M),R=(0,h.compileActive)(u,c),L=(0,m.getMasterTable)(u,c,A),U=null==L?0:(0,p.editMode)(u,c,L);return i.default.createElement("div",{className:"list-plain"},l&&s===v.DETAILS?null:i.default.createElement("div",null,i.default.createElement(O.default,{table:c,perm:P,select:s,masterTable:L,nItems:I.length,fixed:N,item:C,button:"button medium",onInsert:this.handleInsert}),i.default.createElement(S.default,{table:c,listIds:I,item:C,button:"button medium",alterSection:r,nAlts:k,initial:_,openAll:s==v.DETAILS,expand:T})),I.map(function(t){var r=F[t],l=r.fields,m=r.perm,p=r.workflow,y=r.values,h=(0,v.headEntity)(u,c,t,n),O="".concat(c,"-").concat(t),S=!(0,v.needValues)(F,t),k=D(t),I=k.getAlt,P=k.nextAlt,M=I(a)!==_,x=M?{ref:e.scroll}:f.emptyO,C=S&&(0,d.someEditable)(l,m,p),L=null!=R&&R.has(t),V=0===U?U:U(y);return i.default.createElement("div",{key:t,className:L?"isactive":f.emptyS},M?i.default.createElement("div",x,T?null:i.default.createElement("span",{className:"link head",onClick:e.showHide(c,s,t,!1,P)},i.default.createElement("span",{className:"button small fa fa-angle-up"})),i.default.createElement(g.default,null,i.default.createElement(E.default,{filters:o,tables:u,table:c,eId:t,masterId:b,linkField:A,isactive:L,startMode:V,fixed:N,inhibitFetch:T,border:j}))):i.default.createElement("span",{className:"item-head"},C?i.default.createElement(w.default,{form:O,active:M}):i.default.createElement("span",{className:"fa"}),i.default.createElement("span",{className:"link head",onClick:e.showHide(c,s,t,!0,P)},i.default.createElement("span",{className:"button small fa fa-angle-down"})," ",h)))}))}},{key:"gotoNewItem",value:function(){var e=this.props,t=e.tables,n=e.table,a=e.navItem;if(this.gotoNew){var r=t[n];if(null==r)return;var l=r.lastInserted;null!=l&&(this.gotoNew=!1,this.gotoItem(l))}else null!=a&&this.gotoItem(a)}},{key:"openAll",value:function(){var e=this.props,t=e.alter,n=e.alterSection,a=e.table,r=e.listIds,l=e.expand,o=e.dispatch;l&&(0,v.handleOpenAll)(t,n,k,_,a,r,o)()}},{key:"componentDidMount",value:function(){this.openAll(),this.gotoNewItem()}},{key:"componentDidUpdate",value:function(){this.openAll(),this.gotoNewItem()}}]),t}(),N=(0,f.combineSelectors)(b.getSettings,y.getAltSection),I=(0,u.connect)(N)((0,f.withParams)(A));t.default=I},118:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(37),o=n(7),i=a(n(5));t.default=function(e){var t=e.table,n=e.perm,a=e.select,u=e.masterTable,c=e.nItems,s=e.fixed,f=e.item,d=e.button,m=e.onInsert,p=f[0];return s||null==n||!n.insert||n.needMaster&&a!=o.DETAILS?null:(0,l.applyInsertTemplate)(t,u,c,m)||r.default.createElement(i.default,{tip:"make a new ".concat(p),at:"bottom"},r.default.createElement("span",{className:"fa fa-plus ".concat(d),onClick:m}))}},119:function(e,t,n){"use strict";function a(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(2),o=n(10),i=n(7),u=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),c=(0,l.connect)(o.getAltSection)(function(e){var t=e.alter,n=e.alterSection,l=e.table,o=e.listIds,c=e.item,s=e.button,f=e.nAlts,d=e.initial,m=e.openAll,p=e.expand,v=e.dispatch,y=o.length>0,h=a(c,2),b=h[0],g=h[1],E=1===o.length?b:g,w="".concat(o.length," ").concat(E," ");return r.default.createElement(r.Fragment,null,r.default.createElement("span",null,w),y&&m&&!p?r.default.createElement(u.default,{tip:"open all ".concat(E),at:"bottom"},r.default.createElement("div",{className:"fa fa-angle-double-down ".concat(s),onClick:(0,i.handleOpenAll)(t,n,f,d,l,o,v)})):null,y&&!p?r.default.createElement(u.default,{tip:"close all opened ".concat(E),at:"bottom"},r.default.createElement("div",{className:"fa fa-angle-double-up ".concat(s),onClick:(0,i.handleCloseAll)(t,n,f,d,o,v)})):null)});t.default=c},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSettings=t.default=t.adjust=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),r=n(1);t.adjust=function(e,t){return{type:"setSetting",key:e,value:t}};var l={setSetting:function(e,t){var n=t.key,r=t.value;return(0,a.default)(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,{$set:r}))}},o=(0,r.makeReducer)(l,{provenanceFields:new Set(["creator","dateCreated","modified"]),hideProvenance:!0,longDates:{assessment:{dateSubmitted:!0,dateWithdrawn:!0}},showTooltips:!0});t.default=o;t.getSettings=function(e){return{settings:e.settings}}},17:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n.state={hasError:!1,error:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0,error:e.message})}},{key:"render",value:function(){return this.state.hasError?l.default.createElement("div",{className:"error-boundary"},this.state.error):this.props.children}}]),t}();t.default=o},174:function(e,t,n){"use strict";function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getNotes=t.default=t.display=t.clear=t.notify=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),l=n(1);t.notify=function(e){return{type:"msgs",msgs:e}};t.clear=function(){return{type:"clear"}};t.display=function(e){return{type:"display",onOff:e}};var o={progress:function(e,t){var n=t.desc;return(0,r.default)(e,{messages:{$push:[{kind:"special",text:"still waiting for ".concat(n)}]}})},pending:function(e,t){var n=t.desc,l=t.busy,o=t.extraMsgs;return(0,r.default)(e,{messages:{$push:a(o).concat([{kind:"special",text:"waiting for ".concat(n)}])},busy:{$set:l+1}})},success:function(e,t){var n=t.desc,l=t.busy,o=t.extraMsgs;return(0,r.default)(e,{messages:{$push:a(o).concat([{kind:"info",text:"".concat(n," ok")}])},busy:{$set:l-1},show:{$set:o.some(function(e){return"warning"===e.kind||"error"===e.kind})}})},error:function(e,t){var n=t.desc,l=t.busy,o=t.extraMsgs;return(0,r.default)(e,{messages:{$push:a(o).concat([{kind:"error",text:"".concat(n," failed")}])},busy:{$set:l-1},show:{$set:!0}})}},i={async:function(e,t){var n=t.msgs,a=t.status,r=t.desc,i=e.busy,u=n||l.emptyA,c=o[a];return c?c(e,{extraMsgs:u,desc:r,busy:i}):e},msgs:function(e,t){var n=t.msgs;return(0,r.default)(e,{messages:{$push:n},show:{$set:!0}})},clear:function(e){return(0,r.default)(e,{messages:{$set:l.emptyA},show:{$set:!1}})},display:function(e,t){var n=t.onOff;return(0,r.default)(e,{show:{$set:n}})}},u=(0,l.makeReducer)(i,{messages:l.emptyA,busy:0,show:!1});t.default=u;t.getNotes=function(e){var t=e.notes,n=t.messages,a=t.busy,r=t.show,o=-1,i=l.emptyS;return n.forEach(function(e,t){var n=e.kind;"error"===n?(o=t,i="error"):"warning"===n&&"error"!==i&&(o=t,i="warning")}),{messages:n,busy:a,show:r||i,lastMsg:n.length-1,lastNote:o,lastKind:i}}},175:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changedDoc=t.needDoc=t.getDoc=t.default=t.fetchDoc=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),r=n(51),l=n(1);t.fetchDoc=function(e){var t=e.docDir,n=e.docName,a=e.docExt,l="".concat(t,"/").concat(n,".").concat(a);return(0,r.accessData)({type:"fetchDoc",contentType:"json",path:l,desc:"document ".concat(n)})};var o={fetchDoc:function(e,t){var n=t.path,r=t.data;return null==r?e:(0,a.default)(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,{$set:r}))}},i=(0,l.makeReducer)(o);t.default=i;t.getDoc=function(e,t){var n=e.docs,a=t.docDir,r=t.docName,l=t.docExt;return{text:n["".concat(a,"/").concat(r,".").concat(l)]}};var u=function(e){return null==e.text};t.needDoc=u;t.changedDoc=function(e,t){return(0,l.propsChanged)(e,u,t,["docDir","docName","docExt"])}},198:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.compileOptions=t.getSelect=t.default=t.togglePopUp=t.setPopUp=t.setSearch=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),l=n(1),o=n(8),i=n(7),u={search:l.emptyS,popUp:!1};t.setSearch=function(e,t){return{type:"setSearch",selectTag:e,search:t}};t.setPopUp=function(e,t){return{type:"setPopUp",selectTag:e,onOff:t}};t.togglePopUp=function(e){return{type:"togglePopUp",selectTag:e}};var c={setSearch:function(e,t){var n=t.selectTag,l=t.search;return(0,r.default)(e,a({},n,{$apply:function(e){return(0,r.default)(e||u,{search:{$set:l}})}}))},setPopUp:function(e,t){var n=t.selectTag,l=t.onOff;return(0,r.default)(e,a({},n,{$apply:function(e){return(0,r.default)(e||u,{popUp:{$set:l}})}}))},togglePopUp:function(e,t){var n=t.selectTag,l=e[n],o=null==l||!l.popUp;return(0,r.default)(e,a({},n,{$apply:function(e){return(0,r.default)(e||u,{popUp:{$set:o}})}}))}},s=(0,l.makeReducer)(c,l.emptyO);t.default=s;t.getSelect=function(e){return{select:e.select}};var f=(0,o.memoize)(function(e,t,n,a,r){var o=e[t],u=o.valueLists,c=o.fieldSpecs,s=(u||l.emptyO)[a];if(null==s)return{options:l.emptyA,optionLookup:l.emptyO};var f=c[a].valType,d=(null==n?s:s.filter(function(e){return n.includes(e)})).map(function(n){return{value:n,label:(0,i.repr)(e,t,a,f,!1,null,n,r,", ")}}),m={};return d.forEach(function(e){var t=e.value,n=e.label;m[t]=n}),{options:d,optionLookup:m}},l.emptyO,{debug:"compileOptions"});t.compileOptions=f},199:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.compileSortedData=t.getGrid=t.default=t.turnColumn=t.delColumn=t.addColumn=t.resetSort=void 0;var o=a(n(528)),i=a(n(538)),u=n(8),c=n(1),s=n(7);t.resetSort=function(e){return{type:"resetSort",gridTag:e}};t.addColumn=function(e,t,n){return{type:"addColumn",gridTag:e,column:t,direction:n}};t.delColumn=function(e,t){return{type:"delColumn",gridTag:e,column:t}};t.turnColumn=function(e,t){return{type:"turnColumn",gridTag:e,column:t}};var f={resetSort:function(e,t){return l({},e,r({},t.gridTag,c.emptyA))},addColumn:function(e,t){var n=t.gridTag,a=t.column,o=t.direction;return l({},e,r({},n,(e[n]||c.emptyA).filter(function(e){return e[0]!==a}).concat([[a,o]])))},delColumn:function(e,t){var n=t.gridTag,a=t.column;return l({},e,r({},n,(e[n]||c.emptyA).filter(function(e){return e[0]!==a})))},turnColumn:function(e,t){var n=t.gridTag,a=t.column;return l({},e,r({},n,(e[n]||c.emptyA).map(function(e){return[e[0],e[0]===a?-e[1]:e[1]]})))}},d=(0,c.makeReducer)(f,c.emptyO);t.default=d;t.getGrid=function(e){return{grid:e.grid}};var m=(0,u.memoize)(function(e,t,n,a,r){var l=a.map(function(e){return e[0]}),u=a.map(function(e){return 1===e[1]?"asc":"desc"}),c=e[t].entities,s=p(e,t,r),f=n.map(function(e){return(0,i.default)(c[e].values,s)});return(0,o.default)(f,l,u).map(function(e){return e._id})},c.emptyO);t.compileSortedData=m;var p=function(e,t,n){var a=e[t].fieldSpecs;return function(r,l){if("_id"===l)return r;var o=a[l],i=o.valType,u=o.multiple;return(0,s.repr)(e,t,l,i,u,null,r,n,"|")}}},201:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),l=n(30);t.default=function(e){return r.default.createElement(l.Link,a({},e,{activeClassName:"active"}))}},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(21),r=n(47),l=(0,a.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!0})((0,r.editControl)(!1));t.default=l},208:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(2),i=n(21),u=n(35),c=n(202),s=n(114),f=a(n(574)),d=a(n(575)),m=(0,o.connect)()(function(e){e.alter;var t=e.field,n=e.tables,a=e.table,o=e.eId,m=(e.dispatch,e.allowed),p=e.reset,v=e.submitValues,y=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["alter","field","tables","table","eId","dispatch","allowed","reset","submitValues"]),h=n[a].fieldSpecs[t],b=h.valType,g=h.valid,E=h.multiple;if("string"==typeof b){var w=(0,s.getValType)(b),O=w.component,S=w.type,_=w.props,k=c.validation[g||b],A=c.normalization[g||b];return E?l.default.createElement(i.FieldArray,r({name:t,component:f.default,componentSingle:O},_,{validateSingle:k,normalizeSingle:A,tables:n,table:a,eId:o,type:S,valType:b,rerenderOnEveryChange:!0,reset:p,submitValues:v},y)):l.default.createElement(i.Field,r({name:t,component:O},_,{validate:k,normalize:A,tables:n,table:a,eId:o,type:S,reset:p,submitValues:v},y))}var N=b.allowNew,I=b.popUpIfEmpty,T=b.inactive,j=T?(0,u.compileActive)(n,t):null,P="".concat(a,"-").concat(o,"-").concat(t);return l.default.createElement(i.Field,r({name:t,component:d.default,selectTag:P,field:t,multiple:E,allowNew:N,popUpIfEmpty:I,tables:n,table:a,eId:o,allowed:m,activeItems:j,inactive:T,submitValues:v},y))});t.default=m},209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.type,n=e.dirty;return a.default.createElement("div",{className:"edit-help"},a.default.createElement("div",{className:"help-line"},n?a.default.createElement("div",{className:"help-item"},"Press ",a.default.createElement("span",{className:"help-code"},"ESC")," to cancel"):null,a.default.createElement("div",{className:"help-item"},"Press ",a.default.createElement("span",{className:"help-code"},"TAB")," or click outside this field to save")),"markdown"==t?a.default.createElement("div",{className:"help-line"},a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"["),"link text",a.default.createElement("span",{className:"help-code"},"]("),"url",a.default.createElement("span",{className:"help-code"},")")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"*"),a.default.createElement("i",null,"italic"),a.default.createElement("span",{className:"help-code"},"*")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"**"),a.default.createElement("b",null,"bold"),a.default.createElement("span",{className:"help-code"},"**")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"`"),a.default.createElement("code",null,"code"),a.default.createElement("span",{className:"help-code"},"`")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"# "),a.default.createElement("span",{className:"mdh1"},"Heading1")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"## "),a.default.createElement("span",{className:"mdh2"},"Heading2")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"* "),a.default.createElement("span",{className:"mduli"},"bullet item")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"1. "),a.default.createElement("span",{className:"mdoli"},"numbered item")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"> "),a.default.createElement("span",{className:"mdbq"},"block quote"))):null)}},210:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(2),o=n(1),i=n(23),u=n(9),c=n(46),s=n(7),f=n(10),d=n(15),m=a(n(583)),p=a(n(584)),v=a(n(586)),y=a(n(587)),h=a(n(595)),b=a(n(5)),g=(0,o.combineSelectors)(d.getSettings,f.getAltSection),E=(0,l.connect)(g)(function(e){var t=e.settings,n=e.alter,a=e.alterSection,l=e.filters,d=e.tables,g=e.table,E=e.eId,w=e.masterId,O=e.linkField,S=e.isactive,_=e.startMode,k=e.fixed,A=e.border,N=e.initialValues,I=e.fields,T=e.perm,j=e.workflow,P=e.dispatch,M=e.fieldFragments,x=e.detailFragments;null==M&&(M=(0,u.makeFields)(e)),null==x&&(x=(0,c.makeDetails)(e));var C=(0,c.makeKeepInfo)(x),F=(0,u.someEditable)(I,T,j),D=(0,f.compileAlternatives)(a,2,_,P)("edit"),R=D.getAlt,L=D.nextAlt,U=R(n),V=null==A?o.emptyS:F&&1===U?null==A.edit||A.edit?o.emptyS:"noBorder":null==A.read||A.read?o.emptyS:"noBorder",W=F&&1===U?"edit":o.emptyS,$=(0,s.headEntity)(d,g,E,t);return r.default.createElement("div",{className:"itemRecord ".concat(V," ").concat(W," ").concat(S?"isactive":o.emptyS)},F&&1===U?r.default.createElement(r.Fragment,null,r.default.createElement(h.default,{perm:T,workflow:j,keep:C,fixed:k,button:"button medium",onClick:(0,i.handle)(P,s.delItem,g,E,$)}),r.default.createElement(p.default,{settings:t,tables:d,table:g,eId:E,nextAlt:L,form:"".concat(g,"-").concat(E),initialValues:N,perm:T,masterId:w,linkField:O,fieldFragments:M})):r.default.createElement(r.Fragment,null,F?r.default.createElement(b.default,{tip:"open an edit form for this record",at:"right"},r.default.createElement("span",{className:"button medium fa fa-pencil",onClick:L})):null,r.default.createElement(h.default,{perm:T,workflow:j,keep:C,fixed:k,button:"button medium",onClick:(0,i.handle)(P,s.delItem,g,E,$)}),r.default.createElement(v.default,{settings:t,tables:d,table:g,eId:E,masterId:w,linkField:O,fieldFragments:M})),r.default.createElement(m.default,{settings:t,tables:d,table:g,eId:E,form:"".concat(g,"-").concat(E),initialValues:N,linkField:O,fieldFragments:M}),r.default.createElement(y.default,{alterSection:"list-".concat(g,"-").concat(s.DETAILS),detailFragments:x,filters:l,tables:d,table:g,eId:E}))});t.default=E},211:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=n(1),c=n(23),s=n(46),f=n(24),d=n(7),m=a(n(117)),p=a(n(113)),v=a(n(589)),y=a(n(119)),h=a(n(118)),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"componentWillMount",value:function(){var e=this.props,t=e.tables,n=e.table,a=e.filterTag;(0,e.dispatch)((0,f.initFiltering)(t,n,a))}},{key:"componentWillReceiveProps",value:function(e){var t=e.tables,n=e.table,a=e.filterTag,r=e.filters[n],l=(r=void 0===r?u.emptyO:r)[a],o=e.dispatch,i=this.props,c=i.table,s=i.filterTag;c===n&&s===a||null!=l||o((0,f.initFiltering)(t,n,a))}},{key:"render",value:function(){var e=this.props,t=e.tables,n=e.filters,a=e.table,r=e.navItem,l=e.perm,i=e.select,b=e.masterId,g=e.linkField,E=e.expand,w=e.border,O=e.fixed,S=e.listIds,_=e.mode,k=e.compact,A=e.title,N=e.filterTag,I=e.gridTag,T=e.topLevel,j=e.dispatch,P=(0,f.computeFiltering)(t,n,a,N,S),M=P.filteredIds,x=P.filteredAmountOthers,C=P.amounts;if(null==M)return o.default.createElement("div",null);var F=k?"compact":T?"outer":u.emptyS,D=t[a].item,R=D[1],L="list-".concat(a,"-").concat(i),U=(0,s.getMasterTable)(t,a,g);return o.default.createElement("div",{className:"list-filter ".concat(F)},i===d.DETAILS?o.default.createElement("div",null,o.default.createElement(h.default,{table:a,perm:l,select:i,masterTable:U,nItems:S.length,fixed:O,item:D,button:"button medium",onInsert:(0,c.handle)(j,d.insertItem,a,i,b,g)}),o.default.createElement(y.default,{table:a,listIds:S,item:D,button:"button medium",alterSection:L,nAlts:2,initial:0,openAll:!0,expand:E})):null,o.default.createElement("div",{className:"filters ".concat(F)},k?null:o.default.createElement("p",null,"Total ",o.default.createElement("span",{className:"good-o"},S.length)),o.default.createElement(v.default,{filters:n,tables:t,table:a,filterTag:N,listIds:S,filteredAmount:M.length,filteredAmountOthers:x,amounts:C,compact:k})),o.default.createElement("div",{className:"list ".concat(F)},"list"===_?o.default.createElement(m.default,{alterSection:L,filtered:!0,filters:n,tables:t,table:a,navItem:r,listIds:M,perm:l,select:i,title:A,masterId:b,linkField:g,expand:E,border:w,fixed:O}):"grid"===_?o.default.createElement(p.default,{alterSection:L,filtered:!0,filters:n,tables:t,table:a,navItem:r,listIds:M,perm:l,select:i,gridTag:I,masterId:b,linkField:g,fixed:O}):'unknown display mode "'.concat(_,'" for ').concat(R)))}}]),t}(),g=(0,i.connect)()(b);t.default=g},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(1);t.default=function(e){var t=e.subTotal,n=e.total,l=e.className;return a.default.createElement("span",{className:l},null==t?r.emptyS:"".concat(t),null==n||null==t?r.emptyS:" of ",a.default.createElement("strong",null,null==n?r.emptyS:"".concat(n)))}},213:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),i=n(2),u=n(1),c=n(24),s=n(10),f=a(n(591)),d=a(n(592)),m=a(n(212)),p=(0,i.connect)(s.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.tables,i=e.table,p=e.filterTag,v=e.filterSetting,y=e.filterId,h=e.filterField,b=e.filterRelField,g=e.filterLabel,E=e.listIds,w=e.filteredAmount,O=e.filteredAmountOthers,S=e.amounts,_=e.maxCols,k=e.expanded,A=e.compact,N=e.dispatch,I=(0,c.compileValues)(a,i,p,E,h,b);if(null==Object.keys(I).length)return o.default.createElement("div",{className:"facet"},o.default.createElement("p",null," -no facets "));var T=k?0:1,j=(0,s.compileAlternatives)(n,2,T,N)("expand"),P=j.getAlt,M=j.nextAlt,x=P(t),C=A?u.emptyO:{style:{flexBasis:"".concat(94/_,"%")}},F=A?"right":"down",D=A?"left":"up";return o.default.createElement("div",{className:"facetFilter ".concat(A?"compact":u.emptyS)},o.default.createElement("div",{className:"facetHead ".concat(A?"compact":u.emptyS)},o.default.createElement(d.default,{table:i,filterId:y,filterSetting:v,filterTag:p})," ",g," ",A?null:o.default.createElement(m.default,{subTotal:w,total:O,className:"facet-stat-all"})," ",o.default.createElement("span",{className:"button small fa fa-angle-".concat(0===x?D:F),onClick:M})),0===x?o.default.createElement("div",{className:"facet-container ".concat(A?"compact":u.emptyS)},Object.entries(I).map(function(e){var t=l(e,2),n=t[0],a=t[1];return o.default.createElement("div",r({key:n,className:"facet-row ".concat(A?"compact":u.emptyS)},C),o.default.createElement(f.default,{className:"facet-value ".concat(A?"compact":u.emptyS),table:i,filterSetting:v,filterTag:p,filterId:y,valueId:n,valueRep:a}),A?null:o.default.createElement(m.default,{className:"facet-stat",subTotal:S[n]}))})):o.default.createElement("div",null))});t.default=p},214:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.splat;return a.default.createElement("h1",null,"404: ",a.default.createElement("code",null,t)," not found on this site.")}},215:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=a(n(0)),l=n(219),o=n(30),i=n(7),u=a(n(446)),c=a(n(544)),s=a(n(549)),f=a(n(551)),d=a(n(596)),m=a(n(214)),p=a(n(17));(0,l.render)(r.default.createElement(u.default,null,r.default.createElement(p.default,null,r.default.createElement(o.Router,{history:o.browserHistory},r.default.createElement(o.Redirect,{from:"/about",to:"/docs/about.md"}),r.default.createElement(o.Redirect,{from:"/docs/about",to:"/docs/about.md"}),r.default.createElement(o.Redirect,{from:"/about.md",to:"/docs/about.md"}),r.default.createElement(o.Redirect,{from:"/login",to:"/docs/about.md"}),r.default.createElement(o.Redirect,{from:"/logout",to:"/docs/about.md"}),r.default.createElement(o.Redirect,{from:"/slogout",to:"/docs/about.md"}),r.default.createElement(o.Route,{path:"/",component:c.default},r.default.createElement(o.IndexRoute,{component:c.default}),r.default.createElement(o.IndexRedirect,{to:"/docs/about.md"}),r.default.createElement(o.Route,{path:"docs/:docFile",component:d.default}),r.default.createElement(o.Route,{path:"tech/docs/gen/:docFile",component:d.default}),r.default.createElement(o.Route,{path:"tech/docs/:docFile",component:d.default}),r.default.createElement(o.Route,{path:"data",component:s.default},r.default.createElement(o.Route,{path:":table"},r.default.createElement(o.Route,{path:"mylist(/item/:eId)",component:f.default,select:i.MYIDS,mode:"list"}),r.default.createElement(o.Route,{path:"list(/item/:eId)",component:f.default,select:i.ALLIDS,mode:"list"}),r.default.createElement(o.Route,{path:"grid(/item/:eId)",component:f.default,select:i.ALLIDS,mode:"grid"}),r.default.createElement(o.Route,{path:"filter(/item/:eId)",component:f.default,select:i.ALLIDS,mode:"list",filtered:!0})))),r.default.createElement(o.Route,{path:"*",component:m.default})))),document.getElementById("body"))},24:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.testAllChecks=t.makeTag=t.computeFiltering=t.compileValues=t.getFilters=t.default=t.initFiltering=t.changeFacetAll=t.changeFacet=t.changeFulltext=void 0;var l=function(e){return e&&e.__esModule?e:{default:e}}(n(176)),o=n(8),i=n(1),u=n(7);t.changeFulltext=function(e,t,n,a){return{type:"fulltext",table:e,filterTag:t,filterId:n,data:a}};t.changeFacet=function(e,t,n,a,r){return{type:"facet",table:e,filterTag:t,filterId:n,data:[a,r]}};t.changeFacetAll=function(e,t,n,a){return{type:"facetAll",table:e,filterTag:t,filterId:n,data:a}};t.initFiltering=function(e,t,n){var a=e[t];return{type:"initFiltering",tables:e,table:t,filterTag:n,fieldIds:f(a)}};var c={initFiltering:function(e,t){var n=t.tables,a=t.table,r=t.filterTag,l=t.fieldIds,o=e[a],u=p(n,a,void 0===o?{}:o,r,l);return(0,i.updateAuto)(e,[a,r],{$set:u})},fulltext:function(e,t){var n=t.table,a=t.filterTag,r=t.filterId,l=t.data;return(0,i.updateAuto)(e,[n,a,r],{$set:l})},facetAll:function(e,t){var n=t.table,a=t.filterTag,r=t.filterId,l=t.data,o=e[n][a][r],u={};return Object.keys(o).forEach(function(e){u[e]=l}),(0,i.updateAuto)(e,[n,a,r],{$set:u})},facet:function(e,t){var n=t.table,a=t.filterTag,l=t.filterId,o=r(t.data,2),u=o[0],c=o[1];return(0,i.updateAuto)(e,[n,a,l,u],{$set:c})}},s=(0,i.makeReducer)(c);t.default=s;t.getFilters=function(e){return{filters:e.filters}};var f=(0,o.memoize)(function(e){if(null==e)return i.emptyO;var t=e.valueLists,n=e.fields,r=e.filterList,o=e.fieldSpecs;if(null==r)return i.emptyO;var u=r.filter(function(e){return n[e.field]}).filter(function(e){return"Fulltext"!==e.type}).map(function(e){return e.field}),c=u.filter(function(e){return null==t[e]});return a({},(0,l.default)(t,function(e,t){return u.includes(t)}),c.length?h(e,c,o):i.emptyO)},i.emptyO,{debug:"compileAllFieldIds"}),d=(0,o.memoize)(function(e,t,n){if(null==e)return i.emptyO;var r=e.valueLists,o=e.fields,c=e.filterList,s=e.fieldSpecs;if(null==c)return i.emptyO;var f=c.filter(function(e){return o[e.field]}).filter(function(e){return"Fulltext"!==e.type}).map(function(e){return e.field}),d=t.startsWith(u.DETAILS),m=f.filter(function(e){return null==r[e]});return d?y(e,n,f,s):a({},(0,l.default)(r,function(e,t){return f.includes(t)}),m.length?y(e,n,m,s):i.emptyO)},i.emptyO,{debug:"compileFieldIds"}),m=(0,o.memoize)(function(e,t,n,a,r,l){var o=e[t];if(null==o)return i.emptyA;var u=o.fieldSpecs,c=d(o,n,a)[r];return b(e,u,c,r,l)},i.emptyO,{debug:"compileValues"});t.compileValues=m;var p=(0,o.memoize)(function(e,t,n,a,r){var l=e[t];if(null==l)return i.emptyO;var o=l.fields,u=l.filterList;if(null==u)return i.emptyO;var c=(n||i.emptyO)[a],s=void 0===c?i.emptyO:c,f={};return u.filter(function(e){return o[e.field]}).forEach(function(t,n){var a=s[n];if("Fulltext"===t.type)null==a&&(f[n]=i.emptyS);else{var o=a||i.emptyO,u={},c=t.field,d=t.relField,m=r[c];if(d)for(var p=l.fieldSpecs,v=b(e,p,m,c,d),y=Object.keys(v),h=0;h<y.length;h++){var g=y[h];u[g]=null==o[g]||o[g]}else m.forEach(function(e){u[e]=null==o[e]||o[e]});u[i.emptyS]=null==o[i.emptyS]||o[i.emptyS],Object.keys(u).length&&(f[n]=u)}}),f},i.emptyO,{debug:"initFilterSettings"}),v=(0,o.memoize)(function(e,t,n,a,l){var o=e[n];if(null==o)return i.emptyO;var u=o.entities,c=o.fields,s=o.fieldSpecs,f=o.filterList;if(null==f)return{filteredIds:l};var m=t[n],p=(void 0===m?i.emptyO:m)[a];if(null==p)return i.emptyO;var v=d(o,a,l),y=f.filter(function(e){return c[e.field]}),h={},b={};y.forEach(function(t,n){!function(t,n){var a=p[n],r=t.field,l=t.relField,o=s[r],i="Fulltext"===t.type?w:O;h[n]=i(e,r,l,o,a)}(t,n),b[n]=[]});var g=[],E=function(e){var t=u[e],n=null,a=!0,l=!1;Object.entries(h).forEach(function(e){var o=r(e,2),i=o[0],u=o[1];if(!l){u(t)||(a=!1,null===n?n=i:l=!0)}}),l||(a?(g.push(e),y.forEach(function(t,n){b[n].push(e)})):b[n].push(e))},_=!0,k=!1,A=void 0;try{for(var N,I=l[Symbol.iterator]();!(_=(N=I.next()).done);_=!0){E(N.value)}}catch(e){k=!0,A=e}finally{try{_||null==I.return||I.return()}finally{if(k)throw A}}var T={};y.forEach(function(t,n){var a=t.field,r=t.relField,l=t.type;T[n]="Fulltext"===l?null:S(e,a,r,s,v[a],b[n],u)});var j={};return Object.entries(b).forEach(function(e){var t=r(e,2),n=t[0],a=t[1];j[n]=a.length}),{filteredIds:g,filteredAmountOthers:j,amounts:T}},i.emptyO,{debug:"computeFiltering"});t.computeFiltering=v;var y=(0,o.memoize)(function(e,t,n,a){var r={},l=e.entities,o=t.map(function(e){return l[e].values}),i=!0,u=!1,c=void 0;try{for(var s,f=n[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=a[d].multiple,p=new Set,v=!0,y=!1,h=void 0;try{for(var b,g=o[Symbol.iterator]();!(v=(b=g.next()).done);v=!0){var E=b.value[d];if(null!=E)if(m){var w=!0,O=!1,S=void 0;try{for(var _,k=E[Symbol.iterator]();!(w=(_=k.next()).done);w=!0){var A=_.value;p.add(A)}}catch(e){O=!0,S=e}finally{try{w||null==k.return||k.return()}finally{if(O)throw S}}}else p.add(E)}}catch(e){y=!0,h=e}finally{try{v||null==g.return||g.return()}finally{if(y)throw h}}r[d]=Array.from(new Set(p))}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}return r},i.emptyO,{debug:"gatherIds"}),h=(0,o.memoize)(function(e,t,n){var a={},r=e.entities,l=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){for(var s=u.value,f=n[s].multiple,d=new Set,m=Object.values(r),p=0;p<m.length;p++){var v=m[p].values[s];if(null!=v)if(f){var y=!0,h=!1,b=void 0;try{for(var g,E=v[Symbol.iterator]();!(y=(g=E.next()).done);y=!0){var w=g.value;d.add(w)}}catch(e){h=!0,b=e}finally{try{y||null==E.return||E.return()}finally{if(h)throw b}}}else d.add(v)}a[s]=Array.from(new Set(d))}}catch(e){o=!0,i=e}finally{try{l||null==c.return||c.return()}finally{if(o)throw i}}return a},i.emptyO,{debug:"gatherAllIds"}),b=(0,o.memoize)(function(e,t,n,a,r){var l=t[a].valType;if(null==n)return i.emptyO;var o=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},i.emptyS,"-none-");if("string"==typeof l)n.forEach(function(e){o[e]=e});else{var c=l.relTable;if(null==r)n.forEach(function(t){o[t]=(0,u.headEntity)(e,c,t)});else{var s=e[c].entities;Array.from(new Set(n.map(function(e){return s[e].values[r]}))).sort().forEach(function(e){o[e]=e})}}return o},i.emptyO,{debug:"gatherValues"});t.makeTag=function(e,t,n){return null==t?e:"".concat(e,"-").concat(t,"-").concat(n)};var g=(0,o.memoize)(function(e){return function(t,n,a){return t[n].entities[a].values[e]}},i.emptyO),E=function(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.valType,o=t.multiple;if("string"==typeof l)n=o?a?function(e){return null==e?i.emptyS:e.join(" ")}:function(e){return null==e?i.emptyA:e}:a?function(e){return null==e?i.emptyS:e}:function(e){return null==e?i.emptyA:[e]};else{var c=l.relTable,s=r?g(r):u.headEntity;n=o?a?function(t){return null==t?i.emptyS:t.map(function(t){return s(e,c,t).join(" ")})}:function(t){return null==t?i.emptyA:null==r?t:s(e,c,t)}:a?function(t){return null==t?i.emptyS:s(e,c,t)}:function(t){return null==t?i.emptyA:null==r?[t]:[s(e,c,t)]}}return n},w=(0,o.memoize)(function(e,t,n,a,r){var l=E(e,a,!0),o=(r||i.emptyS).toLowerCase();return null==o||o===i.emptyS?function(){return!0}:function(e){var n=e.values[t],a=l(n);return null!=a&&-1!==a.toLowerCase().indexOf(o)}},i.emptyO,{debug:w}),O=(0,o.memoize)(function(e,t,n,a,r){var l=E(e,a,!1,n);return 0===(r||i.emptyO).size?function(){return!1}:function(e){var n=e.values[t],a=l(n);if(0===a.length)return r[i.emptyS];var o=!0,u=!1,c=void 0;try{for(var s,f=a[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var d=s.value;if(r[d])return!0}}catch(e){u=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}return!1}},i.emptyO,{debug:O}),S=(0,o.memoize)(function(e,t,n,a,r,l,o){var u=a[t],c=E(e,u,!1,n),s={};if(s[i.emptyS]=0,n)for(var f=b(e,a,r,t,n),d=Object.keys(f),m=0;m<d.length;m++){var p=d[m];s[p]=0}else r.forEach(function(e){s[e]=0});var v=!0,y=!1,h=void 0;try{for(var g,w=l[Symbol.iterator]();!(v=(g=w.next()).done);v=!0){var O=c(o[g.value].values[t]);if(0===O.length)s[i.emptyS]+=1;else{var S=!0,_=!1,k=void 0;try{for(var A,N=O[Symbol.iterator]();!(S=(A=N.next()).done);S=!0){var I=A.value;s[I]+=1}}catch(e){_=!0,k=e}finally{try{S||null==N.return||N.return()}finally{if(_)throw k}}}}}catch(e){y=!0,h=e}finally{try{v||null==w.return||w.return()}finally{if(y)throw h}}return s},i.emptyO,{debug:"countFacets"});t.testAllChecks=function(e){var t=!0,n=!0;if(null==e)return{allTrue:t,allFalse:n};for(var a=Object.entries(e),r=0;r<a.length;r++)a[r][1]?n=!1:t=!1;return{allTrue:t,allFalse:n}}},35:function(e,t,n){"use strict";function a(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.assessmentScore=t.compileActive=t.loadExtra=t.TYPE_FIELD=t.TYPE_TABLE=t.CRITERIA_TABLE=t.PACKAGE_TABLE=void 0;var r=n(8),l=n(1),o=n(202),i="package";t.PACKAGE_TABLE=i;var u="criteria";t.CRITERIA_TABLE=u;var c="typeContribution";t.TYPE_TABLE=c;var s="typeContribution";t.TYPE_FIELD=s;t.loadExtra={contrib:[["package"],["criteria"],["typeContribution"]]};var f=(0,r.memoize)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if([e,t,n].some(function(e){return null==e}))return r?null:l.emptyO;var c=new Set,f=new Set,d=new Set,m=Date.now();return Object.entries(e).forEach(function(e){var t=a(e,2),n=t[0],r=t[1].values,i=r.startDate,u=r.endDate,s=r.typeContribution,d=(0,o.getDateTime)(i),p=(0,o.getDateTime)(u),v=null==d,y=null==p;v&&y||(v||d<m)&&(y||m<p)&&(c.add(n),(s||l.emptyA).forEach(function(e){return f.add(e)}))}),Object.entries(n).forEach(function(e){var t=a(e,2),n=t[0],r=t[1].values[i];c.has(r)&&d.add(n)}),r?r===s?f:r===i?c:r===u?d:null:{activeIdsPkg:Array.from(c).map(function(t){return e[t].values}).sort((0,o.sortTimeInterval)("startDate","endDate")).map(function(e){return e._id}),activeIdsTyp:Array.from(f).map(function(e){return t[e].values}).sort((0,o.sortStringTemplate)(function(e){return"".concat(e.mainType||l.emptyS," / ").concat(e.subType||l.emptyS)})).map(function(e){return e._id}),activeIdsCri:Array.from(d).map(function(e){return n[e].values}).sort((0,o.sortStringTemplate)(function(e){return e.criterion})).map(function(e){return e._id})}},l.emptyO,{debug:"compileActiveItems"});t.compileActive=function(e,t){if([i,u,c].some(function(t){return null==e[t]}))return t?null:l.emptyO;var n=e[i].entities,a=e[u].entities,r=e[c].entities;return f(n,r,a,t)};var d=(0,r.memoize)(function(e,t){var n=e.criteriaEntry,a=(n=void 0===n?l.emptyO:n).entities,r=e.score,o=(r=void 0===r?l.emptyO:r).entities,i=Object.keys(a).filter(function(e){return a[e].values.assessment==t}).map(function(e){var t=a[e].values,n=t.criteria,r=t.score,i=o[r],u=(i=void 0===i?l.emptyO:i).values,c=(u=void 0===u?l.emptyO:u).score,s=void 0===c?0:c,f=(0,l.max)(Object.keys(o).filter(function(e){return o[e].values.criteria==n}).map(function(e){return o[e].values.score}));return{criteria:n,score:s,maxScore:f}}),u=(0,l.sum)(i.map(function(e){return e.maxScore})),c=i.length,s=i.filter(function(e){return e.score>=0}),f=(0,l.sum)(s.map(function(e){return e.maxScore})),d=(0,l.sum)(s.map(function(e){return e.score})),m=s.length;return{overall:0==f?0:Math.round(100*d/f),relevantScore:d,relevantMax:f,allMax:u,relevantN:m,allN:c}},l.emptyO);t.assessmentScore=d},446:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(2),o=a(n(447)),i=a(n(539));t.default=function(e){var t=e.children;return r.default.createElement(l.Provider,{store:o.default},r.default.createElement(i.default,null,t))}},447:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(52),l=a(n(448)),o=n(21),i=a(n(15)),u=a(n(101)),c=a(n(51)),s=a(n(174)),f=a(n(175)),d=a(n(7)),m=a(n(102)),p=a(n(24)),v=a(n(10)),y=a(n(198)),h=a(n(199)),b=function(e){return(0,r.createStore)(e,(0,r.applyMiddleware)(l.default))}((0,r.combineReducers)({settings:i.default,win:u.default,server:c.default,notes:s.default,docs:f.default,tables:d.default,me:m.default,filters:p.default,alter:v.default,form:o.reducer,select:y.default,grid:h.default}));t.default=b},5:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),u=n(2),c=n(1),s=n(15),f={top:"bottom",bottom:"top",left:"right",right:"left"},d={top:["left","right"],bottom:["left","right"],left:["top","bottom"],right:["top","bottom"]},m={top:function(e,t){return{left:e.left+(e.width-t.width>>1),top:e.top-t.height}},bottom:function(e,t){return{left:e.left+(e.width-t.width>>1),top:e.top+e.height}},left:function(e,t){return{left:e.left-t.width,top:e.top+(e.height-t.height>>1)}},right:function(e,t){return{left:e.left+e.width,top:e.top+(e.height-t.height>>1)}}},p={top:function(e,t,n){return n.top<0},bottom:function(e,t,n){return n.top+t.height>e.height},left:function(e,t,n){return n.left<0},right:function(e,t,n){return n.left+t.width>e.width}},v={top:function(e,t,n){n.top=0},bottom:function(e,t,n){n.top=e.height-t.height},left:function(e,t,n){n.left=0},right:function(e,t,n){n.left=e.width-t.width}},y=function(e){return function(t,n,a,r){var l=m[e](n,a),i=e,u=l;r&&p[e](t,a,l)&&(i=f[e],u=m[i](n,a));var c=!0,s=!1,y=void 0;try{for(var h,b=d[i][Symbol.iterator]();!(c=(h=b.next()).done);c=!0){var g=h.value;p[g](t,a,u)&&v[g](t,a,u)}}catch(e){s=!0,y=e}finally{try{c||null==b.return||b.return()}finally{if(s)throw y}}return o({at:i},u)}},h=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return l(a,(n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.storeTarget=function(e){a.target=e},a.storeTip=function(e){a.tip=e},a.storeArrow=function(e){a.arrow=e},a.handlePositioning=function(){var e=a,t=e.props,n=t.at,r=void 0===n?"top":n,l=t.fixed,o=void 0!==l&&l,i=t.settings.showTooltips,u=e.target,c=e.tip,s=e.arrow;if(i&&!o){for(var d=document.documentElement,m=u.getBoundingClientRect(),p=c.getBoundingClientRect(),v=s.getBoundingClientRect(),h={width:d.clientWidth,height:d.clientHeight},b=y(r)(h,m,p,!0),g=b.at,E=y(g)(h,m,v,!1),w=Object.keys(f),O=0;O<w.length;O++){var S=w[O];s.classList.remove("toolarrow-".concat(S))}s.classList.add("toolarrow-".concat(g)),c.style.top=b.top+window.scrollY,c.style.left=b.left+window.scrollX,s.style.top=E.top+window.scrollY,s.style.left=E.left+window.scrollX}},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.settings.showTooltips,n=e.children,a=e.tip,r=e.at,l=e.focusOnly,o=e.className,u=void 0===o?c.emptyS:o,s=e.classTip,f=void 0===s?c.emptyS:s,d=e.classArrow,m=void 0===d?c.emptyS:d;return t?i.default.createElement(i.Fragment,null,i.default.createElement("span",{ref:this.storeTarget,className:"".concat(u," tooltipped focus ").concat(l?c.emptyS:"hover"),onMouseOver:this.handlePositioning,onFocus:this.handlePositioning},n),i.default.createElement("span",null,i.default.createElement("span",{ref:this.storeTip,className:"tooltip ".concat(f)},a),i.default.createElement("span",{ref:this.storeArrow,className:"toolarrow toolarrow-".concat(r," ").concat(m)}))):n}}]),t}(),b=(0,u.connect)(s.getSettings)(h);t.default=b},51:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.accessData=void 0,n(260);var l=n(21),o=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),i=n(1),u=function(e,t,n){return{type:"async",status:"error",path:e,desc:t,msgs:n}};t.accessData=function(e){return function(t,n){var a=e.path,o=e.contentType,i=e.desc,c=e.sendData;if(!(n().server[a]>0)){t({type:"async",status:"pending",path:a,desc:i});var s={credentials:"same-origin"};null!=c&&(s=r({},s,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}));var f="".concat("/api/").concat(o).concat(a);return fetch(f,s).then(function(e){return e.ok?e.json():{good:!1,msgs:[{kind:"error",text:"No valid response from the server to ".concat(f)}]}}).then(function(n){var o=n.msgs,c=n.good,s=n.data;if(c?(t({type:"async",status:"success",path:a,desc:i,msgs:o}),t(r({},e,{data:s}))):t(u(a,i,o)),s&&s.diags&&Object.keys(s.diags).length>0)throw new l.SubmissionError(s.diags)}).catch(function(e){if(e instanceof l.SubmissionError)throw e;t(u(a,i,[{kind:"error",text:e.toString()}]))})}t({type:"async",status:"progress",path:a,desc:i})}};var c={progress:function(e,t){var n=t.path;return(0,o.default)(e,a({},n,{$apply:function(e){return e+1}}))},pending:function(e,t){var n=t.path;return(0,o.default)(e,a({},n,{$set:1}))},success:function(e,t){var n=t.path;return(0,o.default)(e,a({},n,{$set:0}))},error:function(e,t){var n=t.path;return(0,o.default)(e,a({},n,{$set:-1}))}},s={async:function(e,t){var n=t.status,a=t.path,r=c[n];return r?r(e,{path:a}):e}},f=(0,i.makeReducer)(s);t.default=f},539:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(0),i=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(n(540)),c=n(101),s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return l(a,(n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.newWindowSize=(0,u.default)(function(){(0,a.props.dispatch)((0,c.changeWinDim)())},1e3),n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"render",value:function(){var e=this.props.children;return o.Children.only(e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.newWindowSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.newWindowSize)}}]),t}(),f=(0,i.connect)()(s);t.default=f},544:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(2),o=n(101),i=a(n(17)),u=a(n(545)),c=a(n(546)),s=a(n(547)),f=a(n(5)),d=a(n(548)),m=(0,l.connect)(o.getWinDim)(function(e){var t=e.children,n=e.win,a=n.height,l=n.width,o="".concat(l," x ").concat(a);return r.default.createElement(i.default,null,r.default.createElement(i.default,null,r.default.createElement(s.default,null)),r.default.createElement("div",{className:"topnavbar"},r.default.createElement(f.default,{tip:"information about this site",at:"right"},r.default.createElement("span",{className:"logo-container"},r.default.createElement("img",{src:"/static/images/inkind_logo_small.png"}))),r.default.createElement(i.default,null,r.default.createElement(c.default,null)),r.default.createElement(d.default,null),r.default.createElement(f.default,{tip:"current window size: ".concat(o," pixels"),at:"bottom"},r.default.createElement("span",{className:"resize"},o)),r.default.createElement(i.default,null,r.default.createElement(u.default,null))),r.default.createElement(i.default,null,t))});t.default=m},545:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(2),i=n(7),u=n(102),c=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"render",value:function(){var e=this.props.me;return l.default.createElement("span",{className:"login"},e.eppn?l.default.createElement(l.Fragment,null,l.default.createElement(c.default,{tip:"you are logged in",at:"bottom"},l.default.createElement("span",{className:"fa fa-user"}),l.default.createElement("strong",null,(0,i.presentUser)(e))," ",l.default.createElement("em",null,e.groupDesc||"not authenticated")),l.default.createElement(c.default,{tip:"log out of this tool",at:"bottom"},l.default.createElement("a",{href:"/logout",className:"control fa fa-user-times"})),l.default.createElement(c.default,{tip:"sign out from DARIAH",at:"top"},l.default.createElement("a",{href:"/slogout",className:"control fa fa-users"}))):l.default.createElement(c.default,{tip:"click to log in",at:"bottom"},l.default.createElement("a",{href:"/login",className:"control"},l.default.createElement("strong",{className:"fa fa-user-plus"}),l.default.createElement("strong",null," login"))))}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)((0,u.fetchMe)({type:"fetchMe",contentType:"db",path:"/who/ami",desc:"me"}))}}]),t}(),f=(0,o.connect)(u.getMe)(s);t.default=f},546:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=a(n(201));t.default=function(){return r.default.createElement("span",{className:"toplinks"},r.default.createElement(l.default,{to:"/docs/about.md"},"Home"),r.default.createElement(l.default,{to:"/data"},"Registry"),r.default.createElement("a",{href:"https://github.com/Dans-labs/dariah/wiki",target:"_blank",rel:"noopener noreferrer"},"Help"),r.default.createElement("a",{href:"https://github.com/Dans-labs/dariah/wiki/Help",target:"_blank",rel:"noopener noreferrer"},"About"),r.default.createElement("a",{href:"https://dans-labs.github.io/dariah/",target:"_blank",rel:"noopener noreferrer"},"Tech doc"))}},547:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(2),i=n(1),u=n(174),c=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),s=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n.refDom=function(e){return function(t){t&&(n.dom[e]=t)}},n.handleBox=function(){var e=n.props,t=e.show;(0,e.dispatch)((0,u.display)(!t))},n.handleHide=function(){(0,n.props.dispatch)((0,u.display)(!1))},n.handleClear=function(){(0,n.props.dispatch)((0,u.clear)())},n.dom={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.messages,a=t.lastNote,r=t.lastKind,o=t.busy,u=t.show,s=a>-1,f=new Array(o<0?0:o).fill(1);return l.default.createElement(l.Fragment,null,l.default.createElement(c.default,{tip:"click circle to show/hide notifications and progress messages",at:"left",fixed:!0,classTip:"msg-spinner-tip",classArrow:"msg-spinner-arrow"},l.default.createElement("div",{className:"msg-spinner"},l.default.createElement("span",{className:s?"spin-".concat(r):"spin-ok"},f.map(function(e,t){return l.default.createElement("span",{key:t,className:"msg-dot fa fa-caret-left"})}),l.default.createElement("span",{className:"fa fa-".concat(0===o?"circle-o":"spinner fa-spin"),onClick:this.handleBox})))),u?l.default.createElement("div",{ref:this.refDom("notbox"),className:"msg-box",onClick:this.handleHide},n.map(function(t,n){return l.default.createElement("div",{key:n,ref:e.refDom("m".concat(n)),className:"msg-line ".concat([t.kind],"-o ").concat("info"!==t.kind?"msg-high":i.emptyS)},t.text)}),l.default.createElement("div",{className:"msg-dismiss"},"(click panel to hide)"),n.length>1?l.default.createElement("div",{className:"msg-trash"},l.default.createElement("a",{href:"#",className:"control",onClick:this.handleClear},l.default.createElement("span",{className:"control fa fa-trash"})," clear messages")):null):null)}},{key:"componentDidMount",value:function(){this.setView()}},{key:"componentDidUpdate",value:function(){this.setView()}},{key:"setView",value:function(){this.props.show&&this.setScroll()}},{key:"setScroll",value:function(){if(this.props.show){var e=this.props,t=e.lastMsg,n=e.lastNote;n>-1?this.dom["m".concat(n)].scrollIntoView():t>-1&&this.dom["m".concat(t)].scrollIntoView()}}}]),t}(),f=(0,o.connect)(u.getNotes)(s);t.default=f},548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(2),l=n(23),o=n(15),i=(0,r.connect)(o.getSettings)(function(e){var t=e.settings,n=e.dispatch,r=t.showTooltips,i=void 0!==r&&r;return a.default.createElement("span",{className:"tooltips-".concat(i?"on":"off")},a.default.createElement("input",{type:"checkbox",checked:i,onChange:(0,l.handlE)(n,o.adjust,"showTooltips",!i)}),"tooltips")});t.default=i},549:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(2),o=n(1),i=n(102),u=a(n(17)),c=a(n(201)),s=a(n(550)),f=a(n(5)),d={public:1,auth:2,office:3,system:4,root:5},m=function(e,t){return d[e]>=d[t]},p=[{path:"/data/contrib",name:"Contributions",forWhom:"public",details:[{path:"filter",name:"All items",forWhom:"public",hint:"Overview of all contributions"},{path:"mylist",name:"My items",forWhom:"auth",hint:"My contribution"},{component:r.default.createElement(s.default,{key:"newcontrib",table:"contrib",thing:"contribution"}),forWhom:"auth",hint:"Start here to add a contribution"}]},{path:"/data/assessment",name:"Assessments",forWhom:"auth",details:[{path:"filter",name:"All items",forWhom:"auth",hint:"overview of all assessments"},{path:"mylist",name:"My items",forWhom:"auth",hint:"Look here to see the status of your assessments"}]},{path:"/data/package",name:"Packages",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"the setup of contribution types and criteria"},{path:"grid",name:"table",forWhom:"office",hint:"the setup of contribution types and criteria"}]},{path:"/data/typeContribution",name:"Contribution types",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"overview of all contribution types"},{path:"grid",name:"table",forWhom:"office",hint:"overview of all contribution types"}]},{path:"/data/criteria",name:"Criteria",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"overview of all criteria"},{path:"grid",name:"table",forWhom:"office",hint:"overview of all criteria"}]},{path:"/data/score",name:"Scores",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"overview of all scores"},{path:"grid",name:"table",forWhom:"office",hint:"overview of all scores"}]},{path:"/data/user",name:"Users",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"User management"},{path:"grid",name:"table",forWhom:"office",hint:"User management"}]},{path:"/data/country",name:"Countries",forWhom:"office",details:[{path:"filter",name:"list",forWhom:"office",hint:"Country membership management"},{path:"grid",name:"table",forWhom:"office",hint:"Country membership management"}]}],v=(0,l.connect)(i.getMe)((0,o.withParams)(function(e){var t=e.me,n=e.table,a=e.routes,l=e.children;return r.default.createElement("div",{className:"sub-app"},r.default.createElement("div",{className:"subnavbar"},r.default.createElement(u.default,null,p.map(function(e){return function(e,t){var n=t.path,a=t.name,l=t.forWhom,i=t.details;return m(e.groupRep,l)?r.default.createElement("div",{key:n,className:"section"},r.default.createElement(c.default,{to:n,className:"head"},a),r.default.createElement("div",{className:"subsection"},(i||o.emptyA).filter(function(t){var n=t.forWhom;return m(e.groupRep,n)}).map(function(e){var t=e.component,a=e.path,l=e.name,o=e.hint;return null==t?r.default.createElement(f.default,{key:a,tip:o,at:"right"},r.default.createElement(c.default,{to:"".concat(n,"/").concat(a)},l)):t}))):null}(t,e)}))),r.default.createElement("div",{className:"submaterial"},r.default.createElement(u.default,null,"data"===a[1].path&&1===a.length?"All tables":"data"===a[1].path&&2===a.length?r.default.createElement(r.Fragment,null,r.default.createElement("h3",null,"Registry"),r.default.createElement("p",null,"Use the side bar to navigate to a section")):"data"===a[1].path&&3===a.length?r.default.createElement(r.Fragment,null,r.default.createElement("h3",null,"Registry"),r.default.createElement("h4",null,"Table ".concat(n)),r.default.createElement("p",null,"Use the side bar to navigate to a particular view on this table")):null),r.default.createElement(u.default,null,l)))}));t.default=v},550:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=n(30),c=n(1),s=n(7),f=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return l(a,(n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleInsert=function(){var e=a.props,t=e.table,n=e.masterId,r=e.linkField,l=e.dispatch,o=null==n?s.MYIDS:s.DETAILS;l((0,s.insertItem)(t,o,n,r)),a.gotoNew=!0},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"gotoNewItem",value:function(){var e=this.props,t=e.tables,n=e.table;if(this.gotoNew){var a=t[n];if(null==a)return;var r=a.lastInserted;if(null!=r){this.gotoNew=!1;var l=(0,c.getUrlParts)(u.browserHistory).base;u.browserHistory.push("".concat(l,"/").concat(n,"/mylist/item/").concat(r,"/"))}}}},{key:"render",value:function(){var e=this.props.thing;return o.default.createElement("span",{className:"button large workflow info",onClick:this.handleInsert},"New ".concat(e))}},{key:"componentDidMount",value:function(){this.gotoNewItem()}},{key:"componentDidUpdate",value:function(){this.gotoNewItem()}}]),t}(),d=(0,i.connect)(s.getTables)(f);t.default=d},551:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=n(1),c=n(35),s=n(7),f=n(24),d=a(n(17)),m=a(n(113)),p=a(n(117)),v=a(n(211)),y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.filters,n=e.tables,a=e.table,r=e.eId,l=e.select,i=e.mode,y=e.filtered,h="grid"===i;if((0,s.needTables)(n,[[a,l,h]].concat(c.loadExtra[a]||u.emptyA)))return o.default.createElement("div",null);var b=n[a],g=b.title,E=b.item,w=b.perm,O=b.myIds,S=b.allIds,_=E[1],k=l===s.MYIDS?O:S,A=(0,f.makeTag)(l,null,null);return o.default.createElement(d.default,null,y?o.default.createElement(v.default,{filters:t,tables:n,table:a,navItem:r,listIds:k,perm:w,select:l,mode:i,title:g,filterTag:A,gridTag:a,topLevel:!0}):"list"===i?o.default.createElement(p.default,{alterSection:"list-".concat(a,"-").concat(l),filters:t,tables:n,table:a,navItem:r,listIds:k,select:l,perm:w,title:g}):"grid"===i?o.default.createElement(m.default,{alterSection:"list-".concat(a,"-").concat(l),filters:t,tables:n,table:a,navItem:r,listIds:k,select:l,perm:w,gridTag:a}):'unknown display mode "'.concat(i,'" for ').concat(_))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.tables,n=e.table,a=e.select,r=e.mode,l=e.dispatch,o="grid"===r;(0,s.fetchTables)(t,[[n,a,o]].concat(c.loadExtra[n]||u.emptyA),l)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.tables,n=e.table,a=e.select,r=e.mode,l=e.dispatch,o="grid"===r;(0,s.fetchTables)(t,[[n,a,o]].concat(c.loadExtra[n]||u.emptyA),l)}}]),t}(),h=(0,u.combineSelectors)(s.getTables,f.getFilters),b=(0,i.connect)(h)((0,u.withParams)(y));t.default=b},552:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(2),o=n(8),i=n(1),u=n(9),c=n(46),s=n(553),f=a(n(204)),d=a(n(71)),m=a(n(210)),p=a(n(5)),v=(0,o.memoize)(function(e,t,n,a,l){return a?r.default.createElement(p.default,{tip:"".concat(l?"show":"close"," details of this record"),at:"left"},r.default.createElement("span",{className:"button small fa fa-angle-".concat(l?"down":"up"),onClick:e})):null}),y=(0,l.connect)(s.getForms)(function(e){var t=e.alt,n=e.nextAlt,a=e.filters,l=e.tables,o=e.form,s=e.table,p=e.eId,y=e.initialValues,h=e.perm,b=e.workflow,g=e.masterId,E=e.linkField,w=e.isactive,O=e.fixed,S=e.fields,_=e.widthStyles,k=(0,u.makeFields)({tables:l,table:s,eId:p,initialValues:y,perm:h,fields:S}),A=(0,c.makeDetails)({tables:l,table:s,eId:p}),N=h.update,I=k.length,T="".concat(s,"-").concat(p),j=o.has(T),P="edit-".concat(s,"-").concat(p);return r.default.createElement("div",{className:w?"isactive":i.emptyS},0===t?r.default.createElement("div",{className:"grid-row"},r.default.createElement("div",{className:"grid-status-cell"},v(n,s,p,N,!0),j?r.default.createElement(f.default,{form:"".concat(s,"-").concat(p),active:!1}):null),function(e,t,n){return k.map(function(t,a){var l=t.field,o=t.fragment,u=o.editable,c=o.table,s=o.myValues,f=n[a];return r.default.createElement("div",{className:"grid-cell valueColGrid ".concat(u?"edit":i.emptyS),style:f,key:l},r.default.createElement(d.default,{field:l,tables:e,table:c,myValues:s}))})}(l,0,_),function(e,t,n,a,l){return A.map(function(e,t){var n=e.name,o=e.detailListIds,i=a[l+t],u=o.length;return r.default.createElement("div",{key:n,className:"grid-cell value-col-grid",style:i},u)})}(0,0,0,_,I)):r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"grid-status-cell"},v(n,s,p,N,!1)),r.default.createElement(m.default,{filters:a,tables:l,table:s,eId:p,masterId:g,linkField:E,alterSection:P,isactive:w,startMode:0,initialValues:y,perm:h,workflow:b,fields:S,fieldFragments:k,detailFragments:A,fixed:O})))});t.default=y},553:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getForms=void 0;var a=n(8);t.getForms=function(e){var t=e.form;return{form:r(t)}};var r=function(e){return(0,a.makeSet)(Object.keys(e))}},574:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(21),i=n(47),u=n(9),c=a(n(5));t.default=function(e){var t=e.componentSingle,n=e.validateSingle,a=e.normalizeSingle,s=e.meta,f=s.dirty,d=s.invalid,m=s.submitting,p=s.error,v=e.fields,y=e.table,h=e.eId,b=e.valType,g=(e.nameC,e.reset),E=e.submitValues,w=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["componentSingle","validateSingle","normalizeSingle","meta","fields","table","eId","valType","nameC","reset","submitValues"]),O=(0,u.makeSubmit)(f,d,m,E),S=(0,u.makeSubmitTime)(E);return l.default.createElement("div",{className:"".concat((0,i.editClass)(f,d)," multi-field ").concat(b)},v.map(function(e,i){return l.default.createElement("div",{key:e,className:"multi-content"},l.default.createElement(c.default,{tip:"remove entry",at:"left"},l.default.createElement("div",{className:"button medium",onClick:function(e,t,n){return function(){e.remove(t),n()}}(v,i,S)},"")),l.default.createElement(o.Field,r({name:e,component:t,validate:n,normalize:a,label:i,table:y,eId:h,reset:g,submitValues:O},w)))}),l.default.createElement("div",{className:"multi-content"},l.default.createElement(c.default,{tip:"more entries",at:"left"},l.default.createElement("div",{className:"button medium",onClick:function(e,t){return function(){e.push(),t()}}(v,S)},"+"))),p&&l.default.createElement("p",{className:"invalid diag"},p))}},575:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),i=n(2),u=n(8),c=n(1),s=n(23),f=n(9),d=n(114),m=n(15),p=n(198),v=a(n(5)),y=function(e){var t=e.label,n=e.attributes,a=e.selected,r=e.multiple,i=e.onHit;return o.default.createElement(v.default,{tip:a?"".concat(t," is currently selected"):r?"add ".concat(t):"select ".concat(t),at:"bottom"},o.default.createElement("p",l({},n,{onClick:a?null:i}),t))},h=(0,u.memoize)(function(e,t,n,a,l,o){return function(){if(t){if(!n.includes(a)){var i=r(n).concat([a]);l(i)}}else l(a),o((0,p.setPopUp)(e,!1))}}),b=function(e){var t=e.optionLookup,n=e.value,a=e.popUp,r=e.popUpIfEmpty,i=e.activeItems,u=e.inactive,f=e.selectTag,m=e.dispatch,y=(0,d.composeAttributes)(i,u),h=c.emptyS,b=t[n];h=void 0===b?n:b;var g=["option-head","tag"];if(n===c.emptyS){if(r)return null;h="click to enter a value",g.push("new")}var E=y(n,g.join(" ")),w=a?"up":"down";return o.default.createElement(v.default,{tip:"click here to ".concat(a?"hide":"show"," the other options"),at:"right"},o.default.createElement("span",l({},E,{onClick:(0,s.handle)(m,p.togglePopUp,f)}),h," ",o.default.createElement("span",{className:"fa fa-arrow-".concat(w," ").concat(w)})))},g=function(e){var t=e.selectTag,n=e.optionLookup,a=e.popUp,r=e.popUpIfEmpty,i=e.activeItems,u=e.inactive,c=e.value,f=e.onChange,m=e.dispatch,y=(0,d.composeAttributes)(i,u),h=a?"up":"down";return o.default.createElement(v.default,{tip:"click on this line to ".concat(a?"hide":"show"," the remaining options"),at:"top"},o.default.createElement("div",{className:"tags",onClick:(0,s.handle)(m,p.togglePopUp,t)},null!=c&&c.length?c.map(function(e){var t=n[e],a=void 0===t?e:t,r=y(e,"tag");return o.default.createElement("span",l({key:e},r),o.default.createElement(v.default,{tip:"remove ".concat(a),at:"bottom"},o.default.createElement("span",{className:"button-tag",onClick:function(e,t,n){return function(a){if(a.stopPropagation(),e.includes(n)){var r=e.filter(function(e){return e!==n});t(r)}}}(c,f,e)},"")," "),a)}):r?null:o.default.createElement("span",{className:"tag empty"},"click to enter values"),o.default.createElement("span",{className:"fa fa-arrow-".concat(h," ").concat(h)})))},E=function(e){var t=e.selectTag,n=e.search,a=e.dispatch,r=e.placeHolder;return o.default.createElement("span",{className:"option-type"},n?o.default.createElement(v.default,{tip:"clear typing",at:"bottom"},o.default.createElement("span",{className:"button-tag",onClick:(0,s.handle)(a,p.setSearch,t,c.emptyS)},"")):"","",o.default.createElement(v.default,{tip:r,at:"left"},o.default.createElement("input",{className:"typing",type:"text",placeholder:"type here ...",value:n||c.emptyS,onFocus:(0,s.handle)(a,p.setPopUp,t,!0),onChange:(0,s.handlEV)(a,p.setSearch,t)})))},w=function(e){var t=e.selectTag,n=e.optionLookup,a=e.options,l=e.activeItems,i=e.inactive,u=e.multiple,s=e.allowNew,m=e.value,p=e.onChange,b=e.search,g=e.dispatch,E=(b||c.emptyS).toLowerCase(),w=(0,d.composeAttributes)(l,i),O=(0,f.checkDisabled)(l,i),S=a.length>=20?"o-large":"o-small";return o.default.createElement("div",{className:"options ".concat(S)},u||null==m||m==c.emptyS?null:o.default.createElement(v.default,{tip:"clear selection",at:"bottom"},o.default.createElement("span",{className:"button-tag tag option",onClick:h(t,u,null,null,p,g)},"(  )")),s&&b&&!a.some(function(e){return e.label===b})&&!m.includes(b)?o.default.createElement(v.default,{tip:"add ".concat(b," as a NEW option"),at:"bottom"},o.default.createElement("span",{className:"new tag",onClick:function(e,t,n,a,l){return function(){if(null==e[l]&&!n.includes(l)){var o=t?[l].concat(r(n)):l;a(o)}}}(n,u,m,p,b)},b)):null,a.map(function(e){var n=e.value,a=e.label;if(u&&m.includes(n)||null!=E&&E!==c.emptyS&&null!=a&&-1===a.toString().toLowerCase().indexOf(E)||O(n))return null;var r=u&&m.includes(n)||!u&&m===n,l=w(n,"tag option ".concat(r?"selected":c.emptyS));return o.default.createElement(y,{key:n,label:a,attributes:l,selected:r,multiple:u,onHit:h(t,u,m,n,p,g)})}))},O=(0,c.combineSelectors)(m.getSettings,p.getSelect),S=(0,i.connect)(O)(function(e){var t=e.settings,n=e.tables,a=e.table,r=e.eId,l=e.field,i=e.selectTag,u=e.activeItems,s=e.inactive,d=e.allowed,m=e.input,v=m.name,y=m.value,h=m.onChange,O=e.multiple,S=e.allowNew,_=e.popUpIfEmpty,k=e.select,A=e.dispatch,N=e.suppressTyping,I=e.submitValues,T=(0,f.makeSubmitTime)(I),j=(0,f.makeChangeSave)(h,T),P=k[i],M=(P=void 0===P?c.emptyO:P).search,x=P.popUp,C=(0,p.compileOptions)(n,a,d,l,t),F=C.options,D=C.optionLookup,R=x||_&&(null==y||O&&0==y.length||!O&&!y),L=!0===S?"value":S||c.emptyS,U=L?" or add a new ".concat(L):c.emptyS,V="filter remaining options".concat(U);return o.default.createElement("div",{className:"select ".concat(O?"multiselect":c.emptyS)},O?o.default.createElement(g,{optionLookup:D,activeItems:u,inactive:s,table:a,eId:r,name:v,value:y,selectTag:i,popUp:R,popUpIfEmpty:_,dispatch:A,onChange:j}):o.default.createElement(b,{optionLookup:D,activeItems:u,inactive:s,table:a,eId:r,name:v,value:y,popUp:R,popUpIfEmpty:_,selectTag:i,dispatch:A}),R&&!N?o.default.createElement(E,{selectTag:i,search:M,dispatch:A,placeHolder:V}):null,R?o.default.createElement(w,{selectTag:i,optionLookup:D,options:F,activeItems:u,inactive:s,multiple:O,allowNew:S,value:y,search:M,dispatch:A,onChange:j}):null)});t.default=S},576:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(9);t.default=function(e){var t=e.widget,n=e.input.onChange,r=e.setValue,l=e.submitValues,o=(0,a.makeSubmitTime)(l);return t((0,a.makeChangeSaveVal)(n,o,r))}},577:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),r=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(n(72)),o={mainAction:function(e){var t=e.w;return t("locked").on?a.default.createElement("div",{className:"label large workflow info"},"This contribution is locked because it is ".concat(t("locked").desc,".")):null},related:{assessment:function(e){var t=e.v,n=e.e,o=e.f,i=e.linkMe,u=t("title");return a.default.createElement(a.Fragment,null,a.default.createElement("div",null,n("urlContribution")?u:a.default.createElement("a",{href:t("urlContribution")},u)),a.default.createElement("div",null,t("vcc",null,", ")," ",t("country")," ",t("year")," ",a.default.createElement("a",{href:"mailto:".concat(t("contactPersonEmail"))},t("contactPersonName"))),a.default.createElement(l.default,{alterSection:"contribution_in_assessment{v('_id')}",alterTag:"cost",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution cost description",titleClose:"Hide contribution cost description",headActive:"Cost: ".concat(n("costTotal")?"Not given":t("costTotal")),headLine:r.emptyS,full:a.default.createElement(a.Fragment,null,o("costDescription"))}),a.default.createElement(l.default,{alterSection:"contribution_in_assessment{v('_id')}",alterTag:"description",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution descriptions",titleClose:"Hide contribution descriptions",headActive:"Description fields",headLine:n("urlAcademic")?a.default.createElement("a",{href:t("urlAcademic")},t("urlAcademic")):r.emptyS,full:a.default.createElement(a.Fragment,null,a.default.createElement("div",null,o("description")),a.default.createElement("div",null,a.default.createElement("div",null,a.default.createElement("b",null,"Tadirah:")),a.default.createElement("div",null,a.default.createElement("i",null,"Objects")," ",o("tadirahObject")),a.default.createElement("div",null,a.default.createElement("i",null,"Activities")," ",o("tadirahActivity")),a.default.createElement("div",null,a.default.createElement("i",null,"Techniques")," ",o("tadirahTechnique")),a.default.createElement("div",null,a.default.createElement("b",null,"Disciplines:")," ",o("discipline")),a.default.createElement("div",null,a.default.createElement("b",null,"Keywords:")," ",o("keyword"))))}),a.default.createElement(l.default,{alterSection:"contribution_in_assessment{v('_id')}",alterTag:"provenance",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution provenance",titleClose:"Hide contribution provenance",headActive:"Provenance",headLine:r.emptyS,full:a.default.createElement(a.Fragment,null,a.default.createElement("div",null,"Created ",o("dateCreated")," by ",t("creator")),a.default.createElement("div",null,a.default.createElement("div",null,a.default.createElement("b",null,"Modification history")),t("modified").map(function(e,t){return a.default.createElement("div",{key:t},e)})))}),a.default.createElement("div",null,a.default.createElement("a",{href:i},"To the contribution record")),a.default.createElement("div",null,o("typeContribution")))}}};t.default=o},578:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),l=n(1),o=n(9),i=n(35),u=a(n(72)),c=a(n(5)),s=function(e,t,n,a){return(0,o.itemReadField)(e,t(e),n(e),a)},f=function(e,t,n,a,r){return(0,o.itemEditField)(e,t(e),n(e),a(e),r)},d={main:function(e){var t=e.l,n=e.f;return r.default.createElement("div",{className:"grid fragments"},s("title",t,n),s("assessmentType",t,n),s("contrib",t,n))},mainEdit:function(e){var t=e.l,n=e.fe,a=e.m,l=e.editButton;return r.default.createElement(r.Fragment,null,l,r.default.createElement("div",{className:"grid fragments"},f("title",t,n,a),f("assessmentType",t,n,a),f("contrib",t,n,a)))},mainAction:function(e){var t=e.tables,n=e.l,a=e.e,s=e.v,d=e.w,m=e.fe,p=e.fs,v=e.m,y=(0,i.assessmentScore)(t,s("_id")),h=y.overall,b=y.relevantScore,g=y.relevantMax,E=y.allMax,w=y.relevantN,O=y.allN,S=O-w,_=!a("dateWithdrawn"),k=!a("submitted");return r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"ass-score-box"},r.default.createElement(c.default,{tip:"overall-score of this assessment",at:"right"},r.default.createElement("span",{className:"ass-score"},"".concat(h," %"))),r.default.createElement(u.default,{alterSection:"assessment{v('_id')}",alterTag:"score",iconOpen:"calculator",iconClose:"minus-circle",titleOpen:"Show derivation",titleClose:"Hide derivation",headActive:l.emptyS,headLine:l.emptyS,full:r.default.createElement("div",{className:"ass-score-deriv"},r.default.createElement("p",null,"This contribution scores ".concat(b," points.")),r.default.createElement("p",null,"For this type of contribution there is a total of ".concat(E," points,\n                    divided over ").concat(O," criteria.")),S?r.default.createElement("p",null,"However,\n                        ".concat(S," rule").concat(1==S?" is":"s are","\n                        not applicable to this contribution,\n                        which leaves the total amount to\n                        ").concat(g," points,\n                        divided over ").concat(w," criteria.")):l.emptyS,r.default.createElement("p",null,"The total score is expressed as a percentage:\n                    the fraction of ".concat(b," scored points with respect to \n                    ").concat(g," scorable points.")))})),r.default.createElement("div",{className:"grid fragments"},v("submitted")?null:f("submitted",n,m,v),(0,o.itemEditField)("submitted","Submission",r.default.createElement(r.Fragment,null,!k&&_?"".concat(n("dateWithdrawn"),": ").concat(s("dateWithdrawn")):null,k?"".concat(n("dateSubmitted"),": ").concat(s("dateSubmitted")):null,d("incomplete").on||d("stalled").on?null:p("submitted",a("submitted"),function(e){return r.default.createElement("span",{className:"button large workflow ".concat(a("submitted")?"info":"error"),onClick:e},"".concat(a("submitted")?"Submit for":"Withdraw from"," review"))})),v("submitted")),a("submitted")?null:f("reviewerE",n,m,v),a("submitted")?null:f("reviewerF",n,m,v)),d("stalled").on?r.default.createElement("div",{className:"label large workflow error"},"This assessment cannot be submitted because: ".concat(d("stalled").desc,".\n              Either change the type of the contribution to the type of this assessment,\n              or start a new assessment, copy over the relevant material form this\n              assessment (by hand), and remove this assessment.\n            ")):null,d("incomplete").on?r.default.createElement("div",{className:"label large workflow warning"},"This assessment cannot yet be submitted because: ".concat(d("incomplete").desc,".\n            ")):a("submitted")?r.default.createElement("div",{className:"label large workflow good"},"All criteria filled: this assessment can be submitted.\n              "):null,d("locked").on?r.default.createElement("div",{className:"label large workflow info"},"This assessment is locked because it is ".concat(d("locked").desc,".")):null)}};Object.assign(d,{detail:{contrib:d.main},detailEdit:{contrib:d.mainEdit},detailAction:{contrib:d.mainAction},insert:{contrib:function(e){var t=e.n,n=e.onInsert;return 0==t?r.default.createElement("span",{className:"button large workflow info",onClick:n},"Write a self-assessment"):r.default.createElement(c.default,{tip:r.default.createElement(r.Fragment,null,r.default.createElement("p",null,"Normally a contribution needs just one self-assessment."),r.default.createElement("p",null,"Only add an other one in the following cases"),r.default.createElement("ul",null,r.default.createElement("li",null,"The previous self-assessment has become obsolete"),r.default.createElement("li",null,"The previous self-assessment is based on a contribution type,\n                      but the contribution in question has been assigned another type.")),r.default.createElement("p",null,r.default.createElement("b",null,"In the last case, it is recommended to copy and paste the relevant parts\n                    of the old assessment into the new one and delete the old one."))),at:"top"},r.default.createElement("span",{className:"button large workflow warning",onClick:n},"Add another self-assessment",r.default.createElement("span",{className:"fa fa-exclamation"})))}},consolidated:{trail:function(e){var t=e.v;return r.default.createElement(r.Fragment,null,r.default.createElement("div",null,t("title")),r.default.createElement("div",null,t("vcc",", ")," ",t.year))}}});var m=d;t.default=m},579:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(1),o=a(n(72)),i=function(e){return e&&e.__esModule?e:{default:e}}(n(5)),u={editMode:{assessment:function(e){return e("score")||e("evidence")?1:0}},detail:{assessment:function(e){var t=e.l,n=e.v,a=e.e,u=e.f,c=a("evidence")||a("score")?"incomplete":"complete";return r.default.createElement("div",{className:"criteria entryRead ".concat(c)},r.default.createElement("div",{className:"criteria entry"},r.default.createElement("div",null,n("seq")),r.default.createElement(o.default,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("remarks"),iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show criteria details",titleClose:"Hide criteria details",headActive:l.emptyS,headLine:u("criteria"),full:r.default.createElement("div",{className:"criteria comments"},u("criteria","remarks")),className:"fat"}),r.default.createElement("div",{className:"slim"},u("score")),a("evidence")?r.default.createElement("div",{className:"xSlim"},r.default.createElement(i.default,{tip:"No evidence yet",at:"top"},r.default.createElement("span",{className:"slim fa fa-file-o tError"}))):r.default.createElement(o.ExpandHead,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("evidence"),initAlt:1,iconOpen:"file-text",iconClose:"minus-square",titleOpen:"Show evidence",titleClose:"Hide evidence",headActive:l.emptyS,headLine:l.emptyS,className:"xSlim tGood"})),r.default.createElement(o.ExpandBody,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("evidence"),initAlt:1,full:r.default.createElement(r.Fragment,null,r.default.createElement("b",null,t("evidence")),u("evidence")),className:"comments"}))}},detailEdit:{assessment:function(e){var t=e.l,n=e.v,a=e.e,l=e.f,o=e.fe,u=e.editButton,c=a("evidence")||a("score")?"incomplete":"complete";return r.default.createElement("div",{className:"criteria entryEdit ".concat(c)},r.default.createElement("div",{className:"criteria entry"},u,n("seq"),r.default.createElement("div",{className:"fat"},r.default.createElement("div",{className:"fat"},l("criteria")),r.default.createElement("div",{className:"criteria comments"},l("criteria","remarks"))),r.default.createElement("div",{className:"slim"},o("score",{suppressTyping:!0}))),r.default.createElement("p",null,r.default.createElement("b",null,t("evidence"))),r.default.createElement(i.default,{tip:"Give evidence",at:"top"},o("evidence")))}}};t.default=u},580:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(1),o=a(n(72)),i=a(n(5)),u={editMode:{review:function(e){return e("comments")?1:0}},detail:{review:function(e){var t=e.l,n=e.v,a=e.e,i=e.f,u=a("comments")?"incomplete":"complete";return r.default.createElement("div",{className:"review entryRead ".concat(u)},r.default.createElement("div",{className:"review entry"},r.default.createElement("div",null,n("seq")),r.default.createElement(o.default,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("remarks"),iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show criteria details",titleClose:"Hide criteria details",headActive:l.emptyS,headLine:i("criteria"),full:r.default.createElement("div",{className:"criteria comments"},i("criteria","remarks")),className:"fat"})),c(i),r.default.createElement("div",{className:"review comments"},r.default.createElement("b",null,t("comments")),i("comments")))}},detailEdit:{review:function(e){var t=e.l,n=e.v,a=e.e,l=e.f,o=e.fe,u=e.editButton,s=a("comments")?"incomplete":"complete";return r.default.createElement("div",{className:"review entryEdit ".concat(s)},r.default.createElement("div",{className:"review entry"},u,n("seq"),r.default.createElement("div",{className:"fat"},r.default.createElement("div",{className:"fat"},l("criteria")),r.default.createElement("div",{className:"criteria comments"},l("criteria","remarks")))),c(l),r.default.createElement("p",null,r.default.createElement("b",null,t("comments"))),r.default.createElement(i.default,{tip:"Enter review comments",at:"top"},o("comments")))}}},c=function(e){return r.default.createElement("div",{className:"assessment comments"},r.default.createElement("div",null,r.default.createElement(i.default,{tip:"Score by self-assessment",at:"right"},e("criteriaEntry","score"))),r.default.createElement("div",null,r.default.createElement("b",null,"Evidence")),r.default.createElement("div",null,e("criteriaEntry","evidence")))},s=u;t.default=s},581:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(1),i=n(47),u=n(9),c=a(n(209)),s=a(n(5));t.default=function(e){var t=e.meta,n=t.dirty,a=t.invalid,f=t.submitting,d=t.error,m=e.input,p=e.type,v=e.reset,y=e.submitValues,h="checkbox"===p?(0,u.makeSubmitTime)(y):(0,u.makeSubmit)(n,a,f,y),b=(0,u.makeReset)(p,v),g="checkbox"===p?{onClick:h}:{onBlur:h},E="checkbox"==p?o.emptyO:{className:"wideInput"};return l.default.createElement("div",E,l.default.createElement(s.default,{tip:l.default.createElement(c.default,{type:"text",dirty:n}),at:"top",focusOnly:!0},l.default.createElement("input",r({type:p,className:(0,i.editClass)(n,a)},m,g,b))),d&&l.default.createElement("span",{className:"invalid diag"},d))}},582:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(2),i=a(n(115)),u=n(1),c=n(47),s=n(9),f=n(10),d=a(n(209)),m=a(n(5)),p=(0,o.connect)(f.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.table,o=e.eId,p=e.meta,v=p.dirty,y=p.invalid,h=p.submitting,b=p.error,g=e.input,E=g.name,w=g.value,O=e.input,S=e.rh,_=e.reset,k=e.submitValues,A=e.dispatch,N="".concat(a,"-").concat(o,"-").concat(E),I=(0,f.compileAlternatives)(n,2,1,A)(N),T=I.getAlt,j=I.nextAlt,P=T(t);return l.default.createElement("div",r({className:"md-field"},0==P?u.emptyO:S),l.default.createElement(m.default,{tip:"".concat(0===P?"edit text":"preview formatted text"),at:"right"},l.default.createElement("div",{className:"button medium field-control fa fa-".concat(0===P?"pencil":"hand-o-down"),onClick:j})),0===P?l.default.createElement(i.default,{className:"".concat((0,c.editClass)(v,y)," field-content"),source:w}):l.default.createElement("div",{className:"field-content"},l.default.createElement(m.default,{tip:l.default.createElement(d.default,{dirty:v,type:"markdown"}),at:"top",focusOnly:!0},l.default.createElement("div",null,l.default.createElement("textarea",r({className:"input ".concat((0,c.editClass)(v,y))},O,{wrap:"soft",onBlur:(0,s.makeSubmit)(v,y,h,k)},(0,s.makeReset)("text",_))))),b&&l.default.createElement("span",{className:"invalid diag"},b)))});t.default=p},583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(2),l=n(21),o=n(1),i=n(37),u=n(9),c=n(7),s=(0,r.connect)()((0,l.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!1,touchOnBlur:!0,touchOnChange:!1,onSubmitSuccess:u.onSubmitSuccess})(function(e){var t=e.settings,n=e.tables,r=e.table,l=e.eId,u=e.linkField,s=e.fieldFragments,f=e.handleSubmit,d=e.dispatch,m=(0,c.headEntity)(n,r,l,t),p=f((0,c.toDb)(r,l,m,d)),v=n[r].fieldSpecs[u],y=(v=void 0===v?o.emptyO:v).valType,h=(y=void 0===y?o.emptyO:y).relTable,b=h?"detail":"main";return a.default.createElement("div",{className:"item-workflow"},(0,i.applyEditTemplate)(t,n,r,"".concat(b,"Action"),h,l,s,null,p))}));t.default=s},584:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(0)),i=n(2),u=n(21),c=n(1),s=n(37),f=n(9),d=n(7),m=a(n(17)),p=a(n(71)),v=a(n(208)),y=a(n(585)),h=(0,i.connect)()((0,u.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!1,touchOnBlur:!0,touchOnChange:!1,onSubmitSuccess:f.onSubmitSuccess})(function(e){var t=e.settings,n=e.tables,a=e.table,i=e.eId,u=e.linkField,h=e.dirty,b=e.invalid,g=e.submitting,E=e.reset,w=e.error,O=e.fieldFragments,S=e.handleSubmit,_=e.nextAlt,k=e.dispatch,A=(0,d.headEntity)(n,a,i,t),N=S((0,d.toDb)(a,i,A,k)),I={form:"".concat(a,"-").concat(i),dirty:h,invalid:b,submitting:g,reset:E,error:w,nextAlt:_,handleSubmit:N},T=o.default.createElement(y.default,I),j=n[a].fieldSpecs[u],P=(j=void 0===j?c.emptyO:j).valType,M=(P=void 0===P?c.emptyO:P).relTable,x=M?"detail":"main";return(0,s.applyEditTemplate)(t,n,a,"".concat(x,"Edit"),M,i,O,T,N,E)||o.default.createElement("form",null,T,o.default.createElement("div",{className:"grid fragments"},O.map(function(e){var t=e.field,a=e.label,u=e.valType,c=e.fragment,s=c.editable,d=c.table,y=c.myValues,h=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(c,["editable","table","myValues"]),b=s&&("object"!=l(u)||!u.fixed);return o.default.createElement(m.default,{key:t},(0,f.itemEditField)(t,a,b?o.default.createElement(v.default,r({field:t,tables:n,table:d,eId:i,submitValues:N,reset:E},h)):o.default.createElement(p.default,{field:t,tables:n,table:d,eId:i,myValues:y}),b))})))}));t.default=h},585:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n(47).editControl)(!0);t.default=a},586:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(1),o=n(37),i=n(9),u=a(n(71));t.default=function(e){var t=e.settings,n=e.tables,a=e.table,c=e.eId,s=e.fieldFragments,f=e.linkField,d=n[a],m=d.fieldSpecs[f],p=(m=void 0===m?l.emptyO:m).valType,v=(p=void 0===p?l.emptyO:p).relTable,y=d.entities[c].workflow,h=v?"detail":"main";return(0,o.applyTemplate)(t,n,a,h,v,(0,i.toFieldInfo)(c,s),y)||r.default.createElement("div",{className:"grid fragments"},s.map(function(e){var t=e.field,a=e.label,l=e.fragment,o=l.table,s=l.myValues;return(0,i.itemReadField)(t,a,r.default.createElement(u.default,{field:t,tables:n,table:o,eId:c,myValues:s}),t)}))}},587:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(2),i=n(1),u=n(7),c=n(24),s=n(10),f=a(n(113)),d=a(n(117)),m=a(n(211)),p=a(n(5)),v=(0,o.connect)(s.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.filters,o=e.tables,v=e.table,y=e.eId,h=e.detailFragments,b=e.dispatch;if(0==h.length)return null;var g=(0,s.compileAlternatives)(n,2,1,b);return l.default.createElement("div",{className:"grid fragments"},h.map(function(e){var n=e.name,s=e.detailTitle,h=e.detailTable,b=e.linkField,E=e.detailItem,w=e.detailListIds,O=e.detailPerm,S=e.detailSpecs,_=w.length,k=g(n),A=k.getAlt,N=k.nextAlt,I=A(t),T=S.mode,j=S.expand,P=S.border,M=S.filtered,x=S.fixed,C=r(E,2),F=C[0],D=C[1],R=(0,c.makeTag)(u.DETAILS,y,b),L="".concat(v,"-").concat(n,"-").concat(y);return l.default.createElement("div",{key:n,className:"grid-row"},j?null:l.default.createElement(p.default,{tip:"".concat(0==I?"show":"hide"," detail records"),at:"left",className:"detail-control"},l.default.createElement("span",{className:"link",onClick:N},l.default.createElement("span",{className:"button small fa fa-angle-".concat(0===I?"down":"up")}),0===I?"".concat(_," ").concat(1===_?F:D):i.emptyS)),l.default.createElement("div",{className:"detail-body"},1===I?M?l.default.createElement(m.default,{filters:a,tables:o,table:h,listIds:w,perm:O,select:u.DETAILS,mode:T,compact:!0,title:s,gridTag:L,filterTag:R,masterId:y,linkField:b,expand:j,border:P,fixed:x}):"list"===T?l.default.createElement(d.default,{alterSection:"list-".concat(h,"-").concat(u.DETAILS),filters:a,tables:o,table:h,listIds:w,perm:O,select:u.DETAILS,title:s,masterId:y,linkField:b,expand:j,border:P,fixed:x}):"grid"===T?l.default.createElement(f.default,{alterSection:"list-".concat(h,"-").concat(u.DETAILS),filters:a,tables:o,table:h,listIds:w,perm:O,select:u.DETAILS,gridTag:L,masterId:y,linkField:b,fixed:x}):'unknown display mode "'.concat(T,'" for ').concat(D):null))}))});t.default=v},588:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=n(1),c=n(9),s=n(15),f=n(7),d=a(n(17)),m=a(n(210)),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.filters,a=e.tables,r=e.table,l=e.eId,i=e.masterId,s=e.linkField,p=e.isactive,v=e.startMode,y=e.fixed,h=e.border,b=a[r],g=(b=void 0===b?u.emptyO:b).entities,E=void 0===g?u.emptyO:g,w=b.entities[l],O=(w=void 0===w?u.emptyO:w).fields,S=w.values,_=w.perm,k=w.workflow;if((0,f.needValues)(E,l))return o.default.createElement("div",null);var A="edit-".concat(r,"-").concat(l);return o.default.createElement(d.default,null,o.default.createElement(m.default,{filters:n,tables:a,table:r,eId:l,masterId:i,linkField:s,alterSection:A,isactive:p,startMode:v,initialValues:S,perm:_,workflow:k,fields:(0,c.dealWithProvenance)(t,O),fixed:y,border:h}))}},{key:"openItem",value:function(){var e=this.props,t=e.settings,n=e.tables,a=e.table,r=e.eId,l=e.inhibitFetch,o=e.dispatch,i=n[a].entities,c=void 0===i?u.emptyO:i,s=(0,f.headEntity)(n,a,r,t);!l&&(0,f.needValues)(c,r)&&o((0,f.fetchItem)(a,r,s))}},{key:"componentDidMount",value:function(){this.openItem()}},{key:"componentDidUpdate",value:function(){this.openItem()}}]),t}(),v=(0,i.connect)(s.getSettings)(p);t.default=v},589:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(2),o=n(1),i=a(n(17)),u=a(n(590)),c=a(n(213)),s=a(n(593)),f={Fulltext:u.default,EUMap:s.default,ByValue:c.default},d=(0,l.connect)()(function(e){var t=e.filters,n=e.tables,a=e.table,l=e.filterTag,u=e.listIds,c=e.filteredAmount,s=e.filteredAmountOthers,d=e.amounts,m=e.compact,p=t[a],v=void 0===p?o.emptyO:p,y=n[a],h=y.fields,b=y.filterList,g=v[l],E=void 0===g?o.emptyO:g;return null==b?"No filters for this list":r.default.createElement(i.default,null,r.default.createElement("div",{className:"filterSequence ".concat(m?"compact":o.emptyS)},b.filter(function(e){return h[e.field]}).map(function(e,t){var o=e.type,i=f[o],p=E[t];return r.default.createElement(i,{key:t,alterSection:"filter-".concat(a,"-").concat(t),tables:n,table:a,filterTag:l,filterSetting:p,listIds:u,filterId:t,filterField:e.field,filterRelField:e.relField,filterLabel:e.label,maxCols:e.maxCols,filteredAmount:c,filteredAmountOthers:s[t],amounts:d[t],expanded:e.expanded,compact:m})})))});t.default=d},590:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(0)),l=n(2),o=n(1),i=n(23),u=n(24),c=a(n(212)),s=a(n(5)),f=(0,l.connect)()(function(e){var t=e.table,n=e.filterTag,a=e.filterId,l=e.filterLabel,f=e.filterSetting,d=void 0===f?o.emptyS:f,m=e.filteredAmount,p=e.filteredAmountOthers,v=e.compact,y=e.dispatch;return r.default.createElement("div",{className:"fulltext"},r.default.createElement(s.default,{tip:"Search in ".concat(l),at:"top"},r.default.createElement("input",{type:"text",className:"search ".concat(v?"compact":o.emptyS),placeholder:"search".concat(v?o.emptyS:" in ".concat(l)),value:d,onChange:(0,i.handlEV)(y,u.changeFulltext,t,n,a)}))," ",v?null:r.default.createElement(c.default,{subTotal:m,total:p,className:"fulltext-stat"}))});t.default=f},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),r=n(2),l=n(1),o=n(23),i=n(24),u=(0,r.connect)()(function(e){var t=e.table,n=e.filterTag,r=e.filterId,u=e.valueId,c=e.valueRep,s=e.filterSetting,f=e.className,d=e.dispatch,m=(s||l.emptyO)[u],p=void 0!==m&&m;return a.default.createElement("span",{className:f},a.default.createElement("input",{type:"checkbox",checked:p,className:"facet",onChange:(0,o.handlE)(d,i.changeFacet,t,n,r,u,!p)})," ".concat(c))});t.default=u},592:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function l(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=n(24),c=function(e){return!e.allTrue&&!e.allFalse},s=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return l(a,(n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleCheck=function(){var e=a.props,t=e.filterSetting,n=e.table,r=e.filterTag,l=e.filterId,o=e.dispatch,i=(0,u.testAllChecks)(t);return o((0,u.changeFacetAll)(n,r,l,a.dom.indeterminate||!i.allTrue))},a.setIndeterminate=function(e){var t=a.props.filterSetting,n=(0,u.testAllChecks)(t);e&&(a.dom=e,e.indeterminate=c(n))},n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"componentDidUpdate",value:function(){var e=this.props.filterSetting,t=(0,u.testAllChecks)(e);this.dom.indeterminate=c(t)}},{key:"render",value:function(){var e=this.props.filterSetting,t=(0,u.testAllChecks)(e);return o.default.createElement("input",{ref:this.setIndeterminate,type:"checkbox",checked:t.allTrue,onChange:this.handleCheck})}}]),t}(),f=(0,i.connect)()(s);t.default=f},593:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c,s,f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),d=a(n(594)),m=n(203),p=n(1),v=a(n(213)),y={HEIGHT:250,MAX_RADIUS:25,LEVEL_OFF:10,ZOOM_INIT:3,MAP_CENTER:[52,12],MAP_BOUNDS:[[30,-20],[70,40]],MARKER_COLOR:(c={},u(c,!0,{color:"#008800",fillColor:"#00cc00"}),u(c,!1,{color:"#888844",fillColor:"#bbbb66"}),c),MARKER_SHAPE:{weight:1,fill:!0,fillOpacity:.8},COUNTRY_STYLE:(s={},u(s,!0,{color:"#884422",weight:2,fill:!0,fillColor:"#aa7766",fillOpacity:1}),u(s,!1,{color:"#777777",weight:1,fill:!0,fillColor:"#bbbbbb",fillOpacity:1}),s)},h=function(e,t,n){var a=n?n[e]||0:0;if(0===a)return 0;var r=y.LEVEL_OFF,l=y.MAX_RADIUS*a/t;return t<r?l:r*Math.sqrt(l)},b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n.setMap=function(e){e&&(n.dom=e)},n.features={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,f.Component),function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=this.setMap;return f.default.createElement(f.Fragment,null,f.default.createElement("div",{ref:t}),f.default.createElement(v.default,e))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.filterSetting,a=t.filteredAmountOthers,r=t.amounts,l=t.tables.country,i=this.dom,u=y.HEIGHT,c=y.MAP_CENTER,s=y.ZOOM_INIT,f=y.MAP_BOUNDS,v=y.MARKER_COLOR,b=y.MARKER_SHAPE,g=y.COUNTRY_STYLE;i.style.height=u,this.map=d.default.map(i,{attributionControl:!1,center:c,zoom:s,maxBounds:f});var E=l.allIds,w=l.entities;this.idFromIso={},this.inDariah={},E.forEach(function(t){var n=w[t].values,a=n.iso,r=n.isMember;e.idFromIso[a]=t,e.inDariah[a]=r}),d.default.geoJSON(m.countryBorders,{style:function(t){return g[e.inDariah[t.properties.iso2]]},onEachFeature:function(t){var l=t.properties,i=l.iso2,u=l.lat,c=l.lng;if(e.inDariah[i]){var s=e.idFromIso[i],f=(n||p.emptyO)[s],m=void 0!==f&&f,y=d.default.circleMarker([u,c],o({},v[m],{radius:h(s,a,r)},b,{pane:"markerPane"})).addTo(e.map);e.features[i]=y}}}).addTo(this.map)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.filterSetting,a=t.filteredAmountOthers,r=t.amounts,o=y.MARKER_COLOR;Object.entries(this.features).forEach(function(t){var i=l(t,2),u=i[0],c=i[1],s=e.idFromIso[u],f=(n||p.emptyO)[s],d=void 0!==f&&f;c.setRadius(h(s,a,r)),c.setStyle(o[d])})}}]),t}();b.displayName="EUMap";var g=b;t.default=g},595:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=n(1),i=a(n(5));t.default=function(e){var t=e.perm,n=e.workflow,a=e.keep,u=e.fixed,c=e.button,s=e.onClick,f=Object.keys(a).length>0,d=Object.keys(a).sort().map(function(e){return a[e]}).join(", "),m=n&&n.locked&&n.locked.on,p=n&&n.locked&&n.locked.desc||o.emptyS,v=f||m?(f?"This item cannot deleted because related items exist: ".concat(d):o.emptyS)+(m?"This item is locked because: ".concat(p):o.emptyS):"delete this record",y=f?"puzzle-piece":"trash",h=f?"disabled":"error-o",b=f?o.emptyO:{onClick:s};return u||!t.delete||m?null:l.default.createElement(i.default,{tip:v,at:"left",className:"inlineR"},l.default.createElement("div",r({className:"grid-cell ".concat(c," ").concat(h," fa fa-").concat(y," delete")},b)))}},596:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(0)),o=a(n(597)),i=a(n(598)),u=a(n(599)),c=a(n(214)),s={md:o.default,pdf:i.default,html:u.default};t.default=function(e){var t=e.location.pathname,n=r(/^(.*)\/([^/]+)$/g.exec(t).slice(1),2),a=n[0],o=n[1],i=r(/^(.*)\.([^.]+)$/g.exec(o).slice(1),2),u=i[0],f=i[1],d=s[f],m="".concat(a,"/").concat(u,".").concat(f);return null==d?l.default.createElement(c.default,{splat:"document ".concat(t)}):l.default.createElement(d,{alterSection:m,docDir:a,docName:u,docExt:f})}},597:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),i=n(2),u=a(n(115)),c=n(30),s=n(1),f=n(175),d=n(10),m=a(n(5)),p=a(n(17)),v={Link:function(e){var t=e.children,n=e.href;return n.match(/^(https?:)?\/\//)?o.default.createElement("a",{href:n},t):o.default.createElement(c.Link,{to:n},t)}},y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.alter,n=e.alterSection,a=e.text,r=e.docName,l=e.dispatch;if((0,f.needDoc)({text:a}))return"No document ".concat(r);var i=(0,d.compileAlternatives)(n,2,0,l)("format"),c=i.getAlt,s=i.nextAlt,y=c(t);return o.default.createElement(p.default,null,o.default.createElement("div",{style:{paddingLeft:"0.5em"}},o.default.createElement("p",{style:{float:"right"}},o.default.createElement(m.default,{tip:"".concat(0===y?"markdown source":"formatted"),at:"right"},o.default.createElement("a",{href:"#",className:"control fa fa-".concat(0===y?"hand-o-down":"file-code-o"),onClick:s}))),0===y?o.default.createElement(u.default,{source:a,renderers:v}):o.default.createElement("pre",{className:"md-source"},a)))}},{key:"componentDidMount",value:function(){var e=this.props;(0,this.props.dispatch)((0,f.fetchDoc)(e))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=this.props.dispatch;(0,f.changedDoc)(t,e)&&n((0,f.fetchDoc)(t))}}]),t}(),h=(0,s.combineSelectors)(f.getDoc,d.getAltSection),b=(0,i.connect)(h)(y);t.default=b},598:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.docDir,n=e.docName,r=e.docExt,l="/api/file".concat(t,"/").concat(n,".").concat(r);return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?a.default.createElement("p",null,a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},n)," (open pdf in a new tab)"):a.default.createElement("object",{height:"100%",width:"100%",data:l,type:"application/pdf"},a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},n)," (open pdf in a new tab)")}},599:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0));t.default=function(e){var t=e.docDir,n=e.docName,r=e.docExt,l="/api/file".concat(t,"/").concat(n,".").concat(r);return a.default.createElement("iframe",{height:"100%",width:"100%",src:l})}},7:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(e){r=!0,l=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw l}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(t,"__esModule",{value:!0}),t.handleCloseAll=t.handleOpenAll=t.repr=t.headEntity=t.presentUser=t.listValues=t.needValues=t.needTables=t.needTable=t.toDb=t.getTables=t.default=t.delItem=t.insertItem=t.modItem=t.fetchItems=t.fetchItem=t.fetchTables=t.fetchTable=t.MYIDS=t.ALLIDS=t.DETAILS=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(n(26)),u=n(30),c=n(51),s=n(8),f=n(1),d=n(10);t.DETAILS="details";var m="allIds";t.ALLIDS=m;t.MYIDS="myIds";var p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments[2];return(0,c.accessData)({type:"fetchTable",contentType:"db",path:"/".concat("myIds"===t?"my":f.emptyS,"list?table=").concat(e,"&complete=").concat(n),desc:"".concat(e," table"),table:e})};t.fetchTable=p;t.fetchTables=function(e,t,n){t.forEach(function(t){var a=o(t,3),r=a[0],l=a[1],i=void 0===l?m:l,u=a[2],c=void 0===u||u;S(e,r,i,c)&&n(p(r,i,c))})};t.fetchItem=function(e,t,n){return(0,c.accessData)({type:"fetchItem",contentType:"db",path:"/view?table=".concat(e,"&id=").concat(t),desc:"".concat(e," record ").concat(n),table:e})};var v=function(e,t,n,a){return(0,c.accessData)({type:"fetchItems",contentType:"db",path:"/view?table=".concat(e),desc:"".concat(e," records ").concat(t.length),sendData:t,table:e,eIds:t,alterSection:n,alt:a})};t.fetchItems=v;var y=function(e,t,n,a){return(0,c.accessData)({type:"modItem",contentType:"db",path:"/mod?table=".concat(e,"&action=update"),desc:"".concat(e," update record ").concat(n),sendData:{_id:t,values:a},table:e})};t.modItem=y;t.insertItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,c.accessData)({type:"insertItem",contentType:"db",path:"/mod?table=".concat(e,"&action=insert"),desc:"".concat(e," insert new record"),sendData:{masterId:n,linkField:a},table:e,select:t})};t.delItem=function(e,t,n){return(0,c.accessData)({type:"delItem",contentType:"db",path:"/mod?table=".concat(e,"&action=delete"),desc:"".concat(e," delete record ").concat(n),sendData:{_id:t},table:e})};var h=function(e,t,n,a,r){var l={};return a.forEach(function(e){l[e]=r[e]}),(0,f.updateAuto)(e,[t,"entities",n,"values"],{$merge:l})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.emptyA,n=e,a=!0,r=!1,l=void 0;try{for(var i,u=t[Symbol.iterator]();!(a=(i=u.next()).done);a=!0){var c=o(i.value,3),s=c[0],d=c[1],m=c[2];n=(0,f.updateAuto)(n,[s,"entities",d,"workflow"],{$set:m})}}catch(e){r=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(r)throw l}}return n},g={fetchTable:function(e,t){var n=t.data;if(null==n)return e;var a=e;return Object.entries(n).forEach(function(t){var n=o(t,2),r=n[0],u=n[1],c=e[r],s=(void 0===c?f.emptyO:c).entities,d=function(e,t){var n=t;return Object.entries(e).forEach(function(e){var t=o(e,2),a=t[0],r=t[1],u=n[a];if(null!=u&&null!=r.fields&&null==u.fields){var c=(0,i.default)(r.values,{$merge:u.values});n=(0,i.default)(n,l({},a,{fields:{$set:r.fields},values:{$merge:c}}))}}),(0,i.default)(e,{$merge:n})}(void 0===s?f.emptyO:s,u.entities),m=(0,i.default)(u,{entities:{$set:d}});a=(0,f.updateAuto)(a,[r],{$merge:m})}),a},fetchItem:function(e,t){var n=t.data,a=t.table;if(null==n)return e;var r=n.values._id;return(0,f.updateAuto)(e,[a,"entities",r],{$set:n})},fetchItems:function(e,t){var n=t.data,a=t.table;if(null==n||0==n.length)return e;var r=e,l=!0,o=!1,i=void 0;try{for(var u,c=n[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var s=u.value,d=s.values._id;r=(0,f.updateAuto)(r,[a,"entities",d],{$set:s})}}catch(e){o=!0,i=e}finally{try{l||null==c.return||c.return()}finally{if(o)throw i}}return r},modItem:function(e,t){var n=t.data,a=t.table;if(null==n)return e;var r=n.records,u=void 0===r?f.emptyA:r,c=n.workflow,s=e,d=function(e){var t=e.values,n=e.values._id,r=e.newValues,u=e.workflow,c={};if(Object.entries(t).forEach(function(e){var t=o(e,2),n=t[0],a=t[1];c[n]={$set:a}}),s=(0,f.updateAuto)(s,[a,"entities",n,"values"],c),s=(0,f.updateAuto)(s,[a,"entities",n,"workflow"],{$set:u}),null!=r){var d=!0,m=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){var b=v.value,g=b._id,E=b.rep,w=b.repName,O=b.relTable,S=b.field;s=(0,i.default)(s,l({},a,{valueLists:l({},S,{$push:[g]})})),s=h(s,O,g,["_id",w],l({_id:g},w,E))}}catch(e){m=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(m)throw p}}}},m=!0,p=!1,v=void 0;try{for(var y,g=u[Symbol.iterator]();!(m=(y=g.next()).done);m=!0){d(y.value)}}catch(e){p=!0,v=e}finally{try{m||null==g.return||g.return()}finally{if(p)throw v}}return s=b(s,c)},insertItem:function(e,t){var n=t.data,a=t.table,o=t.select;if(null==n)return e;var u=n.records,c=void 0===u?f.emptyA:u,s=n.workflow,d=e,p=!0,v=!1,y=void 0;try{for(var h,g=c[Symbol.iterator]();!(p=(h=g.next()).done);p=!0){var E=h.value,w=E.table,O=r(E,["table"]),S=O.values._id;null!=(d=(0,f.updateAuto)(d,[w,"entities",S],{$set:O}))[w].allIds&&(d=(0,f.updateAuto)(d,[w,m],{$push:[S]},!0)),"myIds"===o&&a===w&&(d=(0,f.updateAuto)(d,[a,"myIds"],{$push:[S]},!0)),d=(0,i.default)(d,l({},w,{lastInserted:{$set:S}}))}}catch(e){v=!0,y=e}finally{try{p||null==g.return||g.return()}finally{if(v)throw y}}return d=b(d,s)},delItem:function(e,t){var n=t.data;if(null==n)return e;var a=n.records,r=void 0===a?f.emptyA:a,u=n.workflow,c=e,s=function(e){for(var t=o(e,2),n=t[0],a=t[1],r=(c=(0,i.default)(c,l({},n,{entities:{$unset:[a]}})))[n],u=r.myIds,s=r.allIds,f=Object.entries({myIds:u,allIds:s}),d=0;d<f.length;d++){var m=o(f[d],2),p=m[0],v=m[1];if(null!=v){var y=v.filter(function(e){return e!==a});c=(0,i.default)(c,l({},n,l({},p,{$set:y})))}}},d=!0,m=!1,p=void 0;try{for(var v,y=r[Symbol.iterator]();!(d=(v=y.next()).done);d=!0){s(v.value)}}catch(e){m=!0,p=e}finally{try{d||null==y.return||y.return()}finally{if(m)throw p}}return c=b(c,u)}},E=(0,f.makeReducer)(g);t.default=E;t.getTables=function(e){return{tables:e.tables}};var w=(0,s.memoize)(function(e,t,n,a){return function(r){return a(y(e,t,n,r))}});t.toDb=w;var O=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e)return!1;var r=e[t];return null!=r&&(null!=r[n]&&(null==a||r[n]===a))},S=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m,r=arguments[3];if(!O(e,t,n))return!0;if(r&&!O(e,t,"complete",!0))return!0;var l=e[t].fieldSpecs;return!!Array.from(new Set(Object.entries(l).filter(function(e){return"object"===a(e[1].valType)&&null!=e[1].valType.relTable}).map(function(e){return e[1].valType.relTable}))).some(function(t){return!O(e,t,m)})};t.needTable=S;t.needTables=function(e,t){return t.some(function(t){var n=o(t,3),a=n[0],r=n[1],l=void 0===r?m:r,i=n[2];return S(e,a,l,void 0===i||i)})};t.needValues=function(e,t){return null==e||null==e[t]||null==e[t].fields||null==e[t].perm};var _=(0,s.memoize)(function(e){var t=e.tables,n=e.table,a=e.eId,r=e.field;return null==t?f.emptyA:null==t[n]?f.emptyA:null==t[n].entities[a]?f.emptyA:new Set(t[n].entities[a][r])},f.emptyO);t.listValues=_;var k=(0,s.memoize)(function(e,t){var n=e.user.entities[t];if(n){var a=n.values;return A(a)}return"UNKNOWN"},f.emptyO),A=function(e){var t=e.name,n=e.firstName,a=e.lastName,r=e.email,l=e.eppn,o=e.authority,i=e.org,u=i?" (".concat(i,")"):f.emptyS;if(t)return"".concat(t).concat(u);if(n||a)return"".concat(n||f.emptyS).concat(n&&a?" ":f.emptyS).concat(a||f.emptyS);if(r)return"".concat(r).concat(u);var c=o?" - ".concat(o):f.emptyS;return l?"".concat(l).concat(c).concat(u):"!unidentified user!"};t.presentUser=A;var N={user:k,country:(0,s.memoize)(function(e,t){var n=e.country.entities[t];if(n){var a=n.values,r=a.name,l=a.iso;return"".concat(l,": ").concat(r)}return"UNKNOWN"},f.emptyO),typeContribution:(0,s.memoize)(function(e,t){var n=e.typeContribution.entities[t];if(n){var a=n.values,r=a.mainType,l=a.subType,o=r&&l?" / ":f.emptyS;return"".concat(r).concat(o).concat(l)}return"UNKNOWN"},f.emptyO),score:(0,s.memoize)(function(e,t){var n,a=e.score.entities[t];if(a){var r=a.values,l=r.score,o=void 0===l?"N/A":l,i=r.level,u=void 0===i?"N/A":i,c=r.description,s=void 0===c?f.emptyS:c;n=o||u?"".concat(o," - ").concat(u):s}else n="UNKNOWN";return n},f.emptyO),default:function(e){return(0,s.memoize)(function(t,n,a){var r=t[e],l=r.title,o=void 0===l?"rep":l,i=r.entities[n],u=r.fieldSpecs;if(i){var c=i.values[o],s=u[o].valType;return T(t,e,o,s,c,a)}return"UNKNOWN"},f.emptyO)}},I=function(e,t,n,a){return(N[t]||N.default(t))(e,n,a)};t.headEntity=I;var T=function(e,t,n,a,r,l){if(null==r)return f.emptyS;if(null!=a&&"string"!=typeof a){var o=a.relTable;return null==o?f.emptyS:I(e,o,r)}switch(a){case"datetime":return function(e,t,n,a){return null==e?f.emptyS:a.longDates[t]&&a.longDates[t][n]?e.replace(/\.[0-9]+/,f.emptyS):e.replace(/T.*$/,f.emptyS)}(r,t,n,l);case"bool":return r?"Yes":"No";default:return r}},j=function(e,t,n,a,r,l,o,i){var u=r?(l||f.emptyA).map(function(r){return T(e,t,n,a,r,o)}):T(e,t,n,a,l,o);return r&&null!=i?u.join(i):u},P=(0,s.memoize)(function(e,t,n,a,r,l,o,i,u,c){if(null==l)return j(e,t,n,a,r,o,i,u);var s=a.relTable;if(null==s)return f.emptyS;var d=e[s].fieldSpecs[l],m=d.multiple,p=d.valType,v=r?o.map(function(t){return e[s].entities[t].values[l]}):e[s].entities[o].values[l],y=r&&m&&null!=u&&null==c?" ":c,h=r?v.map(function(t){return j(e,s,l,p,m,t,i,y)}):j(e,s,l,p,m,v,i,c);return r&&null!=u?h.join(u):h},f.emptyO);t.repr=P;var M=(0,s.memoize)(function(e,t,n,a,r,l,o){var i=(0,d.compileAlternatives)(t,n,a,o),u=(a+1)%n;return function(){var n=[];l.forEach(function(t){(0,i(t).getAlt)(e)!==u&&n.push(t)}),n.length&&o(v(r,n,t,u))}},f.emptyO);t.handleOpenAll=M;var x=(0,s.memoize)(function(e,t,n,a,r,l){var o=(0,d.compileAlternatives)(t,n,a,l),i=(0,f.getUrlParts)(u.browserHistory),c=i.base,s=i.table,m=i.controller,p="".concat(c,"/").concat(s,"/").concat(m);return function(){u.browserHistory.push("".concat(p,"/"));var n=[];r.forEach(function(t){(0,o(t).getAlt)(e)!==a&&n.push(t)}),n.length&&l((0,d.setItems)(n,t,a))}},f.emptyO);t.handleCloseAll=x},71:function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2),l=n(1),o=n(35),i=n(114),u=n(15),c=(0,r.connect)(u.getSettings)(function(e){var t=e.settings,n=e.tables,r=e.table,u=e.field,c=e.relField,s=e.myValues,f=n[r].fieldSpecs[u],d=f.valType,m=f.multiple,p=("object"===a(d)?d:l.emptyO).inactive,v=void 0===p?null:p,y=v?(0,o.compileActive)(n,u):null;return(0,i.wrappedRepr)(n,r,u,d,m,c,y,v,s,t)});t.default=c},72:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExpandBody=t.ExpandHead=void 0;var r=a(n(0)),l=n(2),o=n(1),i=n(10),u=a(n(5)),c=function(e){return e||null},s=function(e,t,n){return e?r.default.createElement("span",{className:n},"".concat("").concat(e).concat(t?"":o.emptyS)):null},f=(0,l.connect)(i.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,o=e.headActive,f=e.headLine,d=e.className,m=e.iconOpen,p=e.iconClose,v=e.titleOpen,y=e.titleClose,h=e.dispatch,b=l||0,g=(0,i.compileAlternatives)(n,2,b,h)(a),E=g.getAlt,w=g.nextAlt,O=E(t),S=m||"angle-down",_=p||"angle-up",k=v||"expand",A=y||"collapse";return r.default.createElement("div",{className:"vtop ".concat(d)},r.default.createElement(u.default,{tip:0===O?k:A,at:"top"},r.default.createElement("span",{className:"link vtop fa fa-".concat(0===O?S:_),onClick:w},s(o,f,"body"))),c(f))});t.ExpandHead=f;var d=(0,l.connect)(i.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,o=e.full,u=e.className,c=e.dispatch,s=l||0;return 0==(0,(0,i.compileAlternatives)(n,2,s,c)(a).getAlt)(t)?null:r.default.createElement("div",{className:u},o)});t.ExpandBody=d;var m=(0,l.connect)(i.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,o=e.headActive,f=e.headLine,d=e.full,m=e.className,p=e.iconOpen,v=e.iconClose,y=e.titleOpen,h=e.titleClose,b=e.dispatch,g=l||0,E=(0,i.compileAlternatives)(n,2,g,b)(a),w=E.getAlt,O=E.nextAlt,S=w(t),_=p||"angle-down",k=v||"angle-up",A=y||"expand",N=h||"collapse";return r.default.createElement("div",{className:m},r.default.createElement("span",{className:"vtop"},"",r.default.createElement(u.default,{tip:0===S?A:N,at:"top"},r.default.createElement("span",{className:"link vtop fa fa-".concat(0===S?_:k),onClick:O},s(o,f,"body"))),c(f)),0==S?null:d)});t.default=m}},[215]);