!function(e){function t(t){for(var r,o,i=t[0],u=t[1],c=t[2],f=0,d=[];f<i.length;f++)o=i[f],a[o]&&d.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);d.length;)d.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(l.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={2:0},l=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=u;l.push([415,0]),n()}({10:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeSet=t.memoize=void 0;var r=n(3);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=function(e,t,n){var l=0,o=0,i=0,u=0,c={},s=new WeakMap,f=t||{},d=n||{};var m=function(e,t){var n,l=a(e);return null==e||!t&&"function"!==l?(0,r.jString)(e):"object"===l||"function"===l?(s.has(e)?n=s.get(e):(s.set(e,u),n=u,u++),[!0,n]):[!1,e]},p=function e(t,n){if(-1===n)return m(t,!1);if(0===n)return m(t,!0);var r=a(t);return null==t||"object"!==r?m(t):Array.isArray(t)?t.map(function(t){return e(t,n-1)}):Object.keys(t).sort().map(function(r){return[r,e(t[r],n-1)]})};return function(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];if(0===a.length)return{cacheKeys:Object.keys(c),computed:o,retrieved:l,cleared:i};var s=null==t?(0,r.jString)(a.map(function(e){return p(e,-1)})):(0,r.jString)(a.map(function(e,t){return p(e,f[t]||0)})),m=c[s];return null==m?(m=e.apply({},a),c[s]=m,o+=1,setTimeout(function(){return delete c[s],void i++},1e3*(d.clearCache||1800))):l+=1,m}};t.memoize=l;var o=l(function(e){return new Set(e)});t.makeSet=o},100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.type,n=e.dirty;return a.default.createElement("div",{className:"edit-help"},a.default.createElement("div",{className:"help-line"},n?a.default.createElement("div",{className:"help-item"},"Press ",a.default.createElement("span",{className:"help-code"},"ESC")," to cancel"):null,a.default.createElement("div",{className:"help-item"},"Press ",a.default.createElement("span",{className:"help-code"},"TAB")," or click outside this field to save")),"markdown"==t?a.default.createElement("div",{className:"help-line"},a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"["),"link text",a.default.createElement("span",{className:"help-code"},"]("),"url",a.default.createElement("span",{className:"help-code"},")")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"*"),a.default.createElement("i",null,"italic"),a.default.createElement("span",{className:"help-code"},"*")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"**"),a.default.createElement("b",null,"bold"),a.default.createElement("span",{className:"help-code"},"**")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"`"),a.default.createElement("code",null,"code"),a.default.createElement("span",{className:"help-code"},"`")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"# "),a.default.createElement("span",{className:"mdh1"},"Heading1")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"## "),a.default.createElement("span",{className:"mdh2"},"Heading2")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"* "),a.default.createElement("span",{className:"mduli"},"bullet item")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"1. "),a.default.createElement("span",{className:"mdoli"},"numbered item")),a.default.createElement("div",{className:"help-item"},a.default.createElement("span",{className:"help-code"},"> "),a.default.createElement("span",{className:"mdbq"},"block quote"))):null)}},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=n(3),l=i(n(49)),o=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.score,n=t.overall,i=t.relevantScore,u=t.relevantMax,c=t.allMax,s=t.relevantN,f=t.allN,d=t.aId,m=f-s;return r.default.createElement("div",{className:"ass-score-box"},r.default.createElement(o.default,{tip:"overall-score of this assessment",at:"right"},r.default.createElement("span",{className:"ass-score"},"".concat(n," %"))),r.default.createElement(l.default,{alterSection:"assessment".concat(d),alterTag:"score",iconOpen:"calculator",iconClose:"minus-circle",titleOpen:"Show derivation",titleClose:"Hide derivation",headActive:a.emptyS,headLine:a.emptyS,full:r.default.createElement("div",{className:"ass-score-deriv"},r.default.createElement("p",null,"This contribution scores ".concat(i," points.")),r.default.createElement("p",null,"For this type of contribution there is a total of\n              ".concat(c," points, divided over ").concat(f," criteria.")),m?r.default.createElement("p",null,"However,\n                        ".concat(m," rule").concat(1==m?" is":"s are","\n                        not applicable to this contribution,\n                        which leaves the total amount to\n                        ").concat(u," points,\n                        divided over ").concat(s," criteria.")):a.emptyS,r.default.createElement("p",null,"The total score is expressed as a percentage:\n                    the fraction of ".concat(i," scored points with respect to \n                    ").concat(u," scorable points.")))}))}},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(0)),a=n(4),l=n(27),o=n(12),i=n(61),u=n(76),c=f(n(197)),s=f(n(196));function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=(0,a.connect)()(function(e){e.alter;var t=e.field,n=e.tables,a=e.table,f=e.eId,m=(e.dispatch,e.allowed),p=e.reset,y=e.submitValues,v=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["alter","field","tables","table","eId","dispatch","allowed","reset","submitValues"]),b=n[a].fieldSpecs[t],h=b.valType,g=b.valid,O=b.multiple;if("string"==typeof h){var w=(0,u.getValType)(h),E=w.component,S=w.type,_=w.props,j=i.validation[g||h],k=i.normalization[g||h];return O?r.default.createElement(l.FieldArray,d({name:t,component:c.default,componentSingle:E},_,{validateSingle:j,normalizeSingle:k,tables:n,table:a,eId:f,type:S,valType:h,rerenderOnEveryChange:!0,reset:p,submitValues:y},v)):r.default.createElement(l.Field,d({name:t,component:E},_,{validate:j,normalize:k,tables:n,table:a,eId:f,type:S,reset:p,submitValues:y},v))}var P=h.allowNew,I=h.popUpIfEmpty,A=h.inactive,N=A?(0,o.compileActive)(n,t):null,T="".concat(a,"-").concat(f,"-").concat(t);return r.default.createElement(l.Field,d({name:t,component:s.default,selectTag:T,field:t,multiple:O,allowNew:P,popUpIfEmpty:I,tables:n,table:a,eId:f,allowed:m,activeItems:N,inactive:A,submitValues:y},v))});t.default=m},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(27),a=n(33),l=(0,r.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!0})((0,a.editControl)(!1));t.default=l},113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileSortedData=t.getGrid=t.default=t.turnColumn=t.delColumn=t.addColumn=t.resetSort=void 0;var r=u(n(304)),a=u(n(294)),l=n(10),o=n(3),i=n(8);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.resetSort=function(e){return{type:"resetSort",gridTag:e}};t.addColumn=function(e,t,n){return{type:"addColumn",gridTag:e,column:t,direction:n}};t.delColumn=function(e,t){return{type:"delColumn",gridTag:e,column:t}};t.turnColumn=function(e,t){return{type:"turnColumn",gridTag:e,column:t}};var f={resetSort:function(e,t){return c({},e,s({},t.gridTag,o.emptyA))},addColumn:function(e,t){var n=t.gridTag,r=t.column,a=t.direction;return c({},e,s({},n,(e[n]||o.emptyA).filter(function(e){return e[0]!==r}).concat([[r,a]])))},delColumn:function(e,t){var n=t.gridTag,r=t.column;return c({},e,s({},n,(e[n]||o.emptyA).filter(function(e){return e[0]!==r})))},turnColumn:function(e,t){var n=t.gridTag,r=t.column;return c({},e,s({},n,(e[n]||o.emptyA).map(function(e){return[e[0],e[0]===r?-e[1]:e[1]]})))}},d=(0,o.makeReducer)(f,o.emptyO);t.default=d;t.getGrid=function(e){return{grid:e.grid}};var m=(0,l.memoize)(function(e,t,n,l,o){var i=l.map(function(e){return e[0]}),u=l.map(function(e){return 1===e[1]?"asc":"desc"}),c=e[t].entities,s=p(e,t,o),f=n.map(function(e){return(0,a.default)(c[e].values,s)});return(0,r.default)(f,i,u).map(function(e){return e._id})},o.emptyO);t.compileSortedData=m;var p=function(e,t,n){var r=e[t].fieldSpecs;return function(a,l){if("_id"===l)return a;var o=r[l],u=o.valType,c=o.multiple;return(0,i.repr)(e,t,l,u,c,null,a,n,"|")}}},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileOptions=t.getSelect=t.default=t.togglePopUp=t.setPopUp=t.setSearch=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(3),o=n(10),i=n(8);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={search:l.emptyS,popUp:!1};t.setSearch=function(e,t){return{type:"setSearch",selectTag:e,search:t}};t.setPopUp=function(e,t){return{type:"setPopUp",selectTag:e,onOff:t}};t.togglePopUp=function(e){return{type:"togglePopUp",selectTag:e}};var s={setSearch:function(e,t){var n=t.selectTag,r=t.search;return(0,a.default)(e,u({},n,{$apply:function(e){return(0,a.default)(e||c,{search:{$set:r}})}}))},setPopUp:function(e,t){var n=t.selectTag,r=t.onOff;return(0,a.default)(e,u({},n,{$apply:function(e){return(0,a.default)(e||c,{popUp:{$set:r}})}}))},togglePopUp:function(e,t){var n=t.selectTag,r=e[n],l=null==r||!r.popUp;return(0,a.default)(e,u({},n,{$apply:function(e){return(0,a.default)(e||c,{popUp:{$set:l}})}}))}},f=(0,l.makeReducer)(s,l.emptyO);t.default=f;t.getSelect=function(e){return{select:e.select}};var d=(0,o.memoize)(function(e,t,n,r,a){var o=e[t],u=o.valueLists,c=o.fieldSpecs,s=(u||l.emptyO)[r];if(null==s)return{options:l.emptyA,optionLookup:l.emptyO};var f=c[r].valType,d=(null==n?s:s.filter(function(e){return n.includes(e)})).map(function(n){return{value:n,label:(0,i.repr)(e,t,r,f,!1,null,n,a,", ")}}),m={};return d.forEach(function(e){var t=e.value,n=e.label;m[t]=n}),{options:d,optionLookup:m}},l.emptyO,{debug:"compileOptions"});t.compileOptions=d},12:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reviewerRole=t.isReviewerType=t.getItem=t.compileActive=t.processStatus=t.finalDecision=t.decisions=t.getWorkflow=t.default=t.resetWorkflow=t.fetchWorkflow=t.loadExtra=t.TYPE_FIELD=t.TYPE_TABLE=t.CRITERIA_TABLE=t.PACKAGE_TABLE=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(45),o=n(10),i=n(3),u=n(61);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s="package";t.PACKAGE_TABLE=s;var f="criteria";t.CRITERIA_TABLE=f;var d="typeContribution";t.TYPE_TABLE=d;t.TYPE_FIELD="typeContribution";t.loadExtra={contrib:[["package"],["criteria"],["typeContribution"],["decision"]]};var m=(0,l.accessData)({type:"resetWorkflow",contentType:"db",path:"/wf",desc:"get workflow reset info"});t.fetchWorkflow=m;var p=(0,l.accessData)({type:"resetWorkflow",contentType:"db",path:"/wf?reset=true",desc:"reset workflow"});t.resetWorkflow=p;var y={resetWorkflow:function(e,t){var n=t.data;if(null==n)return e;var r=n.resets,l=n.stats,o=n.total;return(0,a.default)(e,{resets:{$set:r},stats:{$set:l},total:{$set:o}})}},v=(0,i.makeReducer)(y,i.emptyO);t.default=v;t.getWorkflow=function(e){return{workflow:e.workflow}};var b=(0,o.memoize)(function(e){var t=(e||i.emptyO).entities,n=void 0===t?i.emptyO:t,r={},a={},l={},o={},u={};return Object.values(n).forEach(function(e){var t=e.values,n=(t=void 0===t?i.emptyO:t)._id,c=t.acro,s=t.sign,f=t.rep,d=t.participle;r[n]=c,a[c]=n,l[c]=s,o[c]=f,u[c]=d}),{dAcro:r,dId:a,dSign:l,dRep:o,dPart:u}},i.emptyO);t.decisions=b;var h=(0,o.memoize)(function(e,t){var n=(e||i.emptyO).items,r=void 0===n?i.emptyA:n,a=(t||i.emptyO).items,l=void 0===a?i.emptyA:a,o=null;if(r.length&&l.length){var u=new Set(r.map(function(e){return e.reviewerF}));l.forEach(function(e){var t=e.creator,n=e.decision;u.has(t)&&(o=n)})}return o},i.emptyO);t.finalDecision=h;var g=(0,o.memoize)(function(e,t,n,r){var a=r.tables,l=r.w,o=r.v,u=r.me,c=!u||"public"===u.groupRep||"auth"===u.groupRep&&u._id!==o("creator"),s=h(e,t),f=b(a.decision),d=f.dId,m=f.dSign,p=f.dAcro;if(c)return s===d.good?m.good:i.emptyS;var y=s?m[p[s]]:i.emptyS,v=(l("score")||i.emptyO).items,g=void 0===v?i.emptyA:v,O=g.length?g[0]:null,w=null==O?i.emptyS:"".concat(n?"▶":"✍"," (").concat(O.overall,"%) ");return"".concat(w," ").concat(y)},i.emptyO);t.processStatus=g;var O=(0,o.memoize)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if([e,t,n].some(function(e){return null==e}))return r?i.emptySet:i.emptyO;var a=new Set,l=new Set,o=new Set,d=Date.now();return Object.entries(e).forEach(function(e){var t=c(e,2),n=t[0],r=t[1].values,o=r.startDate,s=r.endDate,f=r.typeContribution,m=(0,u.getDateTime)(o),p=(0,u.getDateTime)(s),y=null==m,v=null==p;y&&v||(y||m<d)&&(v||d<p)&&(a.add(n),(f||i.emptyA).forEach(function(e){return l.add(e)}))}),Object.entries(n).forEach(function(e){var t=c(e,2),n=t[0],r=t[1].values[s];a.has(r)&&o.add(n)}),r?"typeContribution"===r?l:r===s?a:r===f?o:null:{activeIdsPkg:Array.from(a).map(function(t){return e[t].values}).sort((0,u.sortTimeInterval)("startDate","endDate")).map(function(e){return e._id}),activeIdsTyp:Array.from(l).map(function(e){return t[e].values}).sort((0,u.sortStringTemplate)(function(e){return"".concat(e.mainType||i.emptyS," / ").concat(e.subType||i.emptyS)})).map(function(e){return e._id}),activeIdsCri:Array.from(o).map(function(e){return n[e].values}).sort((0,u.sortStringTemplate)(function(e){return e.criterion})).map(function(e){return e._id})}},i.emptyO,{debug:"compileActiveItems"});t.compileActive=function(e,t){if([s,f,d].some(function(t){return null==e[t]}))return t?i.emptySet:i.emptyO;var n=e[s].entities,r=e[f].entities,a=e[d].entities;return O(n,a,r,t)};t.getItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e||i.emptyO).items,r=void 0===n?i.emptyA:n;return t?r:0==r.length?i.emptyO:r[0]};t.isReviewerType=function(e,t,n){return e===t?"E":e===n?"F":null};var w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({E:"first reviewer (expert)",F:"second reviewer (final say)"},null,"not a reviewer");t.reviewerRole=w},138:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.countryBorders=void 0;t.countryBorders={features:[{geometry:{coordinates:[],type:"Polygon"},type:"Feature",properties:{iso2:"AD",lng:1.5,lat:42.5}},{geometry:{coordinates:[[[19.4,41],[19.5,41.3],[19.5,41.6],[19.6,41.7],[19.5,41.8],[19.4,41.9],[19.3,41.9],[19.4,42.1],[19.5,42.4],[19.6,42.6],[19.7,42.7],[19.7,42.5],[19.9,42.5],[20.1,42.6],[20.2,42.5],[20.2,42.3],[20.4,42.3],[20.5,42.2],[20.6,41.9],[20.5,41.7],[20.5,41.5],[20.5,41.4],[20.5,41.2],[20.6,41.1],[20.7,40.9],[20.9,40.9],[21,40.8],[21.1,40.7],[21,40.6],[20.9,40.5],[20.8,40.4],[20.7,40.3],[20.7,40.1],[20.5,40.1],[20.3,40],[20.4,39.9],[20.3,39.8],[20.2,39.6],[20.1,39.7],[20,39.8],[19.9,39.9],[19.8,40.1],[19.6,40.1],[19.4,40.2],[19.3,40.4],[19.5,40.3],[19.5,40.6],[19.3,40.6],[19.4,40.7],[19.4,40.9],[19.5,41],[19.4,41]]],type:"Polygon"},type:"Feature",properties:{iso2:"AL",lng:20,lat:41}},{geometry:{coordinates:[[[[45.2,41.2],[45.1,41.1],[45.4,41],[45.6,40.8],[45.5,40.7],[45.4,40.6],[45.6,40.4],[45.9,40.3],[46,40.2],[45.9,40],[45.7,40],[45.8,39.9],[45.9,39.8],[46,39.7],[46.2,39.6],[46.4,39.6],[46.5,39.5],[46.4,39.4],[46.6,39.2],[46.4,39.2],[46.5,39],[46.4,38.9],[46.2,38.9],[46.1,38.9],[46,39.3],[45.8,39.4],[45.8,39.6],[45.6,39.6],[45.5,39.5],[45.3,39.6],[45,39.8],[44.9,39.7],[44.7,39.7],[44.6,39.9],[44.5,40],[44.3,40],[44,40],[43.7,40.1],[43.7,40.2],[43.6,40.4],[43.7,40.5],[43.7,40.7],[43.7,40.8],[43.6,41],[43.5,41.1],[43.7,41.1],[43.8,41.2],[44,41.2],[44.2,41.2],[44.4,41.2],[44.6,41.2],[44.8,41.2],[45,41.3],[45.1,41.2],[45.2,41.2]]],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"AM",lng:45,lat:40}},{geometry:{coordinates:[[[13.8,48.8],[14.2,48.6],[14.6,48.6],[14.9,48.8],[15.1,49],[15.5,49],[15.8,48.9],[16.4,48.7],[16.7,48.8],[16.9,48.6],[16.9,48.3],[17.1,48.1],[17.1,47.8],[16.8,47.7],[16.4,47.7],[16.7,47.5],[16.4,47.2],[16.3,47],[15.8,46.7],[15.1,46.6],[14.8,46.5],[13.9,46.5],[13.6,46.6],[12.8,46.7],[12.5,46.7],[12.1,47],[11.8,47],[11.2,47],[10.9,46.8],[10.6,46.8],[10.3,46.9],[9.9,46.9],[9.6,47.2],[9.7,47.5],[10,47.5],[10.4,47.4],[10.4,47.6],[10.9,47.5],[11.5,47.5],[12,47.6],[12.5,47.7],[12.7,47.7],[13.1,47.6],[12.9,47.8],[12.8,48],[13.2,48.3],[13.4,48.5],[13.7,48.6],[13.8,48.8]]],type:"Polygon"},type:"Feature",properties:{iso2:"AT",lng:13.3,lat:47.3}},{geometry:{coordinates:[[[[46.6,41.9],[46.9,41.7],[47.3,41.4],[47.7,41.2],[48,41.4],[48.5,41.8],[48.8,41.7],[49.1,41.3],[49.2,41],[49.5,40.7],[49.9,40.6],[50.4,40.4],[50.1,40.4],[49.5,40.2],[49.4,39.9],[49.3,39.4],[49.2,39.3],[49.1,39.1],[49,39],[48.9,38.5],[48.7,38.4],[48.3,38.6],[48.1,38.8],[48.2,39],[48.1,39.2],[48.3,39.4],[48.2,39.6],[47.8,39.7],[47.3,39.4],[46.9,39.2],[46.7,39],[46.5,39.1],[46.6,39.3],[46.5,39.6],[46.1,39.7],[45.8,39.8],[45.6,40],[46,40.3],[45.5,40.5],[45.5,40.8],[45.3,41],[45.1,41.2],[45.1,41.4],[45.4,41.5],[45.9,41.2],[46.3,41.2],[46.5,41],[46.7,41.3],[46.2,41.6],[46.4,41.8],[46.6,41.9]]],[[[45.1,39.8],[45.3,39.6],[45.3,39.5],[45.5,39.5],[45.6,39.5],[45.6,39.6],[45.7,39.6],[45.8,39.6],[45.8,39.5],[45.8,39.4],[45.9,39.3],[46,39.3],[46,39.2],[46.1,38.9],[46.2,38.8],[46,38.9],[45.8,38.9],[45.6,39],[45.5,39],[45.4,39],[45.4,39.1],[45.3,39.2],[45.2,39.2],[45.1,39.2],[45.1,39.3],[45.1,39.4],[45,39.4],[44.9,39.5],[44.9,39.6],[44.8,39.6],[44.8,39.7],[44.9,39.7],[45,39.7],[45,39.8],[45.1,39.8]]],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"AZ",lng:47.5,lat:40.5}},{geometry:{coordinates:[[[17.6,42.9],[17.4,43.2],[17.3,43.5],[17,43.5],[16.8,43.7],[16.6,43.9],[16.4,44.1],[16.2,44.2],[16.2,44.4],[16,44.7],[15.7,44.8],[15.8,45.2],[16.1,45.1],[16.4,45],[16.6,45.2],[16.9,45.3],[17.2,45.1],[17.5,45.1],[17.8,45.1],[18.1,45.1],[18.4,45.1],[18.8,44.9],[19.1,44.9],[19.4,44.9],[19.2,44.6],[19.1,44.3],[19.5,44.1],[19.5,44],[19.2,44],[19.5,43.8],[19.4,43.6],[19,43.6],[19,43.4],[19,43.2],[18.8,43.3],[18.7,43.1],[18.5,43],[18.6,42.7],[18.4,42.6],[18.2,42.7],[17.8,42.9],[17.6,42.9]]],type:"Polygon"},type:"Feature",properties:{iso2:"BA",lng:18,lat:44}},{geometry:{coordinates:[[[4.3,51.3],[4.4,51.4],[4.5,51.5],[4.5,51.4],[4.7,51.4],[4.8,51.5],[4.9,51.4],[5,51.5],[5.1,51.4],[5.2,51.3],[5.4,51.3],[5.6,51.3],[5.8,51.2],[5.9,51.1],[5.8,51],[5.6,50.9],[5.7,50.8],[5.9,50.8],[6.1,50.7],[6.3,50.6],[6.3,50.5],[6.4,50.3],[6.2,50.2],[6.1,50.1],[5.9,50.1],[5.7,49.9],[5.8,49.8],[5.9,49.6],[5.8,49.5],[5.6,49.5],[5.4,49.6],[5,49.8],[4.8,50],[4.9,50.1],[4.8,50.2],[4.7,50],[4.4,49.9],[4.2,50],[4.2,50.1],[4.2,50.3],[4,50.3],[3.8,50.4],[3.7,50.5],[3.5,50.5],[3.3,50.5],[3.2,50.8],[3,50.8],[2.8,50.8],[2.6,50.9],[2.5,51.1],[2.9,51.2],[3,51.3],[3.2,51.3],[3.4,51.3],[3.5,51.2],[3.6,51.3],[3.8,51.3],[3.9,51.2],[4.1,51.3],[4.2,51.4],[4.3,51.3]]],type:"Polygon"},type:"Feature",properties:{iso2:"BE",lng:4,lat:50.8}},{geometry:{coordinates:[[[27.9,42.8],[27.6,42.6],[27.5,42.4],[27.8,42.2],[28,42],[27.6,42],[27.3,42.1],[27,42],[26.5,41.8],[26.4,41.7],[26.2,41.5],[25.9,41.3],[25.5,41.3],[25.1,41.4],[24.6,41.4],[24.3,41.6],[24.1,41.5],[23.7,41.4],[23.3,41.4],[23,41.3],[23,41.6],[22.9,41.9],[22.5,42.1],[22.6,42.5],[22.4,42.8],[23,43.1],[22.8,43.4],[22.5,43.5],[22.5,44.1],[22.9,44.1],[22.8,43.9],[23.1,43.8],[23.4,43.9],[24,43.7],[24.4,43.7],[24.6,43.7],[25,43.7],[25.4,43.6],[25.8,43.7],[26.1,44],[26.7,44.1],[27.1,44.1],[27.5,44],[27.9,44],[28.1,43.8],[28.5,43.7],[28.6,43.4],[28.2,43.4],[27.9,43.2],[27.9,42.8]]],type:"Polygon"},type:"Feature",properties:{iso2:"BG",lng:25,lat:43}},{geometry:{coordinates:[[[26.6,55.7],[27,55.8],[27.6,55.8],[27.9,56.1],[28.3,56],[28.7,56],[29.1,56],[29.4,55.8],[30,55.9],[30.8,55.6],[30.9,55.2],[30.9,54.9],[31.1,54.6],[31.3,54.2],[31.9,54],[32.1,53.8],[32.5,53.6],[32.5,53.2],[32,53.1],[31.4,53.2],[31.5,52.9],[31.6,52.5],[31.8,52.1],[31.3,52.1],[31,52],[30.6,51.6],[30.4,51.4],[29.9,51.5],[29.4,51.4],[29.1,51.6],[28.7,51.5],[28.3,51.6],[28,51.6],[27.7,51.6],[27.2,51.7],[26.9,51.8],[26.4,51.8],[26,51.9],[25.4,51.9],[25,51.9],[24.3,51.7],[23.7,51.7],[23.5,51.7],[23.7,52],[23.2,52.3],[23.7,52.6],[23.9,53],[23.6,53.7],[23.8,53.9],[24.2,54],[24.5,54],[24.9,54.1],[25.3,54.3],[25.5,54.2],[25.8,54.3],[25.7,54.6],[25.9,54.9],[26.3,55.1],[26.6,55.3],[26.6,55.7]]],type:"Polygon"},type:"Feature",properties:{iso2:"BY",lng:28,lat:53}},{geometry:{coordinates:[[[7.7,47.5],[8,47.6],[8.3,47.6],[8.6,47.6],[8.4,47.7],[8.7,47.8],[8.9,47.7],[9.3,47.7],[9.7,47.5],[9.5,47.3],[9.6,47.1],[9.9,46.9],[10.2,46.9],[10.4,47],[10.5,46.6],[10.3,46.5],[10.1,46.6],[10,46.4],[10.2,46.3],[9.9,46.4],[9.7,46.3],[9.5,46.4],[9.3,46.5],[9.3,46.3],[9.1,46.1],[9,45.9],[8.9,45.9],[8.8,46.1],[8.6,46.1],[8.4,46.3],[8.5,46.5],[8.3,46.4],[8.1,46.1],[7.9,45.9],[7.7,46],[7.5,45.9],[7.2,45.9],[7,46],[6.8,46.2],[6.7,46.5],[6.3,46.4],[6.3,46.3],[6,46.1],[6.1,46.2],[6.1,46.6],[6.4,46.8],[6.5,47],[6.7,47.1],[7,47.3],[7,47.5],[7.3,47.4],[7.5,47.5],[7.7,47.6],[7.7,47.5]]],type:"Polygon"},type:"Feature",properties:{iso2:"CH",lng:8,lat:47}},{geometry:{coordinates:[[[33.7,35.4],[33.9,35.4],[34.3,35.6],[34.5,35.7],[34.6,35.6],[34.3,35.5],[34.1,35.4],[33.9,35.3],[34,35.1],[34.1,35],[33.9,34.9],[33.8,35],[33.6,34.9],[33.5,34.8],[33.3,34.7],[33.1,34.7],[33,34.6],[32.9,34.7],[32.8,34.6],[32.7,34.7],[32.5,34.7],[32.4,34.8],[32.3,35],[32.4,35],[32.5,35.1],[32.6,35.2],[32.8,35.2],[32.9,35.2],[32.9,35.4],[33.3,35.3],[33.5,35.3],[33.7,35.4]]],type:"Polygon"},type:"Feature",properties:{iso2:"CY",lng:33,lat:35}},{geometry:{coordinates:[[[14.7,48.6],[14.4,48.6],[14.1,48.7],[13.8,48.8],[13.6,48.9],[13.4,49],[13.2,49.2],[12.8,49.3],[12.6,49.6],[12.5,49.9],[12.3,50],[12.2,50.2],[12.3,50.2],[12.6,50.4],[12.8,50.5],[13.1,50.5],[13.3,50.6],[13.5,50.7],[13.9,50.8],[14.3,50.9],[14.3,51.1],[14.6,50.9],[14.8,50.9],[15.2,51],[15.4,50.8],[15.8,50.7],[16.1,50.6],[16.3,50.7],[16.3,50.5],[16.4,50.4],[16.5,50.2],[16.7,50.1],[16.9,50.2],[16.9,50.3],[17.2,50.4],[17.4,50.3],[17.8,50.3],[17.6,50.2],[17.8,50],[18.1,50.1],[18.4,49.9],[18.6,49.8],[18.8,49.6],[18.7,49.5],[18.4,49.3],[18.2,49.2],[18.1,49],[17.7,48.9],[17.4,48.8],[17.1,48.8],[16.9,48.6],[16.7,48.7],[16.5,48.8],[16.3,48.7],[15.8,48.9],[15.5,48.9],[15.3,49],[15,49],[14.9,48.8],[14.7,48.6]]],type:"Polygon"},type:"Feature",properties:{iso2:"CZ",lng:15.5,lat:49.8}},{geometry:{coordinates:[[[[11,54.4],[10.8,53.9],[11.6,54],[12.4,54.4],[12.5,54.2],[13.7,54.2],[14.3,53.7],[14.2,52.8],[14.5,52.4],[14.7,51.7],[15,51.4],[14.6,50.9],[14,50.8],[13.2,50.6],[12.6,50.4],[12.3,50.1],[12.6,49.5],[13.4,49],[13.8,48.6],[13.4,48.4],[13,47.9],[13,47.5],[12.2,47.6],[11.1,47.4],[10.5,47.5],[9.7,47.6],[8.8,47.7],[8.6,47.7],[7.8,47.6],[7.6,48.1],[8.1,48.8],[7.6,49.1],[6.9,49.2],[6.5,49.7],[6.1,50.1],[6.3,50.6],[5.9,51],[6.2,51.6],[6.6,51.9],[6.9,52.2],[6.9,52.4],[7,52.6],[7.2,53.3],[7.2,53.6],[8,53.7],[8.3,53.4],[8.5,53.7],[9.2,53.9],[9.8,53.5],[8.9,54.1],[8.7,54.4],[8.7,54.8],[8.4,55],[9.3,54.8],[10,54.6],[10.7,54.3],[11,54.4]]],[[[13.4,54.6],[13.5,54.6],[13.6,54.6],[13.7,54.6],[13.7,54.5],[13.6,54.5],[13.6,54.4],[13.7,54.4],[13.7,54.3],[13.5,54.3],[13.4,54.3],[13.4,54.2],[13.3,54.2],[13.3,54.3],[13.2,54.3],[13.1,54.3],[13.1,54.4],[13.2,54.4],[13.3,54.4],[13.2,54.5],[13.1,54.5],[13.2,54.6],[13.3,54.6],[13.4,54.5],[13.5,54.5],[13.2,54.7],[13.3,54.7],[13.4,54.7],[13.4,54.6]]],[[[14,54.1],[14.1,54],[14.2,53.9],[14.1,53.9],[14,53.9],[14,53.8],[13.9,53.8],[13.8,53.9],[13.9,53.9],[14,54],[13.9,54.1],[13.9,54],[13.8,54],[13.8,54.1],[13.8,54.2],[14,54.1]]],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"DE",lng:9,lat:51}},{geometry:{coordinates:[[[[10.4,57.6],[10.4,57.5],[10.5,57.5],[10.5,57.4],[10.5,57.2],[10.4,57.2],[10.4,57.1],[10.3,57],[10.2,57],[10.1,57],[10,57.1],[9.5,57],[9.3,57],[9.2,57],[9.1,57],[9.1,57.1],[9,57],[8.9,57],[8.8,57],[8.8,56.9],[8.7,57],[8.7,56.9],[8.6,56.9],[8.6,56.8],[8.5,56.8],[8.5,56.7],[8.4,56.7],[8.6,56.7],[8.6,56.6],[8.5,56.6],[8.2,56.7],[8.2,56.8],[8.3,56.8],[8.3,56.9],[8.4,56.9],[8.5,57],[8.6,57.1],[8.7,57.1],[8.8,57.1],[8.9,57.1],[9,57.2],[9.2,57.1],[9.3,57.1],[9.4,57.2],[9.5,57.2],[9.6,57.2],[9.6,57.3],[9.7,57.4],[9.8,57.4],[9.8,57.5],[9.9,57.6],[10,57.6],[10.1,57.6],[10.2,57.6],[10.3,57.6],[10.4,57.7],[10.5,57.7],[10.6,57.7],[10.5,57.6],[10.4,57.6]]],[[[10,57.1],[10.3,57],[10.3,56.7],[9.9,56.6],[10.4,56.7],[10.2,56.6],[10.5,56.5],[10.9,56.5],[10.7,56.2],[10.6,56.1],[10.5,56.3],[10.2,56.1],[10.3,55.9],[10.1,55.8],[9.9,55.8],[9.8,55.7],[9.8,55.6],[9.7,55.3],[9.5,55.2],[9.6,55],[9.8,54.9],[9.6,54.9],[9.4,54.8],[9.2,54.9],[8.7,54.9],[8.6,55.1],[8.6,55.2],[8.6,55.4],[8.4,55.5],[8.1,55.5],[8.2,55.8],[8.1,56],[8.3,55.9],[8.3,56.1],[8.1,56.3],[8.2,56.6],[8.4,56.6],[8.6,56.5],[8.8,56.6],[8.9,56.8],[9.2,56.7],[9,56.6],[9.3,56.5],[9.3,56.7],[9.4,57],[9.7,57],[9.9,57.1],[10,57.1]]],[[[12.6,56],[12.6,55.9],[12.6,55.7],[12.5,55.6],[12.3,55.6],[12.2,55.4],[12.4,55.4],[12.5,55.3],[12.2,55.2],[12,55.1],[12.2,55.1],[12.1,55],[11.9,55],[11.7,55.1],[11.8,55.2],[11.6,55.2],[11.4,55.2],[11.2,55.2],[11.2,55.4],[11.1,55.7],[10.9,55.7],[11.3,55.7],[11.5,55.9],[11.3,56],[11.6,55.9],[11.7,56],[11.8,55.9],[11.8,55.8],[11.9,55.9],[12,55.8],[12.1,55.7],[11.9,55.7],[11.9,56],[12.3,56.1],[12.6,56]]],[[[10.7,55.5],[10.8,55.4],[10.8,55.3],[10.8,55.2],[10.8,55.1],[10.7,55.1],[10.6,55.1],[10.5,55],[10.2,55.1],[10.1,55.1],[10.1,55.2],[10,55.2],[9.9,55.3],[9.8,55.4],[9.8,55.5],[9.7,55.5],[9.9,55.5],[10,55.5],[10.1,55.6],[10.2,55.6],[10.3,55.6],[10.4,55.6],[10.5,55.5],[10.4,55.5],[10.4,55.4],[10.5,55.4],[10.6,55.5],[10.6,55.6],[10.7,55.6],[10.7,55.5]]],[[[11.5,54.8],[11.6,54.8],[11.6,54.9],[11.7,54.9],[11.8,54.8],[11.9,54.7],[11.8,54.7],[11.8,54.6],[11.7,54.6],[11.7,54.7],[11.6,54.7],[11.5,54.6],[11.4,54.6],[11.4,54.7],[11.3,54.7],[11.2,54.7],[11.1,54.7],[11,54.8],[11,54.9],[11.1,54.9],[11.1,55],[11.2,55],[11.3,54.9],[11.4,54.9],[11.5,54.8]]],[[[12,54.9],[12.1,54.9],[12.2,54.8],[12.1,54.8],[12,54.7],[12,54.6],[11.9,54.6],[11.9,54.7],[11.9,54.8],[11.8,54.8],[11.8,54.9],[11.7,54.9],[11.7,55],[11.8,55],[11.9,55],[11.9,54.9],[12,54.9]]],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"DK",lng:10,lat:56}},{geometry:{coordinates:[[[[25.8,59.6],[26.1,59.6],[26.5,59.5],[26.7,59.6],[26.9,59.5],[27.2,59.4],[27.6,59.4],[28,59.4],[28.1,59.4],[28.1,59.3],[27.9,59.2],[27.7,59],[27.4,58.8],[27.5,58.5],[27.5,58.2],[27.7,58.1],[27.8,57.8],[27.5,57.8],[27.4,57.6],[27.1,57.6],[26.7,57.6],[26.5,57.5],[26,57.8],[25.6,57.9],[25.3,58.1],[25.2,58.1],[25,58],[24.5,58],[24.3,57.9],[24.5,58.2],[24.5,58.4],[24.3,58.3],[24.1,58.3],[23.8,58.4],[23.6,58.5],[23.6,58.7],[23.8,58.8],[23.4,58.9],[23.6,59],[23.4,59.1],[23.6,59.2],[23.8,59.3],[24,59.4],[24.3,59.4],[24.5,59.5],[24.8,59.6],[25.2,59.5],[25.5,59.6],[25.7,59.6],[25.8,59.6]]],[[[23,58.6],[23.1,58.6],[23.3,58.5],[23.3,58.4],[23.2,58.4],[23.1,58.4],[23,58.4],[22.8,58.2],[22.6,58.2],[22.5,58.2],[22.4,58.2],[22.3,58.2],[22.3,58.1],[22.2,58],[22.1,57.9],[22,57.9],[22,58],[22.1,58.1],[22.2,58.1],[22.2,58.2],[22.1,58.2],[21.9,58.3],[21.8,58.3],[22,58.3],[22,58.4],[21.9,58.5],[21.8,58.5],[22,58.5],[22.1,58.5],[22.2,58.5],[22.3,58.6],[22.5,58.6],[22.6,58.6],[22.8,58.6],[22.9,58.6],[23,58.6]]],[[[22.7,59],[22.8,59],[22.9,59],[23,59],[23,58.9],[23,58.8],[22.9,58.8],[22.8,58.8],[22.7,58.8],[22.7,58.7],[22.6,58.7],[22.5,58.7],[22.5,58.8],[22.4,58.8],[22.4,58.9],[22.3,58.9],[22.2,58.9],[22.1,58.9],[22,58.9],[22.1,59],[22.4,59],[22.5,59],[22.6,59.1],[22.7,59.1],[22.7,59]]],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"EE",lng:26,lat:59}},{geometry:{coordinates:[[[[-7.9,43.8],[-7.2,43.6],[-6.3,43.6],[-5.6,43.6],[-4.9,43.4],[-4.2,43.4],[-3.2,43.4],[-2.5,43.3],[-1.8,43.3],[-1.4,43],[-.8,42.9],[-.3,42.8],[.3,42.7],[.8,42.8],[1.4,42.6],[2,42.4],[2.7,42.3],[3.3,42.2],[3.1,41.8],[2.3,41.4],[1.7,41.2],[.9,41],[.5,40.5],[-.1,39.9],[-.1,39],[.1,38.7],[-.5,38.3],[-.9,37.7],[-1.4,37.5],[-1.9,37],[-2.3,36.8],[-2.9,36.7],[-3.7,36.7],[-4.5,36.7],[-5.2,36.4],[-5.9,36.2],[-6.2,36.6],[-6.9,37.2],[-7.4,37.4],[-7.3,38],[-7.1,38.2],[-7.1,38.9],[-7.4,39.5],[-7.1,39.7],[-6.8,40.3],[-6.9,41],[-6.4,41.4],[-6.5,41.7],[-6.9,41.9],[-7.3,41.8],[-8,41.8],[-8.2,42.1],[-8.7,42],[-8.6,42.4],[-8.9,42.4],[-8.9,42.6],[-9.1,42.8],[-9.1,43.2],[-8.4,43.4],[-7.9,43.8]]],[[[3.2,39.7],[3.3,39.7],[3.3,39.8],[3.4,39.8],[3.5,39.7],[3.4,39.6],[3.4,39.5],[3.3,39.5],[3.3,39.4],[3.2,39.4],[3.1,39.3],[3,39.3],[2.8,39.4],[2.7,39.4],[2.7,39.5],[2.8,39.5],[2.7,39.6],[2.5,39.5],[2.4,39.5],[2.4,39.6],[2.5,39.7],[2.7,39.8],[2.8,39.8],[3,39.9],[3.1,39.9],[3.1,39.8],[3.2,39.8],[3.2,39.7]]],[[[-14.3,28],[-14.4,28],[-14.4,28.1],[-14.3,28.1],[-14.3,28.2],[-14.2,28.2],[-14.2,28.3],[-14.1,28.4],[-14.1,28.5],[-14.1,28.6],[-14,28.6],[-14,28.7],[-13.9,28.7],[-13.9,28.8],[-13.8,28.7],[-13.8,28.6],[-13.8,28.5],[-13.9,28.4],[-13.9,28.3],[-13.9,28.2],[-14,28.2],[-14.1,28.2],[-14.2,28.1],[-14.3,28]]],[[[-16.3,28.4],[-16.4,28.4],[-16.4,28.2],[-16.4,28.1],[-16.5,28.1],[-16.5,28],[-16.6,28],[-16.7,28],[-16.7,28.1],[-16.8,28.1],[-16.8,28.2],[-16.9,28.3],[-16.9,28.4],[-16.8,28.4],[-16.7,28.4],[-16.6,28.4],[-16.5,28.4],[-16.4,28.5],[-16.3,28.6],[-16.2,28.6],[-16.2,28.5],[-16.3,28.4]]],[[[-15.6,27.8],[-15.6,27.7],[-15.7,27.8],[-15.8,27.8],[-15.8,27.9],[-15.8,28],[-15.7,28],[-15.7,28.1],[-15.7,28.2],[-15.6,28.2],[-15.4,28.1],[-15.4,28],[-15.4,27.8],[-15.5,27.8],[-15.6,27.8]]],[[[4.3,40],[4.3,39.9],[4.3,39.8],[4.2,39.8],[4.1,39.9],[4,39.9],[3.9,39.9],[3.8,39.9],[3.8,40],[3.8,40.1],[3.9,40.1],[4.1,40.1],[4.2,40.1],[4.2,40],[4.3,40]]],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"ES",lng:-4,lat:40}},{geometry:{coordinates:[[[[28.2,69.9],[29.3,69.5],[28.9,69],[28.5,68.6],[29.9,67.7],[29.1,66.9],[29.8,66.2],[29.8,65.6],[29.8,65.2],[29.7,64.8],[30,64.5],[30.6,64],[30.3,63.6],[31.5,63],[30.8,62.3],[29.7,61.5],[28.8,61.1],[28.1,60.7],[27.2,60.6],[26.6,60.6],[25.9,60.4],[25.7,60.4],[24.6,60.1],[23.6,60],[23.2,59.9],[23,60.2],[22.5,60.2],[21.9,60.5],[21.4,60.8],[21.5,61.5],[21.3,62],[21.1,62.6],[21.6,63.1],[22.3,63.3],[22.7,63.7],[23.4,64],[24.2,64.5],[25,64.9],[25.3,65],[25.2,65.6],[24.7,65.9],[23.7,66.2],[24,66.8],[23.8,67.4],[23.5,67.9],[23,68.3],[22.1,68.5],[21.2,68.8],[20.8,69.1],[22,69.1],[22.9,68.7],[23.7,68.7],[24.5,68.7],[25.4,68.9],[25.8,69.4],[26.4,69.8],[27.3,69.9],[28.2,69.9]]],[],[],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"FI",lng:26,lat:64}},{geometry:{coordinates:[[[[2.5,51.1],[3.2,50.7],[4,50.3],[4.5,49.9],[5,49.8],[6.1,49.5],[6.9,49.2],[7.7,49],[7.9,48.7],[7.5,47.8],[7.1,47.5],[6.6,47],[6.1,46.4],[6.2,46.3],[6.9,46.1],[7.1,45.5],[6.7,45.1],[6.9,44.5],[7.7,44.2],[7.2,43.7],[6.2,43.1],[5.3,43.4],[5,43.6],[4.6,43.4],[3.8,43.5],[3,42.9],[2.7,42.4],[1.9,42.4],[1.4,42.6],[.7,42.8],[-.1,42.7],[-.8,43],[-1.4,43.1],[-1.6,43.4],[-1.3,44.5],[-1.2,45],[-.8,45.4],[-.7,45.4],[-1.1,46.1],[-1.9,46.6],[-2.2,47.2],[-2.4,47.3],[-2.9,47.5],[-3.6,47.8],[-4.4,47.8],[-4.3,48.1],[-4.2,48.3],[-4.5,48.6],[-3.5,48.7],[-2.7,48.5],[-1.9,48.7],[-1.5,48.7],[-1.8,49.4],[-1.4,49.7],[-1,49.4],[-.1,49.3],[.2,49.5],[1.2,50],[1.6,50.8],[2.5,51.1]]],[[[9.4,42.7],[9.4,42.6],[9.5,42.6],[9.5,42.5],[9.6,42.3],[9.6,42.2],[9.6,42.1],[9.5,42.1],[9.4,42],[9.4,41.9],[9.4,41.8],[9.4,41.7],[9.4,41.6],[9.3,41.6],[9.3,41.5],[9.2,41.5],[9.2,41.4],[9.3,41.4],[9.1,41.4],[9,41.5],[8.9,41.5],[8.8,41.6],[8.9,41.6],[8.9,41.7],[8.8,41.7],[8.7,41.7],[8.7,41.8],[8.8,41.9],[8.7,41.9],[8.6,41.9],[8.6,42],[8.7,42],[8.7,42.1],[8.6,42.1],[8.6,42.2],[8.6,42.3],[8.7,42.3],[8.6,42.4],[8.7,42.5],[8.7,42.6],[8.9,42.6],[9.1,42.7],[9.2,42.7],[9.3,42.7],[9.3,42.8],[9.3,43],[9.4,43],[9.5,43],[9.5,42.8],[9.5,42.7],[9.4,42.7]]],[],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"FR",lng:2,lat:46}},{geometry:{coordinates:[[[[-4.2,53.2],[-3.1,53.2],[-3,53.8],[-3.5,54.4],[-3.1,55],[-4.4,54.9],[-5,54.8],[-5,55.2],[-4.8,55.9],[-5.2,55.8],[-5.4,55.9],[-5.8,55.4],[-5.5,56.2],[-5.3,56.5],[-5.8,56.5],[-6.1,56.8],[-5.5,57],[-5.5,57.4],[-5.6,57.6],[-5.2,57.9],[-5.2,58.3],[-4.6,58.5],[-3.4,58.6],[-3.6,58.1],[-4,57.8],[-4,57.6],[-2.9,57.7],[-1.8,57.5],[-2.5,56.6],[-3,56.4],[-3.2,56.1],[-2.8,56.1],[-1.8,55.6],[-1.3,54.8],[-.2,54.2],[0,53.6],[.2,53.5],[.2,52.9],[1.2,52.9],[1.7,52.3],[.9,51.8],[.4,51.4],[1.4,51.1],[.4,50.8],[-.8,50.7],[-2.1,50.7],[-2.8,50.7],[-3.8,50.2],[-4.9,50.2],[-5.7,50.1],[-4.7,50.7],[-4,51.2],[-2.9,51.4],[-3.2,51.5],[-4.2,51.5],[-4.8,51.6],[-5.2,51.9],[-4.1,52.3],[-4.5,52.8],[-4.2,53.2]]],[[[-6.2,58.4],[-6.2,58.3],[-6.3,58.3],[-6.3,58.2],[-6.2,58.2],[-6.1,58.3],[-6.4,58.2],[-6.4,58.1],[-6.5,58.1],[-6.6,58.1],[-6.4,58],[-6.5,58],[-6.5,57.9],[-6.6,57.9],[-6.7,57.9],[-6.7,58],[-6.6,58],[-6.7,58.1],[-6.8,58],[-6.7,57.8],[-7,57.7],[-7.1,57.8],[-7,57.8],[-6.8,57.9],[-6.9,57.9],[-6.9,58],[-7,58],[-7.1,58],[-7.1,58.1],[-7.1,58.2],[-7,58.2],[-6.9,58.2],[-6.9,58.1],[-6.8,58.2],[-6.7,58.2],[-6.8,58.3],[-6.7,58.3],[-6.6,58.3],[-6.6,58.4],[-6.4,58.5],[-6.3,58.5],[-6.2,58.5],[-6.2,58.4]]],[[[-6.4,55.2],[-6.2,55.2],[-6,55.2],[-5.8,54.9],[-5.7,54.8],[-5.8,54.7],[-5.9,54.6],[-5.5,54.7],[-5.5,54.5],[-5.5,54.4],[-5.6,54.6],[-5.7,54.5],[-5.6,54.3],[-5.7,54.2],[-5.9,54.2],[-6,54.1],[-6.1,54],[-6.3,54.1],[-6.6,54.1],[-6.7,54.1],[-6.9,54.3],[-7,54.4],[-7.2,54.3],[-7.1,54.2],[-7.6,54.1],[-7.7,54.2],[-7.9,54.2],[-8,54.4],[-8.2,54.4],[-8,54.5],[-7.9,54.6],[-7.8,54.7],[-7.6,54.8],[-7.5,54.9],[-7.4,55],[-7.3,55.1],[-7,55],[-7,55.2],[-6.8,55.2],[-6.6,55.2],[-6.4,55.2]]],[[[-6.1,57.6],[-6.1,57.5],[-6.1,57.4],[-6.1,57.3],[-5.9,57.2],[-5.8,57.3],[-5.7,57.3],[-5.6,57.3],[-5.7,57.2],[-5.8,57.1],[-5.9,57.1],[-5.9,57],[-6,57],[-6,57.1],[-6,57.2],[-6.1,57.1],[-6.2,57.2],[-6.3,57.2],[-6.4,57.3],[-6.5,57.3],[-6.3,57.3],[-6.5,57.4],[-6.6,57.4],[-6.6,57.3],[-6.7,57.4],[-6.8,57.4],[-6.7,57.5],[-6.6,57.6],[-6.6,57.5],[-6.5,57.5],[-6.4,57.5],[-6.4,57.6],[-6.3,57.7],[-6.2,57.6],[-6.1,57.6]]],[[[-1.3,60.5],[-1.2,60.5],[-1,60.4],[-1.1,60.4],[-1.1,60.3],[-1.2,60.3],[-1.2,60.2],[-1.1,60.2],[-1.1,60.1],[-1.2,60.1],[-1.2,60],[-1.3,59.9],[-1.4,59.9],[-1.3,60],[-1.3,60.1],[-1.3,60.2],[-1.4,60.3],[-1.4,60.2],[-1.5,60.2],[-1.6,60.2],[-1.7,60.2],[-1.7,60.3],[-1.6,60.3],[-1.5,60.3],[-1.3,60.3],[-1.3,60.4],[-1.4,60.5],[-1.5,60.5],[-1.6,60.5],[-1.4,60.6],[-1.3,60.6],[-1.3,60.5]]],[[[-5.8,56.5],[-5.7,56.5],[-5.6,56.4],[-5.7,56.4],[-5.8,56.3],[-5.9,56.3],[-5.9,56.4],[-6,56.3],[-6.3,56.3],[-6.4,56.3],[-6.2,56.3],[-6.1,56.4],[-6,56.4],[-6.2,56.4],[-6,56.5],[-6.1,56.5],[-6.3,56.5],[-6.3,56.6],[-6.2,56.6],[-6.1,56.7],[-6.1,56.6],[-6,56.6],[-5.9,56.5],[-5.8,56.5]]],[[[-6.1,55.9],[-6.1,55.8],[-6,55.8],[-6,55.7],[-6.1,55.6],[-6.2,55.6],[-6.3,55.6],[-6.3,55.7],[-6.3,55.8],[-6.4,55.8],[-6.4,55.7],[-6.5,55.7],[-6.4,55.9],[-6.3,55.9],[-6.2,55.9],[-6.1,55.9]]]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"GB",lng:-2,lat:54}},{geometry:{coordinates:[[[41.5,42.4],[41.5,42.7],[41.2,42.8],[41,43],[40.8,43.1],[40.3,43.2],[40.1,43.4],[40.1,43.6],[40.4,43.6],[40.7,43.5],[41,43.4],[41.4,43.3],[42.1,43.2],[42.4,43.2],[42.7,43.2],[42.9,43.1],[43.2,42.9],[43.6,42.9],[43.8,42.8],[43.7,42.6],[44.2,42.6],[44.5,42.8],[44.7,42.7],[44.9,42.8],[45.2,42.7],[45.4,42.5],[45.6,42.6],[45.8,42.5],[45.6,42.2],[46.1,42],[46.4,41.9],[46.3,41.8],[46.2,41.6],[46.6,41.4],[46.7,41.1],[46.5,41.1],[46.3,41.2],[46,41.2],[45.7,41.3],[45.3,41.5],[45.1,41.4],[44.9,41.2],[44.6,41.2],[44.3,41.2],[44,41.2],[43.8,41.1],[43.5,41.1],[43.3,41.2],[43,41.4],[42.7,41.6],[42.5,41.4],[42.2,41.5],[41.9,41.5],[41.7,41.5],[41.6,41.6],[41.8,41.8],[41.7,42.1],[41.6,42.3],[41.5,42.4]]],type:"Polygon"},type:"Feature",properties:{iso2:"GE",lng:43.5,lat:42}},{geometry:{coordinates:[[[[23.9,35.5],[24,35.5],[24.1,35.5],[24.1,35.6],[24.2,35.6],[24.2,35.5],[24.3,35.4],[24.4,35.4],[24.5,35.4],[24.6,35.4],[24.8,35.4],[25,35.4],[25.1,35.3],[25.2,35.3],[25.3,35.3],[25.4,35.3],[25.5,35.3],[25.6,35.3],[25.7,35.3],[25.8,35.3],[25.7,35.2],[25.7,35.1],[25.8,35.1],[25.9,35.2],[26,35.2],[26.1,35.2],[26.2,35.2],[26.3,35.3],[26.3,35.1],[26.2,35],[26.1,35],[26,35],[25.6,35],[25.5,35],[25.3,35],[25.2,35],[25,34.9],[24.9,34.9],[24.8,34.9],[24.8,35],[24.7,35.1],[24.6,35.1],[24.5,35.1],[24.4,35.2],[24.2,35.2],[24.1,35.2],[24,35.2],[23.9,35.2],[23.8,35.2],[23.7,35.2],[23.6,35.2],[23.5,35.3],[23.6,35.5],[23.6,35.6],[23.7,35.5],[23.7,35.6],[23.7,35.7],[23.8,35.7],[23.8,35.6],[23.8,35.5],[23.9,35.5]]],[[[26.3,41.7],[26.4,41.3],[26.1,40.8],[25.7,40.9],[25.2,41],[24.4,40.9],[23.8,40.8],[24,40.4],[24.1,40.3],[24,40.1],[23.4,40.3],[23.7,39.9],[22.8,40.5],[22.6,40.5],[22.7,40],[23.3,39.3],[23.2,39.3],[23,39.1],[22.5,38.9],[23.2,38.6],[23.6,38.5],[24.1,38.2],[24,37.7],[23.3,38],[23.2,37.6],[23.4,37.4],[22.9,37.5],[22.9,37.1],[23,36.7],[22.9,36.6],[22.5,36.4],[22,37],[21.7,36.8],[21.7,37.4],[21.1,37.8],[21.6,38.1],[22.2,38.2],[23,38],[23.1,38.2],[22.5,38.4],[21.7,38.4],[21.3,38.3],[20.8,38.8],[21.1,39],[20.7,39.1],[20.2,39.6],[20.4,39.9],[20.7,40.2],[21,40.6],[21.2,40.9],[21.9,41.1],[22.6,41.1],[23.1,41.3],[23.7,41.4],[24.2,41.6],[24.9,41.4],[25.6,41.3],[26.2,41.5],[26.3,41.7]]],[[[23.5,38.9],[23.5,38.8],[23.6,38.8],[23.8,38.7],[23.9,38.7],[24,38.7],[24.2,38.6],[24.2,38.4],[24.2,38.2],[24.3,38.2],[24.4,38.1],[24.5,38.1],[24.6,38.1],[24.6,38],[24.5,38],[24.4,38],[24.3,38],[24.1,38.2],[24.1,38.3],[24,38.4],[24.1,38.4],[23.9,38.4],[23.8,38.4],[23.7,38.4],[23.6,38.4],[23.6,38.5],[23.6,38.6],[23.5,38.6],[23.3,38.7],[23.2,38.8],[23.1,38.9],[23.1,38.8],[22.8,38.8],[22.8,38.9],[22.9,38.9],[23.1,39],[23.3,39],[23.4,39],[23.4,38.9],[23.5,38.9]]],[[[26.4,39.3],[26.5,39.2],[26.6,39.1],[26.6,39],[26.5,39],[26.4,39],[26.3,39],[26.2,39],[26.1,39],[26.1,39.1],[26.2,39.1],[26.3,39.2],[26.2,39.2],[26,39.1],[25.9,39.1],[25.9,39.2],[25.8,39.2],[25.9,39.3],[26,39.3],[26.2,39.3],[26.2,39.4],[26.3,39.4],[26.4,39.3]]],[[[27.8,35.9],[27.7,35.9],[27.7,36],[27.7,36.1],[27.7,36.2],[27.8,36.3],[27.9,36.3],[28.1,36.4],[28.2,36.4],[28.2,36.5],[28.2,36.3],[28.1,36.2],[28.1,36.1],[28,36.1],[28,36],[27.9,36],[27.9,35.9],[27.8,35.9]]],[[[26,38.2],[26,38.1],[25.9,38.2],[25.9,38.3],[26,38.3],[26,38.4],[25.9,38.5],[25.8,38.5],[25.8,38.6],[25.9,38.6],[26,38.6],[26.1,38.6],[26.2,38.6],[26.2,38.5],[26.1,38.4],[26.2,38.3],[26.1,38.2],[26,38.2]]],[[[19.9,39.8],[20,39.8],[19.9,39.7],[19.8,39.7],[19.8,39.6],[19.9,39.5],[20,39.4],[20.1,39.4],[20.1,39.5],[19.9,39.4],[19.8,39.5],[19.7,39.6],[19.7,39.7],[19.6,39.7],[19.6,39.8],[19.7,39.8],[19.8,39.8],[19.9,39.8]]]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"GR",lng:22,lat:39}},{geometry:{coordinates:[[[[16.6,46.5],[16.9,46.3],[17.2,46.2],[17.4,46],[17.7,45.9],[18.2,45.8],[18.6,45.8],[18.9,45.8],[18.9,45.5],[19,45.4],[19.4,45.2],[19.1,44.9],[18.8,45],[18.2,45.1],[17.8,45.1],[17.3,45.2],[17,45.2],[16.6,45.2],[16.3,45],[15.9,45.2],[15.7,44.8],[16,44.6],[16.1,44.2],[16.4,44.1],[16.7,43.9],[17,43.6],[17.3,43.5],[17.6,43.1],[17.5,43],[17.1,43.2],[16.7,43.4],[16.4,43.6],[16.1,43.5],[15.9,43.7],[15.5,43.9],[15.2,44.2],[15.3,44.3],[15.2,44.4],[14.9,44.8],[14.7,45.1],[14.4,45.3],[14.2,45.2],[14,44.9],[13.8,45],[13.5,45.4],[13.9,45.5],[14.5,45.5],[14.7,45.5],[15.1,45.5],[15.4,45.7],[15.6,45.8],[15.7,46.1],[15.8,46.2],[16.3,46.4],[16.5,46.5],[16.6,46.5]]],[[[17.3,43],[17.4,43],[17.4,42.9],[17.5,42.9],[17.7,42.9],[17.6,42.9],[17.8,42.9],[17.9,42.8],[18,42.8],[18.2,42.7],[18.2,42.6],[18.3,42.6],[18.4,42.6],[18.5,42.6],[18.5,42.5],[18.5,42.4],[18.4,42.5],[18.1,42.7],[17.8,42.8],[17.7,42.8],[17.6,42.8],[17.2,43],[17.1,43],[17,43],[17.3,43]]],[[[14.5,44.9],[14.4,44.9],[14.5,44.8],[14.5,44.7],[14.5,44.6],[14.4,44.7],[14.4,44.8],[14.3,44.8],[14.3,44.9],[14.4,45],[14.3,45.1],[14.3,45.2],[14.4,45.2],[14.4,45.1],[14.5,45],[14.5,44.9]]],[[[14.8,44.6],[14.9,44.6],[15,44.6],[15,44.5],[15.1,44.5],[14.9,44.5],[15.1,44.4],[15.2,44.4],[15.2,44.3],[15.3,44.3],[15.1,44.3],[15,44.4],[14.7,44.7],[14.8,44.7],[14.8,44.6]]],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"HR",lng:15.5,lat:45.2}},{geometry:{coordinates:[[[18.8,45.9],[18.4,45.8],[18,45.8],[17.6,45.9],[17.3,46],[17.1,46.2],[16.9,46.4],[16.5,46.5],[16.3,46.9],[16.4,47],[16.5,47.3],[16.7,47.6],[16.5,47.7],[16.9,47.7],[17.1,47.9],[17.4,48],[17.8,47.7],[18.1,47.8],[18.4,47.8],[18.8,47.8],[18.8,48.1],[19.2,48.1],[19.7,48.2],[20.1,48.2],[20.4,48.4],[20.8,48.6],[21.1,48.5],[21.5,48.5],[21.8,48.3],[22.1,48.4],[22.4,48.2],[22.6,48.1],[22.9,48],[22.5,47.8],[22.2,47.6],[21.9,47.4],[21.7,47.1],[21.5,46.7],[21.2,46.4],[21,46.3],[20.7,46.2],[20.5,46.2],[20.2,46.2],[19.8,46.2],[19.5,46.1],[19,46],[18.8,45.9]]],type:"Polygon"},type:"Feature",properties:{iso2:"HU",lng:20,lat:47}},{geometry:{coordinates:[[[[-7.4,55],[-7.7,54.7],[-8,54.5],[-7.9,54.3],[-7.6,54.1],[-7.1,54.4],[-6.7,54.1],[-6.2,54.1],[-6.4,53.9],[-6.2,53.7],[-6.2,53.4],[-6.1,52.9],[-6.2,52.6],[-6.3,52.3],[-6.8,52.2],[-7.1,52.1],[-7.5,52],[-7.9,51.9],[-8.3,51.9],[-8.5,51.7],[-9,51.6],[-9.6,51.5],[-9.7,51.6],[-9.5,51.8],[-10.1,51.6],[-9.7,51.9],[-10.4,51.9],[-9.8,52.1],[-10.1,52.1],[-10.5,52.2],[-9.7,52.2],[-9.7,52.6],[-9,52.6],[-9.1,52.6],[-9.6,52.7],[-9.3,53.2],[-8.9,53.1],[-9.4,53.2],[-9.7,53.4],[-9.8,53.4],[-10,53.6],[-9.9,53.8],[-9.7,53.9],[-9.9,54.1],[-10.1,54.3],[-9.6,54.3],[-9.1,54.2],[-8.6,54.3],[-8.3,54.5],[-8.8,54.7],[-8.4,54.8],[-8.5,55],[-7.8,55.2],[-7.5,55.1],[-7.5,55],[-7.4,55.3],[-7,55.2],[-7.3,55],[-7.4,55]]],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"IE",lng:-8,lat:53}},{geometry:{coordinates:[[[-15.1,66.1],[-14.6,65.9],[-14.3,65.8],[-13.9,65.6],[-13.8,65.2],[-14,65.1],[-14,64.8],[-14.5,64.6],[-15.2,64.3],[-16.2,64],[-17.1,63.8],[-17.9,63.5],[-19.3,63.4],[-20.5,63.7],[-20.8,63.8],[-21.4,63.9],[-22.3,63.9],[-22.3,64],[-21.8,64.3],[-22.1,64.3],[-22.1,64.5],[-22.7,64.8],[-23.6,64.7],[-23.8,64.9],[-22.4,65.1],[-21.8,65.2],[-22.2,65.3],[-22.2,65.4],[-22.8,65.5],[-23.7,65.4],[-24.3,65.6],[-24,65.7],[-23.5,65.6],[-23.6,65.8],[-23.7,66],[-23.6,66.2],[-22.7,66.1],[-22.5,65.8],[-22.7,66.3],[-23.2,66.4],[-22,66.3],[-21.6,65.9],[-21.6,65.6],[-21.1,65.5],[-20.4,65.5],[-20.1,66.1],[-19.5,65.7],[-19.2,66.1],[-18.5,66.1],[-18,65.7],[-18,66.2],[-17.2,66.2],[-16.4,66.2],[-15.9,66.4],[-15.2,66.3],[-14.9,66.2],[-15.1,66.1]]],type:"Polygon"},type:"Feature",properties:{iso2:"IS",lng:-18,lat:65}},{geometry:{coordinates:[[[[12.1,47],[12.8,46.6],[13.5,46.4],[13.5,46.1],[13.9,45.6],[13.1,45.8],[12.4,45.4],[12.4,45],[12.3,44.5],[13,43.8],[13.6,43.5],[14.1,42.5],[14.9,42],[15.7,41.9],[15.9,41.6],[17,41.1],[18.1,40.5],[18.4,39.8],[17.9,40.3],[17.3,40.5],[16.6,40.1],[16.8,39.6],[17.1,38.9],[16.6,38.6],[16.1,38.1],[15.6,38],[15.8,38.6],[16.2,39],[15.9,39.5],[15.6,40.1],[14.9,40.2],[14.7,40.6],[14.2,40.8],[13.6,41.3],[12.9,41.4],[12.2,41.9],[11.6,42.3],[11.2,42.6],[10.6,43],[10.3,43.6],[9.4,44.3],[8.4,44.2],[7.7,43.8],[7.6,44.2],[6.9,44.5],[6.6,45.1],[7.2,45.4],[6.9,45.8],[7.6,46],[8.2,46.2],[8.4,46.2],[8.9,45.9],[9.2,46.2],[9.5,46.3],[10.1,46.2],[10.3,46.6],[10.6,46.9],[11.5,47],[12.1,47]]],[[[15.5,38.1],[15.4,37.9],[15.2,37.7],[15.2,37.5],[15.1,37.4],[15.2,37.2],[15.3,37.1],[15.2,37],[15.1,36.9],[15.1,36.7],[15,36.7],[14.8,36.7],[14.6,36.8],[14.4,36.9],[14.3,37],[14.1,37.1],[13.9,37.1],[13.6,37.2],[13.5,37.3],[13.3,37.4],[13.1,37.5],[13,37.6],[12.8,37.6],[12.5,37.7],[12.5,37.8],[12.5,38],[12.7,38.1],[12.9,38],[13,38.1],[13.1,38.2],[13.4,38.2],[13.7,38],[13.9,38],[14.1,38],[14.3,38],[14.5,38],[14.7,38.1],[14.9,38.2],[15.1,38.1],[15.3,38.2],[15.6,38.3],[15.6,38.2],[15.5,38.1]]],[[[9.5,41.1],[9.6,41],[9.6,40.9],[9.7,40.7],[9.7,40.6],[9.8,40.5],[9.7,40.4],[9.6,40.3],[9.7,40.1],[9.7,39.9],[9.7,39.7],[9.6,39.5],[9.6,39.3],[9.6,39.1],[9.4,39.1],[9.3,39.2],[9,39.1],[8.9,38.9],[8.7,38.9],[8.6,39],[8.5,39],[8.3,39.1],[8.4,39.2],[8.4,39.4],[8.4,39.6],[8.4,39.8],[8.5,39.7],[8.6,39.9],[8.4,39.9],[8.5,40.1],[8.5,40.3],[8.3,40.6],[8.1,40.6],[8.1,40.7],[8.3,40.9],[8.4,40.8],[8.6,40.8],[8.7,40.9],[8.8,41],[9,41.1],[9.2,41.2],[9.5,41.1]]],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"IT",lng:12.8,lat:42.8}},{geometry:{coordinates:[],type:"Polygon"},type:"Feature",properties:{iso2:"LI",lng:9.5,lat:47.3}},{geometry:{coordinates:[[[[25,56.3],[25.3,56.2],[25.7,56.1],[26.1,55.9],[26.3,55.8],[26.5,55.7],[26.5,55.4],[26.8,55.3],[26.5,55.2],[26.2,55],[25.9,54.9],[25.7,54.7],[25.7,54.5],[25.5,54.3],[25.8,54.3],[25.6,54.1],[25.6,54.2],[25.2,54.2],[25,54.2],[24.8,54],[24.5,54],[24.3,53.9],[24.1,54],[23.9,53.9],[23.6,53.9],[23.5,54.1],[23.3,54.2],[23,54.4],[22.7,54.4],[22.8,54.8],[22.8,54.9],[22.5,55.1],[22.1,55.1],[21.7,55.2],[21.3,55.3],[21.2,55.4],[21.2,55.6],[21,55.9],[21.1,56.1],[21.3,56.2],[21.7,56.3],[22.1,56.4],[22.5,56.4],[22.8,56.4],[23,56.3],[23.2,56.4],[23.4,56.3],[23.6,56.4],[24,56.3],[24.3,56.3],[24.6,56.3],[24.9,56.5],[25,56.3]]],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"LT",lng:24,lat:56}},{geometry:{coordinates:[[[6,50.2],[6.1,50.1],[6.1,50],[6.2,50],[6.2,49.9],[6.3,49.9],[6.3,49.8],[6.4,49.8],[6.5,49.8],[6.5,49.7],[6.4,49.7],[6.4,49.5],[6.3,49.5],[6.2,49.5],[6.1,49.5],[6,49.4],[5.9,49.5],[5.8,49.5],[5.8,49.6],[5.9,49.6],[5.9,49.7],[5.8,49.8],[5.7,49.8],[5.7,49.9],[5.8,50],[5.9,50.1],[6,50.2]]],type:"Polygon"},type:"Feature",properties:{iso2:"LU",lng:6.2,lat:49.8}},{geometry:{coordinates:[[[21.1,56.4],[21,56.7],[21.1,56.9],[21.4,57],[21.4,57.3],[21.6,57.5],[21.8,57.6],[22.1,57.6],[22.6,57.8],[22.7,57.6],[22.9,57.4],[23.2,57.3],[23.3,57.1],[23.7,57],[24,57],[24.4,57.3],[24.3,57.7],[24.4,57.9],[24.6,58],[25,58.1],[25.2,58],[25.4,58],[25.8,57.9],[26.2,57.7],[26.6,57.5],[26.9,57.6],[27.3,57.5],[27.5,57.4],[27.8,57.3],[27.8,57.2],[27.8,56.9],[27.9,56.7],[28.2,56.4],[28.1,56.2],[27.7,56],[27.6,55.8],[27.2,55.8],[26.9,55.8],[26.7,55.7],[26.4,55.7],[26.2,55.8],[26,56],[25.6,56.2],[25.2,56.2],[25,56.4],[24.7,56.4],[24.4,56.3],[24.1,56.3],[23.7,56.4],[23.5,56.3],[23.3,56.4],[23.1,56.3],[22.9,56.4],[22.6,56.4],[22.2,56.4],[21.9,56.4],[21.4,56.2],[21.2,56.1],[21,56.2],[21.1,56.4]]],type:"Polygon"},type:"Feature",properties:{iso2:"LV",lng:25,lat:57}},{geometry:{coordinates:[],type:"Polygon"},type:"Feature",properties:{iso2:"MC",lng:7.4,lat:43.7}},{geometry:{coordinates:[[[28.1,46.9],[28,47],[27.9,47.1],[27.7,47.3],[27.6,47.4],[27.4,47.6],[27.3,47.7],[27.2,47.9],[27,48.2],[26.7,48.3],[26.8,48.3],[27.2,48.4],[27.5,48.5],[27.8,48.4],[27.9,48.3],[28.1,48.3],[28.2,48.2],[28.4,48.2],[28.5,48.1],[28.7,48.1],[28.9,48],[29.1,47.9],[29.2,48],[29.2,47.6],[29.1,47.5],[29.2,47.5],[29.3,47.4],[29.4,47.3],[29.6,47.3],[29.6,47],[29.7,46.9],[29.9,46.8],[30,46.6],[29.9,46.5],[30,46.4],[29.9,46.4],[29.8,46.4],[29.6,46.4],[29.5,46.5],[29.3,46.4],[29.2,46.5],[28.9,46.4],[29,46.2],[28.9,46],[28.7,46],[28.8,45.9],[28.7,45.8],[28.5,45.7],[28.5,45.5],[28.3,45.5],[28.2,45.4],[28.2,45.6],[28.1,45.9],[28.1,46.1],[28.2,46.3],[28.3,46.4],[28.2,46.7],[28.1,46.9]]],type:"Polygon"},type:"Feature",properties:{iso2:"MD",lng:29,lat:47}},{geometry:{coordinates:[[[18.5,42.6],[18.6,42.7],[18.5,42.8],[18.6,43],[18.7,43.1],[18.7,43.3],[18.9,43.4],[19,43.2],[19.1,43.3],[19,43.5],[19,43.6],[19.3,43.5],[19.4,43.4],[19.6,43.3],[19.7,43.2],[19.9,43.1],[20,43],[20.2,43],[20.4,42.8],[20.1,42.8],[20,42.7],[20.1,42.6],[19.9,42.5],[19.7,42.5],[19.7,42.7],[19.6,42.6],[19.5,42.4],[19.4,42.1],[19.3,41.9],[19.2,41.9],[19.1,42],[19,42.1],[18.9,42.3],[18.7,42.4],[18.5,42.4],[18.5,42.5],[18.5,42.6]]],type:"Polygon"},type:"Feature",properties:{iso2:"ME",lng:19.3,lat:42.5}},{geometry:{coordinates:[[[20.8,40.9],[20.7,41.1],[20.6,41.2],[20.5,41.3],[20.6,41.4],[20.5,41.6],[20.5,41.8],[20.7,41.9],[20.8,42],[20.9,42.1],[21.2,42.1],[21.3,42.2],[21.6,42.3],[21.8,42.3],[22,42.3],[22.2,42.3],[22.4,42.3],[22.5,42.1],[22.7,42.1],[22.9,41.9],[23,41.8],[23,41.6],[23,41.4],[22.8,41.3],[22.7,41.2],[22.6,41.1],[22.4,41.1],[22.3,41.2],[22,41.1],[21.9,41],[21.6,40.9],[21.4,40.9],[21.2,40.9],[21,40.9],[20.8,40.9]]],type:"Polygon"},type:"Feature",properties:{iso2:"MK",lng:22,lat:41.8}},{geometry:{coordinates:[[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"MT",lng:14.6,lat:35.8}},{geometry:{coordinates:[[[[6.9,53.4],[7.2,53],[7.1,52.7],[6.9,52.7],[6.7,52.5],[7,52.5],[7.1,52.2],[6.8,52.1],[6.8,51.9],[6.4,51.8],[6,51.7],[6.2,51.4],[6,51.1],[6.1,50.9],[5.9,50.8],[5.6,50.9],[5.9,51.2],[5.5,51.3],[5.1,51.3],[5,51.4],[4.7,51.5],[4.5,51.5],[4.3,51.4],[3.8,51.4],[3.5,51.6],[3.9,51.6],[4.1,51.5],[4.1,51.6],[3.7,51.7],[4.1,51.8],[4,52],[4.5,52.3],[4.7,52.5],[5,52.4],[5.4,52.3],[5.6,52.4],[5.9,52.5],[5.6,52.7],[5.6,52.9],[5.3,53.1],[5.1,52.8],[5.2,52.7],[5.1,52.5],[4.7,52.8],[4.8,52.9],[5.5,53.2],[6.1,53.4],[6.7,53.5],[6.9,53.4]]],[[[3.8,51.3],[3.9,51.3],[4,51.4],[4.2,51.4],[4.2,51.3],[4.1,51.3],[4,51.2],[3.9,51.2],[3.8,51.2],[3.7,51.3],[3.6,51.3],[3.5,51.3],[3.5,51.2],[3.4,51.2],[3.4,51.3],[3.4,51.4],[3.5,51.4],[3.6,51.4],[3.7,51.4],[3.8,51.3]]],[[[5.8,52.4],[5.7,52.4],[5.6,52.4],[5.5,52.4],[5.5,52.3],[5.6,52.3],[5.4,52.3],[5.3,52.3],[5.2,52.3],[5.1,52.3],[5.1,52.4],[5.2,52.4],[5.3,52.5],[5.4,52.5],[5.5,52.5],[5.6,52.6],[5.8,52.6],[5.9,52.5],[5.8,52.5],[5.8,52.4]]],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"NL",lng:5.8,lat:52.5}},{geometry:{coordinates:[[[[5.3,61.6],[5.2,61.9],[6.3,62.4],[6.4,62.5],[7.6,62.8],[8.3,62.8],[8.8,63.3],[10.6,63.4],[11,64],[9.6,63.7],[10.9,64.6],[11.2,64.7],[12.4,65.3],[12.9,66.1],[13,66.4],[13.8,66.9],[15.5,67.2],[15.5,67.4],[15,67.8],[16,68.2],[16.4,68.3],[17.1,68.5],[17.7,69.1],[19.2,69.3],[19.7,69.4],[20.8,69.8],[21.5,70.1],[22.7,70.1],[24.2,70.6],[25.3,70.9],[25.3,70.1],[26.6,70.4],[27.7,71.1],[28.3,70.7],[29.3,70.7],[30.7,70.3],[29.7,69.9],[30.9,69.5],[29.1,69.4],[26.2,69.8],[24.4,68.7],[21.7,69.3],[19.9,68.3],[16.1,67.4],[14.3,65.1],[12.3,63.7],[12.8,61.4],[11.9,59.8],[10.6,59.9],[10,59],[7.2,58],[5.6,59],[6.5,59.3],[5.2,59.5],[6.2,60.3],[5.7,60.4],[5,60.8],[6.3,61.1],[6.7,61.4],[5.3,61.6]]],[[[16,68.8],[16,68.7],[15.9,68.7],[15.9,68.6],[15.8,68.6],[15.7,68.5],[15.8,68.5],[16.1,68.7],[16.1,68.8],[16.2,68.9],[16.4,68.9],[16.4,68.8],[16.5,68.8],[16.6,68.7],[16.6,68.6],[16.5,68.6],[16.4,68.6],[16.3,68.6],[16.2,68.5],[16.1,68.5],[16,68.5],[16,68.4],[15.9,68.4],[15.8,68.4],[15.7,68.3],[15.6,68.3],[15.5,68.3],[15.4,68.3],[15.3,68.3],[15.4,68.4],[15.5,68.4],[15.6,68.5],[15.5,68.5],[15.3,68.4],[15.2,68.3],[15.1,68.3],[15,68.2],[15,68.3],[15.1,68.4],[15.2,68.5],[15.3,68.5],[15.2,68.6],[15.3,68.6],[15.4,68.6],[15.5,68.7],[15.4,68.7],[15.6,68.7],[15.7,68.7],[15.5,68.8],[15.6,68.9],[15.7,69],[15.9,69],[15.9,68.9],[15.9,68.8],[16,68.8]]],[[[17.6,69.5],[17.7,69.5],[17.7,69.6],[17.8,69.6],[17.9,69.6],[18,69.5],[18.1,69.4],[18.1,69.3],[18,69.3],[17.9,69.3],[17.9,69.2],[18,69.2],[17.6,69.2],[17.5,69.2],[17.4,69.2],[17.2,69.1],[17.2,69],[17.1,69],[17,69],[17.1,69.1],[17,69.1],[16.9,69.1],[16.8,69],[16.8,69.1],[17.1,69.2],[17.2,69.2],[17,69.2],[16.9,69.2],[17.1,69.3],[17,69.3],[16.9,69.3],[17,69.4],[16.9,69.4],[17.2,69.4],[17.3,69.4],[17.4,69.4],[17.5,69.4],[17.2,69.5],[17.3,69.5],[17.4,69.5],[17.5,69.5],[17.5,69.6],[17.6,69.6],[17.6,69.5]]],[[[23.5,70.8],[23.4,70.7],[23.3,70.7],[23.2,70.7],[23.1,70.6],[22.9,70.5],[22.8,70.5],[22.8,70.6],[22.7,70.6],[22.6,70.6],[22.6,70.5],[22.5,70.5],[22.3,70.5],[22.2,70.5],[22.1,70.5],[22.3,70.6],[22.2,70.6],[22.1,70.6],[22,70.6],[21.9,70.6],[22,70.7],[22.1,70.7],[22.3,70.7],[22.4,70.7],[22.5,70.7],[22.6,70.7],[22.7,70.7],[22.8,70.7],[22.8,70.8],[22.9,70.7],[23,70.7],[23.1,70.7],[23.2,70.8],[23.3,70.8],[23.3,70.9],[23.4,70.9],[23.4,70.8],[23.5,70.8]]],[[[15.4,68.8],[15.4,68.7],[15.3,68.6],[15.1,68.6],[15,68.6],[14.9,68.6],[14.8,68.6],[14.9,68.7],[15.1,68.7],[15.2,68.7],[15.1,68.8],[15,68.8],[15,68.7],[14.8,68.7],[14.7,68.7],[14.5,68.6],[14.4,68.6],[14.4,68.7],[14.4,68.8],[14.5,68.8],[14.6,68.8],[14.7,68.8],[14.9,68.8],[14.9,68.9],[15,68.9],[15.1,68.9],[15.2,68.8],[15,69],[15.1,69],[15.2,69],[15.2,68.9],[15.3,68.9],[15.4,68.8]]],[[[18.9,69.7],[18.8,69.7],[18.8,69.6],[18.7,69.6],[18.6,69.6],[18.5,69.6],[18.4,69.5],[18.3,69.5],[18.2,69.5],[18,69.6],[18.1,69.6],[18.2,69.6],[18.3,69.6],[18.2,69.7],[18.3,69.7],[18.4,69.7],[18.6,69.7],[18.5,69.7],[18.3,69.8],[18.4,69.8],[18.5,69.8],[18.6,69.8],[18.7,69.7],[18.8,69.8],[18.7,69.8],[18.7,69.9],[18.8,69.9],[19,69.8],[19.1,69.8],[19,69.7],[18.9,69.7]]],[[[19.3,70],[19.4,70],[19.5,70],[19.5,70.1],[19.6,70],[19.7,70],[19.5,69.9],[19.4,69.8],[19.3,69.8],[19.2,69.8],[19.1,69.8],[19,69.8],[19,69.9],[18.9,69.9],[18.8,69.9],[18.7,69.9],[18.8,70],[18.9,70],[19,70],[19.1,70],[19.1,70.1],[19.2,70.1],[19.3,70.1],[19.3,70]]]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"NO",lng:10,lat:62}},{geometry:{coordinates:[[[18.9,49.5],[18.5,49.9],[17.9,50],[17.8,50.2],[17.2,50.3],[17,50.2],[16.6,50.2],[16.2,50.4],[16.1,50.7],[15.5,50.8],[15,50.9],[15,51.4],[14.8,51.6],[14.8,52.1],[14.6,52.5],[14.2,52.8],[14.4,53.3],[14.6,53.8],[14.2,53.9],[15,54.1],[15.8,54.2],[16.3,54.4],[16.9,54.6],[17.4,54.7],[17.9,54.8],[18.6,54.7],[18.5,54.6],[18.9,54.4],[19.4,54.4],[19.2,54.3],[19.9,54.4],[20.7,54.4],[21.5,54.3],[22.3,54.3],[22.9,54.4],[23.5,54.2],[23.6,53.6],[23.9,52.8],[23.4,52.5],[23.6,52.1],[23.6,51.7],[23.7,51.2],[24.1,50.9],[24,50.4],[23.5,50.2],[22.7,49.6],[22.9,49.1],[22.3,49.1],[21.5,49.4],[20.9,49.3],[20.2,49.3],[19.8,49.3],[19.4,49.6],[18.9,49.5]]],type:"Polygon"},type:"Feature",properties:{iso2:"PL",lng:20,lat:52}},{geometry:{coordinates:[[[[-8.2,41.9],[-7.9,41.9],[-7.6,41.8],[-7.2,41.9],[-6.9,42],[-6.6,42],[-6.5,41.7],[-6.2,41.6],[-6.4,41.3],[-6.8,41.1],[-6.8,40.9],[-6.8,40.4],[-7,40.1],[-7.1,39.7],[-7.4,39.6],[-7.3,39.4],[-7,39.1],[-7.2,38.8],[-7.2,38.3],[-7,38.1],[-7.3,38],[-7.4,37.7],[-7.4,37.3],[-7.6,37.1],[-8.1,37.1],[-8.7,37.1],[-9,37.1],[-8.8,37.4],[-8.8,37.9],[-8.8,38.3],[-8.9,38.5],[-9.2,38.5],[-9.1,38.6],[-9,38.9],[-9.4,38.7],[-9.4,38.9],[-9.3,39.2],[-9.3,39.4],[-9,39.7],[-8.9,40.1],[-8.8,40.5],[-8.7,40.8],[-8.7,41.2],[-8.9,41.7],[-8.7,42],[-8.4,42.1],[-8.1,42.1],[-8.2,41.9]]],[[[-25.6,37.8],[-25.5,37.8],[-25.4,37.8],[-25.4,37.9],[-25.3,37.9],[-25.2,37.9],[-25.1,37.8],[-25.2,37.7],[-25.3,37.7],[-25.5,37.7],[-25.6,37.7],[-25.7,37.7],[-25.7,37.8],[-25.8,37.8],[-25.9,37.8],[-25.9,37.9],[-25.8,37.9],[-25.7,37.9],[-25.6,37.8]]],[],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"PT",lng:-8,lat:39.5}},{geometry:{coordinates:[[[20.7,46.2],[21,46.2],[21.3,46.6],[21.7,47],[21.9,47.4],[22.2,47.7],[22.7,47.8],[23.1,48.1],[23.5,48],[24.2,47.9],[24.6,47.9],[24.9,47.7],[25.2,47.9],[25.8,48],[26.3,48.1],[26.7,48.3],[27.2,47.8],[27.6,47.4],[27.9,47],[28.2,46.7],[28.1,46.2],[28.2,45.6],[28.3,45.3],[28.8,45.3],[29.5,45.4],[29.6,45.2],[29.5,44.8],[29,44.8],[28.9,45],[28.8,44.6],[28.9,44.5],[28.6,44.2],[28.6,43.7],[28.1,43.8],[27.8,44],[27.3,44.1],[26.8,44.1],[26.1,44],[25.7,43.7],[25.3,43.7],[24.7,43.7],[24.4,43.7],[23.8,43.8],[23.3,43.8],[22.9,43.9],[22.9,44.1],[22.5,44.4],[22.8,44.5],[22.3,44.7],[21.9,44.6],[21.5,44.8],[21.5,45],[21.4,45.2],[20.8,45.7],[20.5,45.9],[20.6,46.2],[20.7,46.2]]],type:"Polygon"},type:"Feature",properties:{iso2:"RO",lng:25,lat:46}},{geometry:{coordinates:[[[20.1,42.6],[20.1,42.8],[20.2,43],[19.9,43.1],[19.6,43.3],[19.3,43.5],[19.5,43.7],[19.3,44],[19.6,44],[19.2,44.3],[19.2,44.6],[19.3,44.9],[19.1,45],[19.4,45.2],[19,45.5],[18.9,45.6],[18.8,45.9],[19.2,46],[19.7,46.2],[20,46.2],[20.3,46.1],[20.7,45.8],[20.8,45.6],[21.4,45.2],[21.4,45],[21.4,44.9],[21.6,44.7],[22,44.6],[22.3,44.7],[22.7,44.6],[22.6,44.5],[22.6,44.3],[22.6,44.1],[22.4,43.7],[22.7,43.4],[23,43.2],[22.5,42.9],[22.5,42.5],[22.3,42.4],[21.9,42.3],[21.5,42.3],[21.1,42.2],[20.8,41.9],[20.5,42.2],[20.2,42.3],[20.1,42.6]]],type:"Polygon"},type:"Feature",properties:{iso2:"RS",lng:21,lat:44}},{geometry:{coordinates:[[[[104.3,77.7],[110.9,76.8],[110,74.4],[110.6,73.8],[117,73.6],[127.3,71.4],[135.3,71.6],[143.1,72.7],[148.5,72.3],[159,70.9],[168.2,69.5],[178.2,69.4],[177,64.7],[173.4,61.6],[164.3,60.1],[161.7,55.6],[155.9,54],[164,61.4],[159.8,61.3],[152.6,59],[144.5,59.4],[136.7,53.8],[141.3,52.3],[135,43.5],[133.5,45.6],[127.5,50.2],[120.5,51.9],[109.6,49.2],[98.7,51.8],[89.7,49.8],[80.3,50.9],[71.1,54.3],[61.4,54.1],[57.9,51.1],[48.7,50.5],[47.5,45.5],[43.1,43],[38.4,46.7],[37.8,50.1],[31.9,54],[29.5,60],[29.6,65.3],[33,69.5],[38.6,66.1],[34.6,65.2],[39.7,65.5],[46.5,68],[52.3,68.3],[59,68.9],[67.3,68.7],[70.2,72.9],[72.3,67.3],[74.5,68.7],[74,69.1],[78,71],[82.9,71.7],[80.5,73.2],[86.5,74.3],[93.2,75.8],[99.1,75.5],[104.3,77.7]]],[[[68.3,77],[68.9,76.6],[67.7,76.2],[66.7,76.1],[65.2,75.8],[64.2,75.7],[63.2,75.6],[62.3,75.4],[61.4,75.2],[60.7,75.1],[60.5,75],[60.5,74.9],[60.1,74.7],[59.9,74.6],[59.2,74.6],[58.6,74.5],[58.7,74.2],[58.2,74.1],[57.6,74.2],[57.9,73.9],[57.3,73.8],[57,73.8],[57,73.6],[57,73.4],[56.6,73.3],[55.9,73.4],[55,73.4],[54.1,73.4],[54.5,73.6],[54.4,73.7],[53.6,73.7],[54.2,73.9],[54.8,74.1],[55.9,74.1],[55.7,74.3],[56.3,74.5],[55.9,74.7],[57,74.7],[55.9,74.8],[56.4,75],[55.8,75.1],[56.3,75.2],[56.9,75.3],[57.5,75.3],[58,75.6],[58.5,75.8],[59.4,75.9],[60.3,76],[60.5,76],[60.9,76.2],[61.8,76.3],[62.8,76.3],[63.7,76.3],[64.8,76.5],[65.5,76.6],[65.9,76.7],[66.7,76.9],[67.6,77],[68.3,77]]],[[[97.6,80.2],[98,80.1],[97.6,79.8],[97.3,79.7],[97.7,79.8],[97.9,79.9],[98.2,79.9],[98.6,80],[98.5,80.1],[98.8,80],[99.1,80],[99.5,79.9],[99.8,79.9],[100,79.7],[99.7,79.6],[99.7,79.3],[99.4,79.3],[99.1,79.3],[99.6,79.2],[99.7,79.1],[99.9,79],[99.7,78.9],[99.4,78.8],[99,78.8],[98.6,78.8],[98,78.8],[97.6,78.8],[97.2,78.9],[96.9,79],[96.3,79],[96.1,79],[95.7,79],[95.7,79.1],[95.3,79.1],[95,79],[94.6,79.2],[94.3,79.2],[94.4,79.4],[94.2,79.5],[94.1,79.4],[93.7,79.5],[93.8,79.6],[93.5,79.5],[93.2,79.4],[93.2,79.5],[92.9,79.6],[93.8,79.7],[94.3,79.8],[94.6,79.8],[94.2,79.9],[94.6,80],[95,80.1],[95.2,80],[95.4,80.1],[96,80.1],[96.4,80.1],[97.1,80.2],[97.5,80.2],[97.6,80.2]]],[[[-179.6,68.9],[-179.1,68.8],[-178.8,68.6],[-178,68.3],[-178.4,68.6],[-177.4,68.2],[-176.8,68.1],[-175.6,67.8],[-175.3,67.4],[-174.8,67.4],[-174.8,66.7],[-174.5,66.6],[-174.3,66.4],[-174,66.2],[-174.1,66.6],[-174.4,67],[-174.2,67.1],[-173.4,67.1],[-173.4,66.8],[-172.6,66.9],[-173,67.1],[-171.7,67],[-171.3,66.7],[-170.5,66.3],[-170.2,66.3],[-169.9,66.1],[-170,66],[-170.5,65.7],[-171.3,65.8],[-171.1,65.5],[-171.9,65.5],[-172.3,65.6],[-172.7,65.6],[-172.3,65.4],[-172.7,65.2],[-172.4,64.9],[-173.2,64.8],[-173.1,64.7],[-172.4,64.4],[-173,64.5],[-173.3,64.3],[-173.4,64.5],[-174.1,64.5],[-175,64.8],[-175.8,64.9],[-175.9,65.4],[-176.6,65.6],[-177.5,65.5],[-178.6,65.5],[-178.9,65.9],[-178.5,66.3],[-179.1,66.2],[-179.2,66.2],[-179.7,66.2],[-179.4,65.6],[-179.6,65.2],[-180,66.1],[-179.6,68.9]]],[[[128.1,72.6],[128.6,72.5],[128.7,72.5],[128.8,72.5],[128.9,72.5],[129,72.5],[129.1,72.5],[129.2,72.5],[129.3,72.5],[129.3,72.4],[129.4,72.4],[129.5,72.4],[129.5,72.3],[129.4,72.3],[129.3,72.3],[129.5,72.2],[129.6,72.2],[129.4,72.2],[129.2,72.1],[129.3,72.1],[129.4,72.1],[129.5,72.1],[129,72.1],[128.9,72.1],[128.8,72.1],[128.7,72.1],[128.5,72.1],[128.5,72.2],[128.6,72.2],[128.4,72.2],[128.2,72.2],[128,72.3],[127.9,72.3],[127.7,72.4],[127.6,72.4],[127.5,72.4],[127.4,72.4],[127.3,72.4],[127.2,72.4],[127.1,72.4],[127,72.4],[126.8,72.4],[126.7,72.4],[126.6,72.5],[126.7,72.5],[126.8,72.5],[126.9,72.5],[127,72.5],[127,72.6],[127.1,72.6],[127.2,72.6],[127.3,72.6],[127.4,72.6],[127.5,72.6],[127.7,72.6],[127.8,72.6],[128,72.6],[128.1,72.6]]],[[[124.6,73.7],[124.8,73.7],[125,73.6],[125.1,73.7],[125.2,73.7],[125.2,73.5],[125.4,73.6],[125.5,73.5],[125.6,73.4],[125.9,73.5],[126.2,73.6],[126.3,73.5],[126.3,73.4],[126.2,73.4],[126.5,73.4],[126.6,73.3],[126.7,73.2],[126.6,73],[126.4,73],[126.3,72.9],[126.4,72.8],[126.2,72.5],[126.3,72.4],[126.1,72.3],[125.9,72.4],[125.7,72.4],[125.5,72.4],[125.3,72.5],[125.2,72.6],[125,72.6],[124.8,72.6],[124.7,72.7],[124.4,72.7],[124.2,72.8],[124,72.8],[123.8,72.8],[123.6,72.8],[123.4,72.8],[123.3,72.9],[123.1,72.9],[122.9,72.9],[122.5,72.9],[122.4,73],[122.7,73],[122.9,73],[123.4,73.2],[123.6,73.2],[123.4,73.3],[123.2,73.6],[123.4,73.6],[123.5,73.7],[123.7,73.6],[123.9,73.7],[124,73.8],[124,73.7],[124.2,73.8],[124.4,73.8],[124.6,73.7]]],[[[54.7,81.1],[54.9,81.1],[55,81.1],[55.1,81.1],[55.2,81.1],[55.3,81],[55.4,81],[55.5,81],[55.6,81],[55.8,81],[56,81],[56.1,81],[56.4,81],[56.6,81],[56.6,80.9],[56.7,80.9],[56.8,80.9],[56.9,80.9],[57,80.9],[57.1,80.9],[57.2,80.9],[57.3,80.9],[57.5,80.8],[57.6,80.8],[57.7,80.8],[57.5,80.7],[57.4,80.7],[57.3,80.7],[57.2,80.7],[57.1,80.7],[57,80.7],[56.9,80.7],[56.8,80.8],[56.7,80.8],[56.6,80.8],[56.5,80.8],[56.3,80.8],[56.2,80.8],[56.1,80.8],[56,80.8],[55.8,80.9],[55.7,80.9],[55.6,80.9],[55.5,80.9],[55.4,80.9],[55.2,81],[55.1,81],[55,80.9],[55,81],[54.9,81],[54.8,81],[54.7,81],[54.6,81],[54.5,81],[54.4,81],[54.6,81.1],[54.7,81.1]]]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"RU",lng:100,lat:60}},{geometry:{coordinates:[[[[21.8,68.6],[23,68.3],[23.5,67.6],[23.7,67],[23.7,66.2],[23.5,65.8],[22.4,65.9],[22.1,65.5],[21.6,65.2],[21.2,64.8],[21.6,64.4],[20.4,63.7],[19.5,63.6],[18.9,63.2],[17.9,62.8],[17.5,62.4],[17.5,62],[17.2,61.6],[17.5,60.6],[18.4,60.3],[19.1,59.8],[18.2,59.4],[17.7,59.6],[17.4,59.5],[16.5,59.5],[17.1,59.4],[18.4,59.3],[17.9,58.9],[17.1,58.8],[16.2,58.6],[16.8,58.2],[16.7,57.7],[16.6,57.1],[16,56.3],[14.8,56.1],[14.3,55.6],[13.4,55.3],[12.7,56.2],[12.8,56.6],[12.2,57.3],[11.7,57.8],[11.2,58.3],[11.4,59.1],[11.8,59.7],[12.6,60.4],[12.6,61.1],[12.3,62.1],[12.2,63],[12.7,64],[14.1,64.5],[14.4,65.2],[15,66.1],[16.2,67.3],[17.6,68],[18.6,68.5],[20,68.5],[20.8,69],[21.8,68.6]]],[[[18.2,56.9],[18.1,56.9],[18.2,57],[18.3,57],[18.3,57.1],[18.2,57.1],[18.1,57.2],[18.2,57.3],[18.1,57.4],[18.1,57.5],[18.1,57.6],[18.2,57.6],[18.3,57.6],[18.3,57.7],[18.4,57.7],[18.4,57.8],[18.5,57.8],[18.7,57.9],[18.9,57.9],[19,57.9],[19,57.8],[18.9,57.7],[18.8,57.7],[18.8,57.5],[18.8,57.4],[18.7,57.2],[18.6,57.2],[18.5,57.2],[18.4,57.2],[18.4,57.1],[18.3,56.9],[18.2,56.9]]],[[[16.8,56.8],[16.7,56.7],[16.6,56.5],[16.6,56.4],[16.6,56.3],[16.5,56.2],[16.4,56.2],[16.4,56.3],[16.4,56.5],[16.4,56.6],[16.5,56.8],[16.6,56.9],[16.7,56.9],[16.8,57.1],[16.9,57.1],[17,57.2],[17,57.3],[17,57.4],[17.1,57.4],[17.1,57.3],[17.1,57.2],[17,57.1],[16.9,57],[16.9,56.9],[16.8,56.8]]],[],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"SE",lng:15,lat:62}},{geometry:{coordinates:[[[13.7,46.5],[13.9,46.5],[14.2,46.4],[14.8,46.5],[14.9,46.6],[15.1,46.7],[15.4,46.7],[15.8,46.7],[16,46.8],[16.2,46.9],[16.3,46.8],[16.4,46.7],[16.6,46.5],[16.3,46.5],[16.3,46.4],[16.1,46.3],[15.8,46.2],[15.6,46.2],[15.7,46.1],[15.7,45.9],[15.6,45.8],[15.3,45.8],[15.4,45.7],[15.3,45.5],[15.1,45.5],[14.9,45.5],[14.7,45.5],[14.6,45.7],[14.5,45.5],[14.1,45.5],[13.9,45.5],[13.6,45.5],[13.8,45.5],[13.7,45.6],[13.8,45.7],[13.7,45.8],[13.6,45.9],[13.5,46],[13.6,46.1],[13.7,46.2],[13.5,46.2],[13.4,46.3],[13.7,46.4],[13.7,46.5]]],type:"Polygon"},type:"Feature",properties:{iso2:"SI",lng:14.8,lat:46.1}},{geometry:{coordinates:[[[17.3,48],[17.1,48.1],[17,48.3],[16.9,48.4],[17,48.7],[17.2,48.9],[17.5,48.8],[17.8,48.9],[18.1,49.1],[18.2,49.3],[18.5,49.5],[18.8,49.5],[19,49.4],[19.3,49.5],[19.5,49.5],[19.8,49.4],[19.9,49.2],[20.1,49.3],[20.4,49.4],[20.8,49.3],[21,49.4],[21.4,49.4],[21.8,49.4],[22.2,49.2],[22.5,49.1],[22.5,49],[22.4,48.8],[22.2,48.4],[21.9,48.4],[21.7,48.4],[21.5,48.5],[21.2,48.5],[20.9,48.5],[20.7,48.6],[20.4,48.4],[20.2,48.3],[19.9,48.1],[19.6,48.2],[19.2,48.1],[18.9,48.1],[18.8,47.9],[18.7,47.8],[18.4,47.8],[18.2,47.7],[17.9,47.8],[17.7,47.8],[17.4,48],[17.3,48]]],type:"Polygon"},type:"Feature",properties:{iso2:"SK",lng:19.5,lat:48.7}},{geometry:{coordinates:[],type:"Polygon"},type:"Feature",properties:{iso2:"SM",lng:12.4,lat:43.8}},{geometry:{coordinates:[[[[35.1,42],[36.1,41.7],[36.6,41.4],[37.4,41.1],[38.2,40.9],[39.1,41.1],[40.3,41],[41.4,41.4],[42.3,41.5],[43.2,41.2],[43.7,40.7],[44,40],[44.8,39.6],[44.2,39],[44.5,38.3],[44.6,37.4],[44.2,37.1],[43.5,37.2],[42.4,37.1],[41.5,37.1],[40.3,36.9],[39,36.7],[38,36.8],[37,36.7],[36.5,36.2],[36,35.9],[36,36.5],[35.7,36.8],[34.9,36.8],[34,36.3],[32.8,36],[32,36.5],[30.7,36.9],[30.3,36.3],[29.3,36.2],[28.9,36.7],[28.2,36.7],[27.7,36.7],[27.8,37],[27.5,37.1],[27.2,37.5],[26.8,38.2],[26.4,38.3],[26.5,38.6],[27,38.5],[26.8,39],[27,39.6],[26.2,39.7],[26.7,40.3],[27.5,40.3],[28,40.4],[29,40.5],[29.6,40.7],[29.1,40.9],[29.9,41.1],[30.9,41.1],[32,41.5],[33.2,42],[34.2,42],[35.1,42]]],[[[27.4,42],[27.6,42],[27.8,42],[28,42],[28,41.8],[28.2,41.5],[28.5,41.4],[28.9,41.3],[29,41.3],[29.1,41.2],[29,41.1],[28.8,41],[28.6,41.1],[28.5,41],[28.4,41.1],[28.1,41.1],[27.9,41],[27.7,41],[27.5,40.9],[27.4,40.8],[27.2,40.6],[27,40.6],[26.7,40.5],[26.6,40.4],[26.4,40.2],[26.2,40.1],[26.2,40.2],[26.3,40.3],[26.4,40.4],[26.6,40.5],[26.8,40.7],[26.6,40.6],[26.3,40.6],[26.1,40.7],[26.1,40.8],[26.2,40.9],[26.4,41],[26.3,41.2],[26.6,41.3],[26.6,41.5],[26.5,41.6],[26.3,41.7],[26.4,41.8],[26.6,41.9],[26.9,42],[27,42.1],[27.2,42.1],[27.4,42.1],[27.4,42]]],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"TR",lng:35,lat:39}},{geometry:{coordinates:[[[[33.4,52.4],[34.2,51.7],[35.1,51.1],[35.5,50.5],[36.5,50.2],[37.7,50.1],[38.7,49.9],[39.5,49.8],[40.2,49.2],[40,48.8],[39.8,47.9],[38.8,47.9],[38.1,47.1],[36.8,46.8],[35.5,46.5],[35,46.2],[34.2,46.3],[34.1,45.9],[35.1,45.5],[34.7,46.1],[36.1,45.5],[35.9,45],[34.7,44.8],[33.4,44.6],[33.1,45.2],[32.8,45.6],[33.6,46],[32.5,46.1],[31.5,46.6],[32.2,46.6],[31.9,47.1],[30.9,46.6],[29.9,45.7],[29.7,45.2],[28.4,45.3],[28.8,45.9],[29.4,46.5],[30,46.6],[29.3,47.5],[28.7,48.1],[27.8,48.5],[26.1,48],[24.9,47.7],[23.8,48],[22.7,48.1],[22.5,48.9],[22.8,49.7],[24.1,50.7],[23.7,51.5],[24.9,51.9],[26.2,51.9],[27.2,51.7],[28.2,51.7],[29.2,51.6],[30.3,51.4],[30.9,52.1],[32.3,52.1],[33.4,52.4]]],[],[],[]],type:"MultiPolygon"},type:"Feature",properties:{iso2:"UA",lng:32,lat:49}},{geometry:{coordinates:[[[64.4,39],[63.7,39.3],[62.9,39.7],[62.3,40.4],[61.7,41.2],[60.9,41.3],[60.2,41.3],[60.3,41.8],[59.4,42.3],[58.8,42.7],[58.1,42.6],[57.9,42.4],[57.4,42.2],[57,41.5],[56.4,41.3],[56,42.8],[56.3,45.1],[58,45.5],[62,43.5],[64,43.6],[65.6,43.2],[66,42.3],[66.9,41.1],[67.9,41.2],[68.3,40.7],[68.9,41.1],[69.6,41.7],[70.5,42.1],[71.2,42.2],[70.5,41.8],[70.6,41.5],[71.4,41.3],[71.6,41.6],[72.3,41],[73.1,40.8],[72.4,40.4],[71.5,40.2],[70.8,40.2],[70.4,40.5],[70.4,41.1],[69.8,40.6],[69.3,40.6],[68.7,40.2],[68.9,40],[68.5,39.6],[67.4,39.5],[67.9,39],[68.1,38.4],[68.1,37.8],[67.7,37.2],[66.8,37.4],[66.7,38],[65.8,38.2],[64.9,38.7],[64.4,39]]],type:"Polygon"},type:"Feature",properties:{iso2:"UZ",lng:64,lat:41}},{geometry:{coordinates:[],type:"Polygon"},type:"Feature",properties:{iso2:"VA",lng:12.4,lat:41.9}},{geometry:{coordinates:[[[20.8,42.1],[20.7,41.8],[20.6,41.9],[20.5,42.2],[20.3,42.3],[20.1,42.6],[20.3,42.8],[20.5,42.9],[20.6,43.2],[20.8,43.3],[21,43.1],[21.1,43.1],[21.3,42.9],[21.4,42.9],[21.6,42.7],[21.8,42.7],[21.7,42.4],[21.5,42.3],[21.6,42.2],[21.4,42.2],[20.8,42.1]]],type:"Polygon"},type:"Feature",properties:{iso2:"KS",lng:21.2,lat:42.7}}],type:"FeatureCollection"}},139:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changedDoc=t.needDoc=t.getDoc=t.default=t.fetchDoc=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(45),o=n(3);t.fetchDoc=function(e){var t=e.docDir,n=e.docName,r=e.docExt,a="".concat(t,"/").concat(n,".").concat(r);return(0,l.accessData)({type:"fetchDoc",contentType:"json",path:a,desc:"document ".concat(n)})};var i={fetchDoc:function(e,t){var n,r,l,o=t.path,i=t.data;return null==i?e:(0,a.default)(e,(l={$set:i},(r=o)in(n={})?Object.defineProperty(n,r,{value:l,enumerable:!0,configurable:!0,writable:!0}):n[r]=l,n))}},u=(0,o.makeReducer)(i);t.default=u;t.getDoc=function(e,t){var n=e.docs,r=t.docDir,a=t.docName,l=t.docExt;return{text:n["".concat(r,"/").concat(a,".").concat(l)]}};var c=function(e){return null==e.text};t.needDoc=c;t.changedDoc=function(e,t){return(0,o.propsChanged)(e,c,t,["docDir","docName","docExt"])}},140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNotes=t.default=t.display=t.clear=t.notify=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(3);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.notify=function(e){return{type:"msgs",msgs:e}};t.clear=function(){return{type:"clear"}};t.display=function(e){return{type:"display",onOff:e}};var i={progress:function(e,t){var n=t.desc;return(0,a.default)(e,{messages:{$push:[{kind:"special",text:"still waiting for ".concat(n)}]}})},pending:function(e,t){var n=t.desc,r=t.busy,l=t.extraMsgs;return(0,a.default)(e,{messages:{$push:o(l).concat([{kind:"special",text:"waiting for ".concat(n)}])},busy:{$set:r+1}})},success:function(e,t){var n=t.desc,r=t.busy,l=t.extraMsgs;return(0,a.default)(e,{messages:{$push:o(l).concat([{kind:"info",text:"".concat(n," ok")}])},busy:{$set:r-1},show:{$set:l.some(function(e){return"warning"===e.kind||"error"===e.kind})}})},error:function(e,t){var n=t.desc,r=t.busy,l=t.extraMsgs;return(0,a.default)(e,{messages:{$push:o(l).concat([{kind:"error",text:"".concat(n," failed")}])},busy:{$set:r-1},show:{$set:!0}})}},u={async:function(e,t){var n=t.msgs,r=t.status,a=t.desc,o=e.busy,u=n||l.emptyA,c=i[r];return c?c(e,{extraMsgs:u,desc:a,busy:o}):e},msgs:function(e,t){var n=t.msgs;return(0,a.default)(e,{messages:{$push:n},show:{$set:!0}})},clear:function(e){return(0,a.default)(e,{messages:{$set:l.emptyA},show:{$set:!1}})},display:function(e,t){var n=t.onOff;return(0,a.default)(e,{show:{$set:n}})}},c=(0,l.makeReducer)(u,{messages:l.emptyA,busy:0,show:!1});t.default=c;t.getNotes=function(e){var t=e.notes,n=t.messages,r=t.busy,a=t.show,o=-1,i=l.emptyS;return n.forEach(function(e,t){var n=e.kind;"error"===n?(o=t,i="error"):"warning"===n&&"error"!==i&&(o=t,i="warning")}),{messages:n,busy:r,show:a||i,lastMsg:n.length-1,lastNote:o,lastKind:i}}},15:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compileAlternatives=t.getAltSection=t.default=t.setItems=t.setAlt=t.nextAlt=void 0;var r=n(10),a=n(3),l=n(30),o=function(e,t,n,r){return{type:"nextAlt",alterSection:e,alterTag:t,nAlts:n,initial:r}};t.nextAlt=o;var i=function(e,t,n){return{type:"setAlt",alterSection:e,alterTag:t,alt:n}};t.setAlt=i;t.setItems=function(e,t,n){return{type:"setItems",eIds:e,alterSection:t,alt:n}};var u={nextAlt:function(e,t){var n=t.alterSection,r=t.alterTag,l=t.initial,o=t.nAlts,i=e[n],u=(i=void 0===i?a.emptyO:i)[r],c=((void 0===u?l||0:u)+1)%o;return(0,a.updateAuto)(e,[n,r],{$set:c})},setAlt:function(e,t){var n=t.alterSection,r=t.alterTag,l=t.alt;return(0,a.updateAuto)(e,[n,r],{$set:l})},fetchItems:function(e,t){var n=t.data,r=t.eIds,l=t.alterSection,o=t.alt,i=e;if(n&&null!=r){var u=!0,c=!1,s=void 0;try{for(var f,d=r[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var m=f.value;i=(0,a.updateAuto)(i,[l,m],{$set:o})}}catch(e){c=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}}return i},setItems:function(e,t){var n=t.eIds,r=t.alterSection,l=t.alt,o=e;if(null!=n){var i=!0,u=!1,c=void 0;try{for(var s,f=n[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value;o=(0,a.updateAuto)(o,[r,d],{$set:l})}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}}return o}},c=(0,a.makeReducer)(u);t.default=c;t.getAltSection=function(e,t){return{alter:e.alter[t.alterSection]||a.emptyO}};var s=(0,r.memoize)(function(e,t,n,r){return function(a){return{getAlt:function(e){var t=e[a];return void 0===t?n||0:t},nextAlt:(0,l.handle)(r,o,e,a,t,n),initAlt:(0,l.handle)(r,i,e,a,n),setAlt:function(t){return(0,l.handle)(r,i,e,a,t)},putAlt:function(t){return r(i(e,a,t))}}}},null,{debug:"compileAlternatives"});t.compileAlternatives=s},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSettings=t.default=t.adjust=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(3);t.adjust=function(e,t){return{type:"setSetting",key:e,value:t}};var o={setSetting:function(e,t){var n=t.key,r=t.value;return(0,a.default)(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,{$set:r}))}},i=(0,l.makeReducer)(o,{provenanceFields:new Set(["creator","dateCreated","modified"]),hideProvenance:!0,longDates:{assessment:{dateSubmitted:1,dateWithdrawn:1},review:{dateDecided:1}},showTooltips:!0});t.default=i;t.getSettings=function(e){return{settings:e.settings}}},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.docDir,n=e.docName,r=e.docExt,l="/api/file".concat(t,"/").concat(n,".").concat(r);return a.default.createElement("iframe",{height:"100%",width:"100%",src:l})}},17:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dealWithProvenance=t.toFieldInfo=t.makeFields=t.someEditable=t.checkDisabled=t.itemEditField=t.itemReadField=void 0;var r=i(n(137)),a=i(n(0)),l=n(10),o=n(3);function i(e){return e&&e.__esModule?e:{default:e}}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.itemReadField=function(e,t,n,r){return a.default.createElement("div",f({},null==r?o.emptyO:{key:r},{className:"grid-row form"}),a.default.createElement("div",{className:"grid-head-cell label-col"},t,":"),a.default.createElement("div",{className:"grid-cell value-col"},n))};t.itemEditField=function(e,t,n,r,l){return a.default.createElement("div",f({},null==l?o.emptyO:{key:l},{className:"grid-row form"}),a.default.createElement("div",{className:"grid-head-cell label-col ".concat(r?"edit":o.emptyS)},t,":"),a.default.createElement("div",{className:"grid-cell value-col ".concat(r?"edit":o.emptyS)},n))};t.checkDisabled=function(e,t){return function(n){return t&&t.disabled&&null!=e&&!e.has(n)}};t.someEditable=function(e,t,n){return!(n&&n.locked&&n.locked.on)&&e&&Object.keys(e).some(function(e){return t&&t.update&&t.update[e]})};t.makeFields=function(e){var t=e.tables,n=e.table,r=e.eId,a=e.fields,l=e.perm,i=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["tables","table","eId","fields","perm"]),s=i.initialValues,f=t[n],d=f.fieldSpecs,m=f.fieldOrder,p=[],y=!0,v=!1,b=void 0;try{for(var h,g=m[Symbol.iterator]();!(y=(h=g.next()).done);y=!0){var O=h.value;if(null!=a[O]){var w=d[O],E=w.label,S=w.valType,_=w.multiple,j=l.update[O],k=s[O],P=c({editable:j,table:n,myValues:k},i);j&&"object"===u(S)&&function(){var e=S.relTable,a=S.link;if(null!=e&&null!=a){var l=t[n],i=(l=void 0===l?o.emptyO:l).entities,u=(i=void 0===i?o.emptyO:i)[r],c=(u=void 0===u?o.emptyO:u).values,s=(c=void 0===c?o.emptyO:c)[a];if(null!=s){var f=t[e].entities;if(null!=f){var d=Object.keys(f).filter(function(e){return f[e].values[a]===s});P.allowed=d}}}}(),p.push({field:O,label:E,valType:S,multiple:_,fragment:P})}}}catch(e){v=!0,b=e}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}return p};t.toFieldInfo=function(e,t){var n={_id:e},r=!0,a=!1,l=void 0;try{for(var o,i=t[Symbol.iterator]();!(r=(o=i.next()).done);r=!0){var u=o.value,c=u.field,s=u.fragment.myValues;n[c]=s}}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n};var d=(0,l.memoize)(function(e,t){var n=e.provenanceFields;return e.hideProvenance?(0,r.default)(t,function(e,t){return!n.has(t)}):t});t.dealWithProvenance=d},170:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.docDir,n=e.docName,r=e.docExt,l="/api/file".concat(t,"/").concat(n,".").concat(r);return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream?a.default.createElement("p",null,a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},n)," (open pdf in a new tab)"):a.default.createElement("object",{height:"100%",width:"100%",data:l,type:"application/pdf"},a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:l},n)," (open pdf in a new tab)")}},171:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=d(n(52)),o=n(26),i=n(3),u=n(139),c=n(15),s=d(n(7)),f=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var v={Link:function(e){var t=e.children,n=e.href;return n.match(/^(https?:)?\/\//)?r.default.createElement("a",{href:n},t):r.default.createElement(o.Link,{to:n},t)}},b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.alter,n=e.alterSection,a=e.text,o=e.docName,i=e.dispatch;if((0,u.needDoc)({text:a}))return"No document ".concat(o);var d=(0,c.compileAlternatives)(n,2,0,i)("format"),m=d.getAlt,p=d.nextAlt,y=m(t);return r.default.createElement(f.default,null,r.default.createElement("div",{style:{paddingLeft:"0.5em"}},r.default.createElement("p",{style:{float:"right"}},r.default.createElement(s.default,{tip:"".concat(0===y?"markdown source":"formatted"),at:"right"},r.default.createElement("a",{href:"#",className:"control fa fa-".concat(0===y?"hand-o-down":"file-code-o"),onClick:p}))),0===y?r.default.createElement(l.default,{source:a,renderers:v}):r.default.createElement("pre",{className:"md-source"},a)))}},{key:"componentDidMount",value:function(){var e=this.props;(0,this.props.dispatch)((0,u.fetchDoc)(e))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=this.props.dispatch;(0,u.changedDoc)(t,e)&&n((0,u.fetchDoc)(t))}}])&&p(n.prototype,a),o&&p(n,o),t}(),h=(0,i.combineSelectors)(u.getDoc,c.getAltSection),g=(0,a.connect)(h)(b);t.default=g},172:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),a=u(n(171)),l=u(n(170)),o=u(n(169)),i=u(n(95));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s={md:a.default,pdf:l.default,html:o.default};t.default=function(e){var t=e.location.pathname,n=c(/^(.*)\/([^/]+)$/g.exec(t).slice(1),2),a=n[0],l=n[1],o=c(/^(.*)\.([^.]+)$/g.exec(l).slice(1),2),u=o[0],f=o[1],d=s[f],m="".concat(a,"/").concat(u,".").concat(f);return null==d?r.default.createElement(i.default,{splat:"document ".concat(t)}):r.default.createElement(d,{alterSection:m,docDir:a,docName:u,docExt:f})}},173:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(26),o=n(3),i=n(8);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return s(r,(n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(f(r),"handleInsert",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=f(r).props,t=e.table,n=e.masterId,a=e.linkField,l=e.dispatch,o=null==n?i.MYIDS:i.DETAILS;l((0,i.insertItem)(t,o,n,a)),r.gotoNew=!0}}),n))}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"gotoNewItem",value:function(){var e=this.props,t=e.tables,n=e.table,r=e.location,a=e.history;if(this.gotoNew){var l=t[n];if(null==l)return;var i=l.lastInserted;if(null!=i){this.gotoNew=!1;var u=(0,o.getUrlParts)(r.pathname).base;a.push("/".concat(u,"/").concat(n,"/mylist/").concat(i,"/"))}}}},{key:"render",value:function(){var e=this.props.thing;return r.default.createElement("span",{className:"button large workflow info",onClick:this.handleInsert},"New ".concat(e))}},{key:"componentDidMount",value:function(){this.gotoNewItem()}},{key:"componentDidUpdate",value:function(){this.gotoNewItem()}}])&&c(n.prototype,a),l&&c(n,l),t}(),m=(0,a.connect)(i.getTables)((0,l.withRouter)(d));t.default=m},174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(0)),a=n(3),l=o(n(7));function o(e){return e&&e.__esModule?e:{default:e}}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.perm,n=e.workflow,o=e.keep,u=e.fixed,c=e.button,s=e.onClick,f=Object.keys(o).length>0,d=Object.keys(o).sort().map(function(e){return o[e]}).join(", "),m=n&&n.locked&&n.locked.on,p=n&&n.locked&&n.locked.desc||a.emptyS,y=f||m?(f?"This item cannot deleted because related items exist: ".concat(d):a.emptyS)+(m?"This item is locked because: ".concat(p):a.emptyS):"delete this record",v=f?"puzzle-piece":"trash",b=f?"disabled":"error-o",h=f?a.emptyO:{onClick:s};return u||!t.delete||m?null:r.default.createElement(l.default,{tip:y,at:"left",className:"inlineR"},r.default.createElement("div",i({className:"grid-cell ".concat(c," ").concat(b," fa fa-").concat(v," delete")},h)))}},176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),o=s(n(175)),i=n(138),u=n(3),c=s(n(96));function s(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={HEIGHT:250,MAX_RADIUS:25,LEVEL_OFF:10,ZOOM_INIT:3,MAP_CENTER:[52,12],MAP_BOUNDS:[[30,-20],[70,40]],MARKER_COLOR:(r={},y(r,!0,{color:"#008800",fillColor:"#00cc00"}),y(r,!1,{color:"#888844",fillColor:"#bbbb66"}),r),MARKER_SHAPE:{weight:1,fill:!0,fillOpacity:.8},COUNTRY_STYLE:(a={},y(a,!0,{color:"#884422",weight:2,fill:!0,fillColor:"#aa7766",fillOpacity:1}),y(a,!1,{color:"#777777",weight:1,fill:!0,fillColor:"#bbbbbb",fillOpacity:1}),a)},b=function(e,t,n){var r=n&&n[e]||0;if(0===r)return 0;var a=v.LEVEL_OFF,l=v.MAX_RADIUS*r/t;return t<a?l:a*Math.sqrt(l)},h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).features={},n.dom=(0,l.createRef)(),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),n=t,(r=[{key:"render",value:function(){var e=this.props;return l.default.createElement(l.Fragment,null,l.default.createElement("div",{ref:this.dom}),l.default.createElement(c.default,e))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.filterSetting,r=t.filteredAmountOthers,a=t.amounts,l=t.tables.country,c=this.dom.current,s=v.HEIGHT,f=v.MAP_CENTER,d=v.ZOOM_INIT,m=v.MAP_BOUNDS,p=v.MARKER_COLOR,h=v.MARKER_SHAPE,g=v.COUNTRY_STYLE;c.style.height=s,this.map=o.default.map(c,{attributionControl:!1,center:f,zoom:d,maxBounds:m});var O=l.allIds,w=l.entities;this.idFromIso={},this.inDariah={},O.forEach(function(t){var n=w[t].values,r=n.iso,a=n.isMember;e.idFromIso[r]=t,e.inDariah[r]=a}),o.default.geoJSON(i.countryBorders,{style:function(t){return g[e.inDariah[t.properties.iso2]]},onEachFeature:function(t){var l=t.properties,i=l.iso2,c=l.lat,s=l.lng;if(e.inDariah[i]){var f=e.idFromIso[i],d=(n||u.emptyO)[f],m=void 0!==d&&d,v=o.default.circleMarker([c,s],function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){y(e,t,n[t])})}return e}({},p[m],{radius:b(f,r,a)},h,{pane:"markerPane"})).addTo(e.map);e.features[i]=v}}}).addTo(this.map)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.filterSetting,r=t.filteredAmountOthers,a=t.amounts,l=v.MARKER_COLOR;Object.entries(this.features).forEach(function(t){var o=d(t,2),i=o[0],c=o[1],s=e.idFromIso[i],f=(n||u.emptyO)[s],m=void 0!==f&&f;c.setRadius(b(s,r,a)),c.setStyle(l[m])})}}])&&m(n.prototype,r),a&&m(n,a),t}();h.displayName="EUMap";var g=h;t.default=g},177:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(29);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s=function(e){return!e.allTrue&&!e.allFalse},f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return u(r,(n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),Object.defineProperty(c(r),"handleCheck",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=c(r).props,t=e.filterSetting,n=e.table,a=e.filterTag,o=e.filterId,i=e.dispatch,u=(0,l.testAllChecks)(t);return i((0,l.changeFacetAll)(n,a,o,r.dom.indeterminate||!u.allTrue))}}),Object.defineProperty(c(r),"setIndeterminate",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=c(r).props.filterSetting,n=(0,l.testAllChecks)(t);e&&(r.dom=e,e.indeterminate=s(n))}}),n))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"componentDidUpdate",value:function(){var e=this.props.filterSetting,t=(0,l.testAllChecks)(e);this.dom.indeterminate=s(t)}},{key:"render",value:function(){var e=this.props.filterSetting,t=(0,l.testAllChecks)(e);return r.default.createElement("input",{ref:this.setIndeterminate,type:"checkbox",checked:t.allTrue,onChange:this.handleCheck})}}])&&i(n.prototype,a),o&&i(n,o),t}(),d=(0,a.connect)()(f);t.default=d},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},l=n(4),o=n(3),i=n(30),u=n(29);var c=(0,l.connect)()(function(e){var t=e.table,n=e.filterTag,r=e.filterId,l=e.valueId,c=e.valueRep,s=e.filterSetting,f=e.className,d=e.dispatch,m=(s||o.emptyO)[l],p=void 0!==m&&m;return a.default.createElement("span",{className:f},a.default.createElement("input",{type:"checkbox",checked:p,className:"facet",onChange:(0,i.handlE)(d,u.changeFacet,t,n,r,l,!p)})," ".concat(c))});t.default=c},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),a=n(4),l=n(3),o=n(30),i=n(29),u=s(n(97)),c=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.connect)()(function(e){var t=e.table,n=e.filterTag,a=e.filterId,s=e.filterLabel,f=e.filterSetting,d=void 0===f?l.emptyS:f,m=e.filteredAmount,p=e.filteredAmountOthers,y=e.compact,v=e.dispatch;return r.default.createElement("div",{className:"fulltext"},r.default.createElement(c.default,{tip:"Search in ".concat(s),at:"top"},r.default.createElement("input",{type:"text",className:"search ".concat(y?"compact":l.emptyS),placeholder:"search".concat(y?l.emptyS:" in ".concat(s)),value:d,onChange:(0,o.handlEV)(v,i.changeFulltext,t,n,a)}))," ",y?null:r.default.createElement(u.default,{subTotal:m,total:p,className:"fulltext-stat"}))});t.default=f},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0));function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var i=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))).state={hasError:!1,error:null},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"componentDidCatch",value:function(e){this.setState({hasError:!0,error:e.message})}},{key:"render",value:function(){return this.state.hasError?r.default.createElement("div",{className:"error-boundary"},this.state.error):this.props.children}}])&&l(n.prototype,a),i&&l(n,i),t}();t.default=i},180:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),a=n(4),l=n(3),o=s(n(18)),i=s(n(179)),u=s(n(96)),c=s(n(176));function s(e){return e&&e.__esModule?e:{default:e}}var f={Fulltext:i.default,EUMap:c.default,ByValue:u.default},d=(0,a.connect)()(function(e){var t=e.filters,n=e.tables,a=e.table,i=e.filterTag,u=e.listIds,c=e.filteredAmount,s=e.filteredAmountOthers,d=e.amounts,m=e.compact,p=t[a],y=void 0===p?l.emptyO:p,v=n[a],b=v.fields,h=v.filterList,g=y[i],O=void 0===g?l.emptyO:g;return null==h?"No filters for this list":r.default.createElement(o.default,null,r.default.createElement("div",{className:"filterSequence ".concat(m?"compact":l.emptyS)},h.filter(function(e){return b[e.field]}).map(function(e,t){var l=e.type,o=f[l],p=O[t];return r.default.createElement(o,{key:t,alterSection:"filter-".concat(a,"-").concat(t),tables:n,table:a,filterTag:i,filterSetting:p,listIds:u,filterId:t,filterField:e.field,filterRelField:e.relField,filterLabel:e.label,maxCols:e.maxCols,filteredAmount:c,filteredAmountOthers:s[t],amounts:d[t],expanded:e.expanded,compact:m})})))});t.default=d},181:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(17),i=n(16),u=n(8),c=f(n(18)),s=f(n(99));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.settings,n=e.filters,a=e.tables,i=e.table,f=e.eId,d=e.masterId,m=e.linkField,p=e.isactive,y=e.startMode,v=e.fixed,b=e.border,h=a[i],g=(h=void 0===h?l.emptyO:h).entities,O=void 0===g?l.emptyO:g,w=h.entities[f],E=(w=void 0===w?l.emptyO:w).fields,S=w.values,_=w.perm,j=w.workflow;if((0,u.needValues)(O,f))return r.default.createElement("div",null);var k="edit-".concat(i,"-").concat(f);return r.default.createElement(c.default,null,r.default.createElement(s.default,{filters:n,tables:a,table:i,eId:f,masterId:d,linkField:m,alterSection:k,isactive:p,startMode:y,initialValues:S,perm:_,workflow:j,fields:(0,o.dealWithProvenance)(t,E),fixed:v,border:b}))}},{key:"openItem",value:function(){var e=this.props,t=e.settings,n=e.tables,r=e.table,a=e.eId,o=e.inhibitFetch,i=e.dispatch,c=n[r].entities,s=void 0===c?l.emptyO:c,f=(0,u.headEntity)(n,r,a,t);!o&&(0,u.needValues)(s,a)&&i((0,u.fetchItem)(r,a,f))}},{key:"componentDidMount",value:function(){this.openItem()}},{key:"componentDidUpdate",value:function(){this.openItem()}}])&&m(n.prototype,a),i&&m(n,i),t}(),v=(0,a.connect)(i.getSettings)(y);t.default=v},183:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(0)),a=n(4),l=n(3),o=n(8),i=n(29),u=n(20),c=n(15),s=p(n(77)),f=p(n(70)),d=p(n(98)),m=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var v=(0,l.combineSelectors)(u.getMe,c.getAltSection),b=(0,a.connect)(v)(function(e){var t=e.me,n=e.alter,a=e.alterSection,u=e.filters,p=e.tables,v=e.table,b=e.eId,h=e.detailFragments,g=e.dispatch;if(0==h.length)return null;var O=(0,c.compileAlternatives)(a,2,1,g);return r.default.createElement("div",{className:"grid fragments"},h.map(function(e){var a=e.name,c=e.detailTitle,h=e.detailTable,g=e.linkField,w=e.detailItem,E=e.detailListIds,S=e.detailPerm,_=e.detailSpecs,j=E.length,k=O(a),P=k.getAlt,I=k.nextAlt,A=P(n),N=_.mode,T=_.expand,M=_.border,F=_.filtered,x=_.fixed,D=y(w,2),C=D[0],R=D[1],L=(0,i.makeTag)(o.DETAILS,b,g),V="".concat(v,"-").concat(a,"-").concat(b),z="own"===T?(0,o.isOwner)(p,v,b,t):T;return r.default.createElement("div",{key:a,className:"grid-row"},z?null:r.default.createElement(m.default,{tip:"".concat(0==A?"show":"hide"," detail records"),at:"left",className:"detail-control"},r.default.createElement("span",{className:"link",onClick:I},r.default.createElement("span",{className:"button small fa fa-angle-".concat(0===A?"down":"up")}),0===A?"".concat(j," ").concat(1===j?C:R):l.emptyS)),r.default.createElement("div",{className:"detail-body"},1===A?F?r.default.createElement(d.default,{filters:u,tables:p,table:h,listIds:E,perm:S,select:o.DETAILS,mode:N,compact:!0,title:c,gridTag:V,filterTag:L,masterId:b,linkField:g,expand:z,border:M,fixed:x}):"list"===N?r.default.createElement(f.default,{alterSection:"list-".concat(h,"-").concat(o.DETAILS),filters:u,tables:p,table:h,listIds:E,perm:S,select:o.DETAILS,title:c,masterId:b,linkField:g,expand:z,border:M,fixed:x}):"grid"===N?r.default.createElement(s.default,{alterSection:"list-".concat(h,"-").concat(o.DETAILS),filters:u,tables:p,table:h,listIds:E,perm:S,select:o.DETAILS,gridTag:V,masterId:b,linkField:g,fixed:x}):'unknown display mode "'.concat(N,'" for ').concat(R):null))}))});t.default=b},184:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(0)),a=n(4),l=n(3),o=n(36),i=n(17),u=n(20),c=s(n(53));function s(e){return e&&e.__esModule?e:{default:e}}var f=(0,a.connect)(u.getMe)(function(e){var t=e.settings,n=e.me,a=e.tables,u=e.table,s=e.eId,f=e.fieldFragments,d=e.linkField,m=a[u].fieldSpecs[d],p=(m=void 0===m?l.emptyO:m).valType,y=(p=void 0===p?l.emptyO:p).relTable,v=y?"detail":"main";return(0,o.applyTemplate)({settings:t,me:n,tables:a,table:u,eId:s,kind:v,relTable:y,values:(0,i.toFieldInfo)(s,f)})||r.default.createElement("div",{className:"grid fragments"},f.map(function(e){var t=e.field,n=e.label,l=e.fragment,o=l.table,u=l.myValues;return(0,i.itemReadField)(t,n,r.default.createElement(c.default,{field:t,tables:a,table:o,eId:s,myValues:u}),t)}))});t.default=f},185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(33).editControl)(!0);t.default=r},186:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=y(n(0)),a=n(4),l=n(27),o=n(3),i=n(36),u=n(17),c=n(8),s=n(20),f=y(n(18)),d=y(n(53)),m=y(n(102)),p=y(n(185));function y(e){return e&&e.__esModule?e:{default:e}}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=(0,a.connect)(s.getMe)((0,l.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!1,touchOnBlur:!0,touchOnChange:!1})(function(e){var t=e.settings,n=e.me,a=e.tables,l=e.table,s=e.eId,y=e.linkField,h=e.dirty,g=e.invalid,O=e.submitting,w=e.reset,E=e.error,S=e.fieldFragments,_=e.handleSubmit,j=e.nextAlt,k=e.dispatch,P=(0,c.headEntity)(a,l,s,t),I=_((0,c.toDb)(l,s,P,k)),A={form:"".concat(l,"-").concat(s),dirty:h,invalid:g,submitting:O,reset:w,error:E,nextAlt:j,handleSubmit:I},N=r.default.createElement(p.default,A),T=a[l].fieldSpecs[y],M=(T=void 0===T?o.emptyO:T).valType,F=(M=void 0===M?o.emptyO:M).relTable,x=F?"detail":"main";return(0,i.applyEditTemplate)({settings:t,me:n,tables:a,table:l,eId:s,kind:"".concat(x,"Edit"),relTable:F,fieldFragments:S,editButton:N,submitValues:I,reset:w})||r.default.createElement("form",null,N,r.default.createElement("div",{className:"grid fragments"},S.map(function(e){var t=e.field,n=e.label,l=e.valType,o=e.fragment,i=o.editable,c=o.table,p=o.myValues,y=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(o,["editable","table","myValues"]),h=i&&("object"!=b(l)||!l.fixed);return r.default.createElement(f.default,{key:t},(0,u.itemEditField)(t,n,h?r.default.createElement(m.default,v({field:t,tables:a,table:c,eId:s,submitValues:I,reset:w},y)):r.default.createElement(d.default,{field:t,tables:a,table:c,eId:s,myValues:p}),h))})))}));t.default=h},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},l=n(4),o=n(27),i=n(3),u=n(36),c=n(8),s=n(20);var f=(0,l.connect)(s.getMe)((0,o.reduxForm)({destroyOnUnmount:!1,enableReinitialize:!0,keepDirtyOnReinitialize:!1,touchOnBlur:!0,touchOnChange:!1})(function(e){var t=e.settings,n=e.me,r=e.tables,l=e.table,o=e.eId,s=e.linkField,f=e.fieldFragments,d=e.handleSubmit,m=e.dispatch,p=(0,c.headEntity)(r,l,o,t),y=d((0,c.toDb)(l,o,p,m)),v=r[l].fieldSpecs[s],b=(v=void 0===v?i.emptyO:v).valType,h=(b=void 0===b?i.emptyO:b).relTable,g=h?"detail":"main";return a.default.createElement("div",{className:"item-workflow"},(0,u.applyEditTemplate)({settings:t,me:n,tables:r,table:l,eId:o,kind:"".concat(g,"Action"),relTable:h,fieldFragments:f,submitValues:y}))}));t.default=f},188:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(0)),a=n(4),l=f(n(52)),o=n(3),i=n(33),u=n(15),c=f(n(100)),s=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=(0,a.connect)(u.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.table,f=e.eId,m=e.meta,p=m.dirty,y=m.invalid,v=m.submitting,b=m.error,h=e.input,g=h.name,O=h.value,w=e.input,E=e.rh,S=e.reset,_=e.submitValues,j=e.dispatch,k="".concat(a,"-").concat(f,"-").concat(g),P=(0,u.compileAlternatives)(n,2,1,j)(k),I=P.getAlt,A=P.nextAlt,N=I(t);return r.default.createElement("div",d({className:"md-field"},0==N?o.emptyO:E),r.default.createElement(s.default,{tip:"".concat(0===N?"edit text":"preview formatted text"),at:"right"},r.default.createElement("span",{className:"button medium field-control fa fa-".concat(0===N?"pencil":"hand-o-down"),onClick:A})),0===N?r.default.createElement(l.default,{className:"".concat((0,i.editClass)(p,y)," field-content"),source:O}):r.default.createElement("div",{className:"field-content"},r.default.createElement(s.default,{tip:r.default.createElement(c.default,{dirty:p,type:"markdown"}),at:"top",focusOnly:!0},r.default.createElement("div",null,r.default.createElement("textarea",d({className:"input ".concat((0,i.editClass)(p,y))},w,{wrap:"soft",onBlur:(0,i.makeSubmit)(p,y,v,_)},(0,i.makeReset)("text",S))))),b&&r.default.createElement("span",{className:"invalid diag"},b)))});t.default=m},189:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=u(n(0)),a=n(3),l=n(33),o=u(n(100)),i=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.meta,n=t.dirty,u=t.invalid,s=t.submitting,f=t.error,d=e.input,m=e.type,p=e.reset,y=e.submitValues,v="checkbox"===m?(0,l.makeSubmitTime)(y):(0,l.makeSubmit)(n,u,s,y),b=(0,l.makeReset)(m,p),h="checkbox"===m?{onClick:v}:{onBlur:v},g="checkbox"==m?a.emptyO:{className:"wideInput"};return r.default.createElement("div",g,r.default.createElement(i.default,{tip:r.default.createElement(o.default,{type:"text",dirty:n}),at:"top",focusOnly:!0},r.default.createElement("input",c({type:m,className:(0,l.editClass)(n,u)},d,h,b))),f&&r.default.createElement("span",{className:"invalid diag"},f))}},190:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=s(n(52)),l=n(3),o=n(8),i=n(12),u=s(n(49)),c=s(n(7));function s(e){return e&&e.__esModule?e:{default:e}}var f={editMode:{review:function(e){return(0,e.e)("comments")?1:0}},detail:{review:function(e){var t=e.tables,n=e.settings,a=e.l,o=e.v,c=e.w,s=e.me,f=e.e,m=e.s,y=e.f,v=f("comments")?"incomplete":"complete",b=(0,i.getItem)(c("reviewers")),h=b.reviewerE,g=b.reviewerF,O=(0,i.isReviewerType)(s._id,h,g);return r.default.createElement("div",{className:"review entryRead ".concat(v)},r.default.createElement("div",{className:"criteria entry"},r.default.createElement("div",null,m("seq")),r.default.createElement(u.default,{alterSection:"criteriaEntry".concat(o("_id")),alterTag:a("remarks"),iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show criteria details",titleClose:"Hide criteria details",headActive:l.emptyS,headLine:y("criteria"),full:r.default.createElement("div",{className:"criteria comments"},y("criteria","remarks")),className:"fat"})),p(y),d(O,b,!0,{tables:t,settings:n,l:a,w:c,theF:y}))}},detailEdit:{review:function(e){var t=e.tables,n=e.settings,a=e.l,l=e.e,o=e.w,u=e.me,c=e.s,s=e.f,f=e.fe,m=e.editButton,y=l("comments")?"incomplete":"complete",v=(0,i.getItem)(o("reviewers")),b=v.reviewerE,h=v.reviewerF,g=(0,i.isReviewerType)(u._id,b,h);return r.default.createElement("div",{className:"review entryEdit ".concat(y)},r.default.createElement("div",{className:"criteria entry"},m,c("seq"),r.default.createElement("div",{className:"fat"},r.default.createElement("div",{className:"fat"},s("criteria")),r.default.createElement("div",{className:"criteria comments"},s("criteria","remarks")))),p(s),d(g,v,!0,{tables:t,settings:n,l:a,w:o,theF:f}))}}},d=function(e,t,n,a){var l=a.tables,u=a.settings,c=a.l,s=a.w,f=a.theF;return r.default.createElement(r.Fragment,null,r.default.createElement("p",null,r.default.createElement("b",null,c("comments"))),r.default.createElement("div",{className:"review allcomments"},["E","F"].map(function(a){var c=e&&a===e;return r.default.createElement("div",{key:a,className:"review reviewer ".concat(a," ").concat(c?"my":"other")},r.default.createElement("div",{className:"label large workflow ".concat(c?"good":"info")},"".concat(c?"You":(0,o.headEntity)(l,"user",t["reviewer".concat(a)],u)," (").concat(i.reviewerRole[a],")")),r.default.createElement("div",{className:"review comments"},m(a,c,t,n,{theF:f,w:s})))})))},m=function(e,t,n,l,o){var u=o.theF,s=o.w;return t?r.default.createElement(c.default,{tip:"Enter review comments",at:"top"},u("comments")):(0,i.getItem)(s("reviews"),!0).filter(function(t){return t.creator===n["reviewer".concat(e)]}).map(function(e,t){var n=e.comments;return r.default.createElement(a.default,{key:t,className:"field-content",source:n.join("\n\n")})})},p=function(e){return r.default.createElement("div",{className:"assessment comments"},r.default.createElement("div",null,r.default.createElement(c.default,{tip:"Score by self-assessment",at:"right"},e("criteriaEntry","score"))),r.default.createElement("div",null,r.default.createElement("b",null,"Evidence")),r.default.createElement("div",null,e("criteriaEntry","evidence")))},y=f;t.default=y},191:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(3),l=n(8),o=n(61),i=n(17),u=n(12);var c=function(e,t,n,r){return(0,i.itemReadField)(e,t(e),n(e),r)},s=function(e,t,n,r,a){return(0,i.itemEditField)(e,t(e),n(e),r(e),a)},f={head:function(e){var t=e.tables,n=e.v,r=e.w,a=e.me,l=(0,u.getItem)(r("reviewers")),o=l.reviewerE,i=l.reviewerF,c=(0,u.isReviewerType)(a._id,o,i);return(0,u.processStatus)(r("reviewers"),"E"===c?r("reviews"):{items:[{creator:n("creator"),decision:n("decision")}]},!r("locked").on,{tables:t,v:n,w:r,me:a})},main:function(e){var t=e.l,n=e.f;return r.default.createElement("div",{className:"grid fragments"},c("title",t,n),c("reviewType",t,n),c("contrib",t,n),c("assessment",t,n),c("remarks",t,n),c("editors",t,n))},mainEdit:function(e){var t=e.l,n=e.f,a=e.fe,l=e.m,o=e.editButton;return r.default.createElement(r.Fragment,null,o,r.default.createElement("div",{className:"grid fragments"},s("title",t,a,l),c("reviewType",t,n,l),c("contrib",t,n),c("assessment",t,n),s("remarks",t,a,l),s("editors",t,a,l)))},mainAction:function(e){var t=e.settings,n=e.tables,i=e.table,c=e.me,s=e.v,f=e.w,d=e.s,m=e.fs,p=e.m,y=(0,u.getItem)(f("reviewers")),v=y.reviewerE,b=y.reviewerF,h=(0,u.isReviewerType)(c._id,v,b),g=(0,u.isReviewerType)(s("creator"),v,b),O=(0,u.decisions)(n.decision),w=O.dAcro,E=O.dId,S=O.dRep,_=O.dPart,j={},k={};return["E","F"].forEach(function(e){if(g&&e===g)j[e]=s("decision"),k[e]=d("dateDecided");else{var n=(f("reviews")||a.emptyO).items,r=void 0===n?a.emptyA:n,l=!0,u=!1,c=void 0;try{for(var m,p=r[Symbol.iterator]();!(l=(m=p.next()).done);l=!0){var y=m.value,v=y.decision,b=y.dateDecided;v&&(j[e]=v,k[e]=(0,o.trimDate)(b,i,"dateDecided",t))}}catch(e){u=!0,c=e}finally{try{l||null==p.return||p.return()}finally{if(u)throw c}}}}),r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"review allcomments"},["E","F"].map(function(e){var a=h&&e===h,o="E"===e?"advice":"decision",i="E"===e?"given":"made",c=j[e],s=c?w[c]:"info",d=c?_[s]:"No ".concat(o," yet"),p=c?" ".concat(i," on ").concat(k[e]):"";return r.default.createElement("div",{key:e,className:"review reviewer ".concat(e," ").concat(a?"my":"other")},r.default.createElement("div",{className:"label large workflow ".concat(a?"good":"info")},"".concat(a?"You":(0,l.headEntity)(n,"user",y["reviewer".concat(e)],t)," (").concat(u.reviewerRole[e],")")),a?f("incomplete").on?r.default.createElement("div",{className:"label large workflow warning"},"You cannot state your ".concat(o," yet because: ").concat(f("incomplete").desc,".  ")):c?r.default.createElement("div",null,r.default.createElement("div",{className:"label large workflow ".concat(s)},d),p,"F"!==e&&j.F?null:m("decision",null,function(e){return r.default.createElement("span",{className:"button large workflow warning",onClick:e},"Revoke ".concat(o))})):r.default.createElement("div",null,"".concat(o,": "),["good","error","warning"].map(function(e){return r.default.createElement(r.Fragment,{key:e},m("decision",E[e],function(t){return r.default.createElement("span",{className:"button large workflow ".concat(e),onClick:t},S[e])}))})):r.default.createElement("div",null,r.default.createElement("div",{className:"label large workflow ".concat(s)},d),p))})),p("title")&&f("locked").on?r.default.createElement("div",{className:"label large workflow info"},"This review is locked because: ".concat(f("locked").desc)):null)},insert:{assessment:function(e){var t=e.v,n=e.w,l=e.me,o=e.onInsert,i=(0,u.isReviewerType)(l._id,t("reviewerE"),t("reviewerF")),c=function(e,t){return e._id&&((t("reviews")||a.emptyO).items||a.emptyA).find(function(t){return t.creator==e._id})}(l,n),s="/data/review/mylist/".concat(c),f=!0;if("F"===i){var d=(n("reviews")||a.emptyO).items,m=void 0===d?a.emptyA:d;f=!1;var p=!0,y=!1,v=void 0;try{for(var b,h=m[Symbol.iterator]();!(p=(b=h.next()).done);p=!0){var g=b.value,O=g.creator,w=g.decision;O===t("reviewerE")&&w&&(f=!0)}}catch(e){y=!0,v=e}finally{try{p||null==h.return||h.return()}finally{if(y)throw v}}}return i?r.default.createElement(r.Fragment,null,r.default.createElement("span",{className:"label large workflow ".concat(i?"info":"error")},"Your reviewer role is: ".concat(u.reviewerRole[i])),c?r.default.createElement("a",{className:"button large workflow info",href:s},"Continue reviewing"):t("submitted")?f?r.default.createElement("span",{className:"button large workflow info",onClick:o},"Start review"):r.default.createElement("span",{className:"label large workflow warning"}):r.default.createElement("span",{className:"label large workflow warning"},"You can review after the self-assessment has been submitted")):a.emptyA}}};Object.assign(f,{detail:{assessment:f.main},detailEdit:{assessment:f.mainEdit},detailAction:{assessment:f.mainAction}});var d=f;t.default=d},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=u(n(0)),l=n(3),o=u(n(49)),i=(r=n(7))&&r.__esModule?r:{default:r};function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}var c={editMode:{assessment:function(e){var t=e.e;return t("score")||t("evidence")?1:0}},detail:{assessment:function(e){var t=e.l,n=e.v,r=e.e,u=e.s,c=e.f,s=r("evidence")||r("score")?"incomplete":"complete";return a.default.createElement("div",{className:"criteria entryRead ".concat(s)},a.default.createElement("div",{className:"criteria entry"},a.default.createElement("div",null,u("seq")),a.default.createElement(o.default,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("remarks"),iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show criteria details",titleClose:"Hide criteria details",headActive:l.emptyS,headLine:c("criteria"),full:a.default.createElement("div",{className:"criteria comments"},c("criteria","remarks")),className:"fat"}),a.default.createElement("div",{className:"slim"},c("score")),r("evidence")?a.default.createElement("div",{className:"xSlim"},a.default.createElement(i.default,{tip:"No evidence yet",at:"top"},a.default.createElement("span",{className:"slim fa fa-file-o tError"}))):a.default.createElement(o.ExpandHead,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("evidence"),initAlt:1,iconOpen:"file-text",iconClose:"minus-square",titleOpen:"Show evidence",titleClose:"Hide evidence",headActive:l.emptyS,headLine:l.emptyS,className:"xSlim tGood"})),a.default.createElement(o.ExpandBody,{alterSection:"criteriaEntry".concat(n("_id")),alterTag:t("evidence"),initAlt:1,full:a.default.createElement(a.Fragment,null,a.default.createElement("b",null,t("evidence")),c("evidence")),className:"comments"}))}},detailEdit:{assessment:function(e){var t=e.l,n=e.e,r=e.s,l=e.f,o=e.fe,u=e.editButton,c=n("evidence")||n("score")?"incomplete":"complete";return a.default.createElement("div",{className:"criteria entryEdit ".concat(c)},a.default.createElement("div",{className:"criteria entry"},u,r("seq"),a.default.createElement("div",{className:"fat"},a.default.createElement("div",{className:"fat"},l("criteria")),a.default.createElement("div",{className:"criteria comments"},l("criteria","remarks"))),a.default.createElement("div",{className:"slim"},o("score",{suppressTyping:!0}))),a.default.createElement("p",null,a.default.createElement("b",null,t("evidence"))),a.default.createElement(i.default,{tip:"Give evidence",at:"top"},o("evidence")))}}};t.default=c},193:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(3),l=n(17),o=n(12),i=c(n(7)),u=c(n(101));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n,r){return(0,l.itemReadField)(e,t(e),n(e),r)},f=function(e,t,n,r,a){return(0,l.itemEditField)(e,t(e),n(e),r(e),a)},d={head:function(e){var t=e.tables,n=e.v,r=e.w,a=e.me;return(0,o.processStatus)({items:[{reviewerF:n("reviewerF")}]},r("reviews"),n("submitted"),{tables:t,v:n,w:r,me:a})},main:function(e){var t=e.l,n=e.f;return r.default.createElement("div",{className:"grid fragments"},s("title",t,n),s("assessmentType",t,n),s("contrib",t,n),s("remarks",t,n),s("editors",t,n))},mainEdit:function(e){var t=e.l,n=e.f,a=e.fe,l=e.m,o=e.editButton;return r.default.createElement(r.Fragment,null,o,r.default.createElement("div",{className:"grid fragments"},f("title",t,a,l),s("assessmentType",t,n),s("contrib",t,n),f("remarks",t,a,l),f("editors",t,a,l)))},mainAction:function(e){var t=e.tables,n=e.l,i=e.e,c=e.v,s=e.w,d=e.s,m=e.fe,p=e.fs,y=e.m,v=(s("score")||a.emptyO).items||a.emptyA,b=v.length?v[0]:a.emptyO,h=!i("dateWithdrawn"),g=!i("submitted"),O=(0,o.decisions)(t.decision).dId,w=(0,o.finalDecision)({items:[{reviewerF:c("reviewerF")}]},s("reviews")),E=w===O.warning,S=!!w;return r.default.createElement(r.Fragment,null,r.default.createElement(u.default,{score:b}),r.default.createElement("div",{className:"grid fragments"},y("submitted")?null:f("submitted",n,m,y),(0,l.itemEditField)("submitted","Submission",r.default.createElement(r.Fragment,null,!g&&h?"".concat(E?"Revised":n("dateWithdrawn"),": ").concat(d("dateWithdrawn")):null,g?"".concat(n("dateSubmitted"),": ").concat(d("dateSubmitted")):null,s("incomplete").on||s("stalled").on?null:S&&!E?r.default.createElement("span",{className:"label large workflow info"},"Review finished"):p("submitted",i("submitted"),function(e){return r.default.createElement("span",{className:"button large workflow ".concat(i("submitted")?"info":E?"info":"error"),onClick:e},"".concat(i("submitted")?"Submit for review".concat(E?" (again)":a.emptyS):E?"Enter revisions":"Withdraw from review"))})),y("submitted")),i("submitted")?null:f("reviewerE",n,m,y),i("submitted")?null:f("reviewerF",n,m,y)),s("stalled").on?r.default.createElement("div",{className:"label large workflow error"},"This assessment cannot be submitted because: ".concat(s("stalled").desc,".\n              Either change the type of the contribution to the type of this assessment,\n              or start a new assessment, copy over the relevant material form this\n              assessment (by hand), and remove this assessment.\n            ")):null,s("incomplete").on?r.default.createElement("div",{className:"label large workflow warning"},"This assessment cannot yet be submitted because: ".concat(s("incomplete").desc,".\n            ")):i("submitted")?r.default.createElement("div",{className:"label large workflow good"},"All criteria filled: this assessment can be submitted.\n              "):null,y("title")&&s("locked").on&&!E?r.default.createElement("div",{className:"label large workflow info"},"This assessment is locked because it ".concat(S?"has been reviewed":s("locked").desc,".")):null)},insert:{contrib:function(e){var t=e.at,n=e.v,a=e.n,l=e.o,o=e.onInsert;return t.has(n("typeContribution"))?l?0==a?r.default.createElement("span",{className:"button large workflow info",onClick:o},"Write a self-assessment"):r.default.createElement(i.default,{tip:r.default.createElement(r.Fragment,null,r.default.createElement("p",null,"Normally a contribution needs just one self-assessment."),r.default.createElement("p",null,"Only add an other one in the following cases"),r.default.createElement("ul",null,r.default.createElement("li",null,"The previous self-assessment has become obsolete"),r.default.createElement("li",null,"The previous self-assessment is based on a contribution type,\n                          but the contribution in question has been assigned another type.")),r.default.createElement("p",null,r.default.createElement("b",null,"In the last case, it is recommended to copy and paste the relevant parts\n                        of the old assessment into the new one and delete the old one."))),at:"top"},r.default.createElement("span",{className:"button large workflow warning",onClick:o},"Add another self-assessment",r.default.createElement("span",{className:"fa fa-exclamation"}))):r.default.createElement("span",{className:"label large workflow info"},"Only owners and editors can self-assess a contribution"):r.default.createElement("span",{className:"label large workflow error"},"Contributions with a legacy type cannot be assessed")}},consolidated:{trail:function(e){var t=e.s;return r.default.createElement(r.Fragment,null,r.default.createElement("div",null,t("title")),r.default.createElement("div",null,t("vcc",", ")," ",t.year))}}};Object.assign(d,{detail:{contrib:d.main},detailEdit:{contrib:d.mainEdit},detailAction:{contrib:d.mainAction}});var m=d;t.default=m},194:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(3),l=n(12),o=u(n(49)),i=u(n(101));function u(e){return e&&e.__esModule?e:{default:e}}var c={head:function(e){var t=e.tables,n=e.v,r=e.w,a=e.me;return(0,l.processStatus)(r("reviewers"),r("reviews"),r("locked").on,{tables:t,v:n,w:r,me:a})},mainAction:function(e){var t,n=e.tables,o=e.w,u=e.m,c=(0,l.finalDecision)(o("reviewers"),o("reviews"))===(0,l.decisions)(n.decision).dId.good;if(c){var s=(o("score")||a.emptyO).items||a.emptyA,f=s.length?s[0]:a.emptyO;t=r.default.createElement(r.Fragment,null,r.default.createElement(i.default,{score:f}),r.default.createElement("div",{className:"label large workflow good"},"This contribution has been approved by DARIAH."))}return c?t:u("title")&&o("locked").on?r.default.createElement("div",{className:"label large workflow info"},"This contribution is locked because it ".concat(o("locked").desc,".")):null},related:{assessment:function(e){var t=e.v,n=e.e,l=e.s,i=e.f,u=e.linkMe,c=l("title");return r.default.createElement(r.Fragment,null,r.default.createElement("div",null,n("urlContribution")?c:r.default.createElement("a",{href:l("urlContribution")},c)),r.default.createElement("div",null,l("vcc",null,", ")," ",l("country")," ",l("year")," ",r.default.createElement("a",{href:"mailto:".concat(l("contactPersonEmail"))},l("contactPersonName"))),r.default.createElement(o.default,{alterSection:"contribution_in_assessment".concat(t("_id")),alterTag:"cost",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution cost description",titleClose:"Hide contribution cost description",headActive:"Cost: ".concat(n("costTotal")?"Not given":l("costTotal")),headLine:a.emptyS,full:r.default.createElement(r.Fragment,null,i("costDescription"))}),r.default.createElement(o.default,{alterSection:"contribution_in_assessment".concat(t("_id")),alterTag:"description",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution descriptions",titleClose:"Hide contribution descriptions",headActive:"Description fields",headLine:n("urlAcademic")?r.default.createElement("a",{href:l("urlAcademic")},l("urlAcademic")):a.emptyS,full:r.default.createElement(r.Fragment,null,r.default.createElement("div",null,i("description")),r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement("b",null,"Tadirah:")),r.default.createElement("div",null,r.default.createElement("i",null,"Objects")," ",i("tadirahObject")),r.default.createElement("div",null,r.default.createElement("i",null,"Activities")," ",i("tadirahActivity")),r.default.createElement("div",null,r.default.createElement("i",null,"Techniques")," ",i("tadirahTechnique")),r.default.createElement("div",null,r.default.createElement("b",null,"Disciplines:")," ",i("discipline")),r.default.createElement("div",null,r.default.createElement("b",null,"Keywords:")," ",i("keyword"))))}),r.default.createElement(o.default,{alterSection:"contribution_in_assessment".concat(t("_id")),alterTag:"provenance",iconOpen:"info-circle",iconClose:"minus-circle",titleOpen:"Show contribution provenance",titleClose:"Hide contribution provenance",headActive:"Provenance",headLine:a.emptyS,full:r.default.createElement(r.Fragment,null,r.default.createElement("div",null,"Created ",i("dateCreated")," by ",l("creator")),r.default.createElement("div",null,r.default.createElement("div",null,r.default.createElement("b",null,"Modification history")),(t("modified")||a.emptyA).map(function(e,t){return r.default.createElement("div",{key:t},e)})))}),r.default.createElement("div",null,r.default.createElement("a",{href:u},"To the contribution record")),r.default.createElement("div",null,i("typeContribution")))}}};t.default=c},195:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(33);t.default=function(e){var t=e.widget,n=e.input.onChange,a=e.setValue,l=e.submitValues,o=(0,r.makeSubmitTime)(l);return t((0,r.makeChangeSaveVal)(n,o,a))}},196:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(0)),a=n(4),l=n(10),o=n(3),i=n(30),u=n(17),c=n(33),s=n(76),f=n(16),d=n(114),m=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){var t=e.label,n=e.attributes,a=e.selected,l=e.multiple,o=e.onHit;return r.default.createElement(m.default,{tip:a?"".concat(t," is currently selected"):l?"add ".concat(t):"select ".concat(t),at:"bottom"},r.default.createElement("p",v({},n,{onClick:a?null:o}),t))},h=(0,l.memoize)(function(e,t,n,r,a,l){return function(){if(t){if(!n.includes(r)){var o=y(n).concat([r]);a(o)}}else a(r),l((0,d.setPopUp)(e,!1))}}),g=function(e){var t=e.optionLookup,n=e.value,a=e.popUp,l=e.popUpIfEmpty,u=e.activeItems,c=e.inactive,f=e.selectTag,p=e.dispatch,y=(0,s.composeAttributes)(u,c),b=o.emptyS,h=t[n];b=void 0===h?n:h;var g=["option-head","tag"];if(n===o.emptyS){if(l)return null;b="click to enter a value",g.push("new")}var O=y(n,g.join(" ")),w=a?"up":"down";return r.default.createElement(m.default,{tip:"click here to ".concat(a?"hide":"show"," the other options"),at:"right"},r.default.createElement("span",v({},O,{onClick:(0,i.handle)(p,d.togglePopUp,f)}),b," ",r.default.createElement("span",{className:"fa fa-arrow-".concat(w," ").concat(w)})))},O=function(e){var t=e.selectTag,n=e.optionLookup,a=e.popUp,l=e.popUpIfEmpty,o=e.activeItems,u=e.inactive,c=e.value,f=e.onChange,p=e.dispatch,y=(0,s.composeAttributes)(o,u),b=a?"up":"down";return r.default.createElement(m.default,{tip:"click on this line to ".concat(a?"hide":"show"," the remaining options"),at:"top"},r.default.createElement("div",{className:"tags",onClick:(0,i.handle)(p,d.togglePopUp,t)},null!=c&&c.length?c.map(function(e){var t=n[e],a=void 0===t?e:t,l=y(e,"tag");return r.default.createElement("span",v({key:e},l),r.default.createElement(m.default,{tip:"remove ".concat(a),at:"bottom"},r.default.createElement("span",{className:"button-tag",onClick:function(e,t,n){return function(r){if(r.stopPropagation(),e.includes(n)){var a=e.filter(function(e){return e!==n});t(a)}}}(c,f,e)},"×")," "),a)}):l?null:r.default.createElement("span",{className:"tag empty"},"click to enter values"),r.default.createElement("span",{className:"fa fa-arrow-".concat(b," ").concat(b)})))},w=function(e){var t=e.selectTag,n=e.search,a=e.dispatch,l=e.placeHolder;return r.default.createElement("span",{className:"option-type"},n?r.default.createElement(m.default,{tip:"clear typing",at:"bottom"},r.default.createElement("span",{className:"button-tag",onClick:(0,i.handle)(a,d.setSearch,t,o.emptyS)},"×")):" "," ",r.default.createElement(m.default,{tip:l,at:"left"},r.default.createElement("input",{className:"typing",type:"text",placeholder:"type here ...",value:n||o.emptyS,onFocus:(0,i.handle)(a,d.setPopUp,t,!0),onChange:(0,i.handlEV)(a,d.setSearch,t)})))},E=function(e){var t=e.selectTag,n=e.optionLookup,a=e.options,l=e.activeItems,i=e.inactive,c=e.multiple,f=e.allowNew,d=e.value,p=e.onChange,v=e.search,g=e.dispatch,O=(v||o.emptyS).toLowerCase(),w=(0,s.composeAttributes)(l,i),E=(0,u.checkDisabled)(l,i),S=a.length>=20?"o-large":"o-small";return r.default.createElement("div",{className:"options ".concat(S)},c||null==d||d==o.emptyS?null:r.default.createElement(m.default,{tip:"clear selection",at:"bottom"},r.default.createElement("span",{className:"button-tag tag option",onClick:h(t,c,null,null,p,g)},"( × )")),f&&v&&!a.some(function(e){return e.label===v})&&!d.includes(v)?r.default.createElement(m.default,{tip:"add ".concat(v," as a NEW option"),at:"bottom"},r.default.createElement("span",{className:"new tag",onClick:function(e,t,n,r,a){return function(){if(null==e[a]&&!n.includes(a)){var l=t?[a].concat(y(n)):a;r(l)}}}(n,c,d,p,v)},v)):null,a.map(function(e){var n=e.value,a=e.label;if(c&&d.includes(n)||null!=O&&O!==o.emptyS&&null!=a&&-1===a.toString().toLowerCase().indexOf(O)||E(n))return null;var l=c&&d.includes(n)||!c&&d===n,i=w(n,"tag option ".concat(l?"selected":o.emptyS));return r.default.createElement(b,{key:n,label:a,attributes:i,selected:l,multiple:c,onHit:h(t,c,d,n,p,g)})}))},S=(0,o.combineSelectors)(f.getSettings,d.getSelect),_=(0,a.connect)(S)(function(e){var t=e.settings,n=e.tables,a=e.table,l=e.eId,i=e.field,u=e.selectTag,s=e.activeItems,f=e.inactive,m=e.allowed,p=e.input,y=p.name,v=p.value,b=p.onChange,h=e.multiple,S=e.allowNew,_=e.popUpIfEmpty,j=e.select,k=e.dispatch,P=e.suppressTyping,I=e.submitValues,A=(0,c.makeSubmitTime)(I),N=(0,c.makeChangeSave)(b,A),T=j[u],M=(T=void 0===T?o.emptyO:T).search,F=T.popUp,x=(0,d.compileOptions)(n,a,m,i,t),D=x.options,C=x.optionLookup,R=F||_&&(null==v||h&&0==v.length||!h&&!v),L=!0===S?"value":S||o.emptyS,V=L?" or add a new ".concat(L):o.emptyS,z="filter remaining options".concat(V);return r.default.createElement("div",{className:"select ".concat(h?"multiselect":o.emptyS)},h?r.default.createElement(O,{optionLookup:C,activeItems:s,inactive:f,table:a,eId:l,name:y,value:v,selectTag:u,popUp:R,popUpIfEmpty:_,dispatch:k,onChange:N}):r.default.createElement(g,{optionLookup:C,activeItems:s,inactive:f,table:a,eId:l,name:y,value:v,popUp:R,popUpIfEmpty:_,selectTag:u,dispatch:k}),R&&!P?r.default.createElement(w,{selectTag:u,search:M,dispatch:k,placeHolder:z}):null,R?r.default.createElement(E,{selectTag:u,optionLookup:C,options:D,activeItems:s,inactive:f,multiple:h,allowNew:S,value:v,search:M,dispatch:k,onChange:N}):null)});t.default=_},197:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=n(27),l=n(33),o=i(n(7));function i(e){return e&&e.__esModule?e:{default:e}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.default=function(e){var t=e.componentSingle,n=e.validateSingle,i=e.normalizeSingle,c=e.meta,s=c.dirty,f=c.invalid,d=c.submitting,m=c.error,p=e.fields,y=e.table,v=e.eId,b=e.valType,h=(e.nameC,e.reset),g=e.submitValues,O=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["componentSingle","validateSingle","normalizeSingle","meta","fields","table","eId","valType","nameC","reset","submitValues"]),w=(0,l.makeSubmit)(s,f,d,g),E=(0,l.makeSubmitTime)(g);return r.default.createElement("div",{className:"".concat((0,l.editClass)(s,f)," multi-field ").concat(b)},p.map(function(e,l){return r.default.createElement("div",{key:e,className:"multi-content"},r.default.createElement(o.default,{tip:"remove entry",at:"left"},r.default.createElement("div",{className:"button medium",onClick:function(e,t,n){return function(){e.remove(t),n()}}(p,l,E)},"×")),r.default.createElement(a.Field,u({name:e,component:t,validate:n,normalize:i,label:l,table:y,eId:v,reset:h,submitValues:w},O)))}),r.default.createElement("div",{className:"multi-content"},r.default.createElement(o.default,{tip:"more entries",at:"left"},r.default.createElement("div",{className:"button medium",onClick:function(e,t){return function(){e.push(),t()}}(p,E)},"+"))),m&&r.default.createElement("p",{className:"invalid diag"},m))}},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMe=t.default=t.fetchMe=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(45),o=n(3);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.fetchMe=function(){return(0,l.accessData)({type:"fetchMe",contentType:"db",path:"/who/ami",desc:"me"})};var u={fetchMe:function(e,t){var n=t.data;return null==n?o.emptyO:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}({},n)},modItem:function(e,t){var n=t.data;if("user"===t.table){var r=n.records,l=void 0===r?o.emptyA:r,i=e,u=!0,c=!1,s=void 0;try{for(var f,d=l[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var m=f.value,p=m.values,y=m.groupValues,v=void 0===y?o.emptyO:y;p._id==e._id&&(i=(0,a.default)(i,{$merge:p}),i=(0,a.default)(i,{$merge:v}))}}catch(e){c=!0,s=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw s}}return i}return e}},c=(0,o.makeReducer)(u);t.default=c;t.getMe=function(e){return{me:e.me}}},278:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getForms=void 0;var r=n(10);t.getForms=function(e){var t=e.form;return{form:a(t)}};var a=function(e){return(0,r.makeSet)(Object.keys(e))}},279:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(10),o=n(3),i=n(17),u=n(40),c=n(278),s=p(n(111)),f=p(n(53)),d=p(n(99)),m=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}var y=(0,l.memoize)(function(e,t,n,a,l){return a?r.default.createElement(m.default,{tip:"".concat(l?"show":"close"," details of this record"),at:"left"},r.default.createElement("span",{className:"button small fa fa-angle-".concat(l?"down":"up"),onClick:e})):null}),v=(0,a.connect)(c.getForms)(function(e){var t=e.alt,n=e.nextAlt,a=e.filters,l=e.tables,c=e.form,m=e.table,p=e.eId,v=e.initialValues,b=e.perm,h=e.workflow,g=e.masterId,O=e.linkField,w=e.isactive,E=e.fixed,S=e.fields,_=e.widthStyles,j=(0,i.makeFields)({tables:l,table:m,eId:p,initialValues:v,perm:b,fields:S}),k=(0,u.makeDetails)({tables:l,table:m,eId:p}),P=b.update,I=j.length,A="".concat(m,"-").concat(p),N=c.has(A),T="edit-".concat(m,"-").concat(p);return r.default.createElement("div",{className:w?"isactive":o.emptyS},0===t?r.default.createElement("div",{className:"grid-row"},r.default.createElement("div",{className:"grid-status-cell"},y(n,m,p,P,!0),N?r.default.createElement(s.default,{form:"".concat(m,"-").concat(p),active:!1}):null),function(e,t,n,a){return n.map(function(n,l){var i=n.field,u=n.fragment,c=u.editable,s=u.table,d=u.myValues,m=a[l];return r.default.createElement("div",{className:"grid-cell valueColGrid ".concat(c?"edit":o.emptyS),style:m,key:i},r.default.createElement(f.default,{field:i,tables:e,table:s,eId:t,myValues:d}))})}(l,p,j,_),function(e,t,n,a,l){return n.map(function(e,t){var n=e.name,o=e.detailListIds,i=a[l+t],u=o.length;return r.default.createElement("div",{key:n,className:"grid-cell value-col-grid",style:i},u)})}(0,0,k,_,I)):r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"grid-status-cell"},y(n,m,p,P,!1)),r.default.createElement(d.default,{filters:a,tables:l,table:m,eId:p,masterId:g,linkField:O,alterSection:T,isactive:w,startMode:0,initialValues:v,perm:b,workflow:h,fields:S,fieldFragments:j,detailFragments:k,fixed:E})))});t.default=v},280:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(8),i=n(16);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var c=["all","assessed","reviewed"],s={all:"all",assessed:"assessed",reviewed:"reviewed"},f=function(e,t){return Math.round((0,l.sum)(Array.from(t).map(function(t){return e[t]&&e[t].values.costTotal||0})))},d=function(e,t,n,r,a){var i=t[n],c=i.fieldSpecs,s=(c=void 0===c?l.emptyO:c)[r],d=(s=void 0===s?l.emptyO:s).valType,m=void 0===d?"text":d,p=s.multiple,y=void 0!==p&&p,v=s.label,b=i.entities,h=void 0===b?l.emptyO:b,g={};return Object.entries(a).forEach(function(a){var i=u(a,2),c=i[0],s=i[1],d={},p=!0,v=!1,b=void 0;try{for(var O,w=s[Symbol.iterator]();!(p=(O=w.next()).done);p=!0){var E=O.value,S=h[E],_=(S=void 0===S?l.emptyO:S).values,j=(_=void 0===_?l.emptyO:_)[r];if(y){var k=!0,P=!1,I=void 0;try{for(var A,N=(j||l.emptyA)[Symbol.iterator]();!(k=(A=N.next()).done);k=!0){var T=A.value;null==d[T]&&(d[T]=new Set),d[T].add(E)}}catch(e){P=!0,I=e}finally{try{k||null==N.return||N.return()}finally{if(P)throw I}}}else null==d[j]&&(d[j]=new Set),d[j].add(E)}}catch(e){v=!0,b=e}finally{try{p||null==w.return||w.return()}finally{if(v)throw b}}Object.entries(d).forEach(function(a){var i=u(a,2),s=i[0],d=i[1],p=(0,o.repr1Head)(t,n,r,m,s,e),y=d.size,v=f(h,d);g=(0,l.updateAuto)(g,[p,c],{$set:[y,v]})})}),[v,g]},m=[" "," "],p=(0,a.connect)(i.getSettings)(function(e){var t=e.settings,n=e.tables,a=e.table,i=n[a],p=i.entities,y=void 0===p?l.emptyO:p,v=i[o.ALLIDS],b=void 0===v?l.emptyA:v,h=n.assessment,g=(h=void 0===h?l.emptyO:h).entities,O=void 0===g?l.emptyO:g,w=n.review,E=(w=void 0===w?l.emptyO:w).entities,S=void 0===E?l.emptyO:E,_=new Set(b),j=new Set(Object.values(O).map(function(e){return e.values.contrib})),k=new Set(Object.values(S).map(function(e){return e.values.assessment})),P={all:_,assessed:j,reviewed:new Set(Array.from(k).map(function(e){return O[e].values.contrib}))},I={};Object.entries(P).forEach(function(e){var t=u(e,2),n=t[0],r=t[1];I=(0,l.updateAuto)(I,["All",n],{$set:[P[n].size,f(y,r)]})});var A=[["",I],d(t,n,a,"year",P),d(t,n,a,"country",P),d(t,n,a,"typeContribution",P),d(t,n,a,"discipline",P)];return r.default.createElement(r.Fragment,null,r.default.createElement("div",{className:"stats-section head"},r.default.createElement("div",{className:"stats-line head"},r.default.createElement("div",{className:"stats-item value head"},"value"),c.map(function(e){return r.default.createElement(r.Fragment,{key:e},r.default.createElement("div",{className:"stats-item ncost head"},s[e]))})),r.default.createElement("div",{className:"stats-line head"},r.default.createElement("div",{className:"stats-item value head"}," "),c.map(function(e){return r.default.createElement(r.Fragment,{key:e},r.default.createElement("div",{className:"stats-item n head"},"#"),r.default.createElement("div",{className:"stats-item cost head"},"€"))}))),A.map(function(e){var t=u(e,2),n=t[0],a=t[1];return r.default.createElement("div",{key:n,className:"stats-section"},n?r.default.createElement("div",{className:"stats-title head"},n):null,Object.entries(a).sort().map(function(e){var t=u(e,2),n=t[0],a=t[1];return r.default.createElement("div",{key:n,className:"stats-line"},r.default.createElement("div",{className:"stats-item value"},n),c.map(function(e){var t=a[e]||m;return r.default.createElement(r.Fragment,{key:e},r.default.createElement("div",{className:"stats-item n"},t[0]),r.default.createElement("div",{className:"stats-item cost"},t[1]))}))}))}))});t.default=p},281:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(12),i=n(8),u=n(29),c=p(n(18)),s=p(n(280)),f=p(n(77)),d=p(n(70)),m=p(n(98));function p(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,a,p;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.filters,n=e.tables,a=e.table,p=e.eId,y=e.select,v=e.mode,b=e.filtered,h="grid"===v;if((0,i.needTables)(n,[[a,y,h]].concat(o.loadExtra[a]||l.emptyA)))return r.default.createElement("div",null);var g=n[a],O=g.title,w=g.item,E=g.perm,S=g.myIds,_=g.allIds,j=w[1],k=y===i.MYIDS?S:_,P=(0,u.makeTag)(y,null,null);return r.default.createElement(c.default,null,b?r.default.createElement(m.default,{filters:t,tables:n,table:a,navItem:p,listIds:k,perm:E,select:y,mode:v,title:O,filterTag:P,gridTag:a,topLevel:!0}):"list"===v?r.default.createElement(d.default,{alterSection:"list-".concat(a,"-").concat(y),filters:t,tables:n,table:a,navItem:p,listIds:k,select:y,perm:E,title:O}):"grid"===v?r.default.createElement(f.default,{alterSection:"list-".concat(a,"-").concat(y),filters:t,tables:n,table:a,navItem:p,listIds:k,select:y,perm:E,gridTag:a}):"stats"===v?r.default.createElement(s.default,{tables:n,table:a}):'unknown display mode "'.concat(v,'" for ').concat(j))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.tables,n=e.table,r=e.select,a=e.extra,u=e.mode,c=e.dispatch,s="grid"===u;(0,i.fetchTables)(t,[[n,r,a,s]].concat(o.loadExtra[n]||l.emptyA),c)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.tables,n=e.table,r=e.select,a=e.extra,u=e.mode,c=e.dispatch,s="grid"===u;(0,i.fetchTables)(t,[[n,r,a,s]].concat(o.loadExtra[n]||l.emptyA),c)}}])&&v(n.prototype,a),p&&v(n,p),t}(),g=(0,l.combineSelectors)(i.getTables,u.getFilters),O=(0,a.connect)(g)(h);t.default=O},282:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(4),o=n(3),i=n(12),u=(r=n(18))&&r.__esModule?r:{default:r};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return d(r,(n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(m(r),"handleReset",{configurable:!0,enumerable:!0,writable:!0,value:function(){(0,m(r).props.dispatch)(i.resetWorkflow)}}),n))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.workflow,t=(e=void 0===e?o.emptyO:e).resets,n=e.stats,r=e.total;return null==r?a.default.createElement("div",null,"No workflow reset information"):a.default.createElement(u.default,null,a.default.createElement("div",null,a.default.createElement("h3",null,"Workflow information"),a.default.createElement("h4",null,"Current workflow attribute usage"),a.default.createElement("p",null,"Number of records with workflow information (all tables): ".concat(r)),Object.entries(n).map(function(e){var t=s(e,2),n=t[0],r=t[1];return a.default.createElement(a.Fragment,{key:n},a.default.createElement("p",null,a.default.createElement("b",null,n)),a.default.createElement("ul",null,Object.entries(r).map(function(e){var t=s(e,2),n=t[0],r=t[1];return a.default.createElement("li",{key:n},"".concat(n,": ").concat(r," x"))})))}),a.default.createElement("div",{className:"workflow large button info",onClick:this.handleReset},"Reset now"),a.default.createElement("h4",null,"Previous resets"),t.map(function(e){var t=e.dateReset,n=e.affected;return a.default.createElement("div",{key:t},a.default.createElement("p",null,a.default.createElement("b",null,"Reset performed on ".concat(t,":"))),n.map(function(e,t){return a.default.createElement("p",{key:t},e)}))})))}},{key:"fetchData",value:function(){var e=this.props,t=e.workflow,n=e.dispatch;t&&t.total||n(i.fetchWorkflow)}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){this.fetchData()}}])&&f(n.prototype,r),l&&f(n,l),t}(),y=(0,l.connect)(i.getWorkflow)(p);t.default=y},283:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=p(n(0)),a=n(4),l=n(26),o=n(3),i=n(20),u=n(8),c=p(n(282)),s=p(n(281)),f=p(n(18)),d=p(n(173)),m=p(n(7));function p(e){return e&&e.__esModule?e:{default:e}}var y={public:1,auth:2,office:3,system:4,root:5},v=function(e,t){return y[e]>=y[t]},b=[{name:"Contribution overview",forWhom:"public",details:[{path:"/data/contrib/stats",name:"Statistics",forWhom:"public",hint:"Various statistics of contributions",button:!0},{path:"/data/contrib/filter",name:"Map of contributions (faceted search)",forWhom:"public",hint:"Overview of all contributions",button:!0},{path:"/data/contrib/list",name:"Contributions (plain list)",forWhom:"public",hint:"Overview of all contributions, without the filters",button:!0}]},{name:"Writing contributions",forWhom:"auth",details:[{component:r.default.createElement(d.default,{key:"newcontrib",table:"contrib",thing:"contribution"}),forWhom:"auth",hint:"Start here to add a contribution"},{path:"/data/contrib/mylist",name:"My items",forWhom:"auth",hint:"My contributions",button:!0}]},{name:"Self-Assessments",forWhom:"auth",details:[{path:"/data/assessment/mylist",name:"My items",forWhom:"auth",hint:"Look here to see the status of your self-assessments",button:!0},{path:"/data/assessment/list",name:"Assign reviewers",forWhom:"office",hint:"Assign reviewers to self-assessments",button:!0}]},{name:"Reviewing",forWhom:"auth",details:[{path:"/data/assessment/myassign",name:"My assignments",forWhom:"auth",hint:"my review assignments",button:!0},{path:"/data/review/mylist",name:"My reviews",forWhom:"auth",hint:"my reviews",button:!0}]},{name:"Workflow setup",forWhom:"office",details:[{path:"/data/package/list",name:"Packages",forWhom:"office",hint:"the setup of contribution types and criteria",button:!0},{path:"/data/typeContribution/list",name:"Contribution types",forWhom:"office",hint:"overview of all contribution types",button:!0},{path:"/data/criteria/filter",name:"Criteria",forWhom:"office",hint:"overview of all criteria",button:!0},{path:"/data/country/list",name:"Countries",forWhom:"office",hint:"Country membership management",button:!0},{path:"/data/vcc/list",name:"VCCs",forWhom:"office",hint:"Virtual Competence Centers",button:!0},{path:"/data/score/filter",name:"Score values",forWhom:"office",hint:"overview of all scores"},{path:"/data/decision/list",name:"Decisions (review)",forWhom:"office",hint:"overview of all review decision options"},{path:"/data/year/list",name:"Years",forWhom:"office",hint:"Years"},{path:"/data/tadirahActivity/filter",name:"TADIRAH Activities",forWhom:"office",hint:'Values for "tadirahActivity"'},{path:"/data/tadirahObject/filter",name:"TADIRAH Objects",forWhom:"office",hint:'Values for "tadirahObject"'},{path:"/data/tadirahTechnique/filter",name:"TADIRAH Techniques",forWhom:"office",hint:'Values for "tadirahTechnique"'},{path:"/data/discipline/filter",name:"Disciplines",forWhom:"office",hint:'Values for "discipline"'},{path:"/data/keyword/filter",name:"Keywords",forWhom:"office",hint:'Values for "keyword"'}]},{name:"Workflow (under-water)",forWhom:"office",details:[{path:"/data/assessment/filter",name:"Self assessments",forWhom:"office",hint:"overview of all self-assessments",button:!0},{path:"/data/criteriaEntry/grid",name:"Criteria entries",forWhom:"office",hint:"assessment entries per criterion"},{path:"/data/review/filter",name:"Reviews",forWhom:"office",hint:"overview of all reviews",button:!0},{path:"/data/reviewEntry/grid",name:"Review entries",forWhom:"office",hint:"review entries per criterion"}]},{name:"User management",forWhom:"office",details:[{path:"/data/user/filter",name:"Users",forWhom:"office",hint:"Users in a list",button:!0},{path:"/data/user/grid",name:"Table view",forWhom:"office",hint:"Users in a grid"}]},{name:"System management",forWhom:"system",details:[{path:"/data/permissionGroup/list",name:"Permission groups",forWhom:"system",hint:"User permission groups",button:!0},{path:"/data/workflow",name:"Workflow management",forWhom:"system",hint:"Manage the workflow information for all tables",button:!0}]}],h=(0,a.connect)(i.getMe)(function(e){var t=e.me;return r.default.createElement("div",{className:"sub-app"},r.default.createElement("div",{className:"subnavbar"},r.default.createElement(f.default,null,b.map(function(e){return function(e,t){var n=t.name,a=t.forWhom,i=t.details;return v(e.groupRep,a)?r.default.createElement("div",{key:n,className:"section"},r.default.createElement("div",{className:"head"},n),r.default.createElement("div",{className:"subsection"},(i||o.emptyA).filter(function(t){var n=t.forWhom;return v(e.groupRep,n)}).map(function(e){var t=e.button,n=e.component,a=e.path,i=e.name,u=e.hint;return null==n?r.default.createElement(m.default,{key:a,tip:u,at:"right"},r.default.createElement(l.NavLink,{to:a,className:t?"button large workflow info":o.emptyS,activeClassName:"active"},i)):n}))):null}(t,e)}))),r.default.createElement("div",{className:"submaterial"},r.default.createElement(f.default,null,r.default.createElement(l.Switch,null,r.default.createElement(l.Route,{path:"/data/workflow",component:c.default}),r.default.createElement(l.Route,{path:"/data/:table/mylist/:eId?",render:(0,o.injectProps)(s.default,{select:u.MYIDS,mode:"list"})}),r.default.createElement(l.Route,{path:"/data/:table/myassign/:eId?",render:(0,o.injectProps)(s.default,{select:u.MYIDS,mode:"list",extra:!0})}),r.default.createElement(l.Route,{path:"/data/:table/list/:eId?",render:(0,o.injectProps)(s.default,{select:u.ALLIDS,mode:"list"})}),r.default.createElement(l.Route,{path:"/data/:table/grid/:eId?",render:(0,o.injectProps)(s.default,{select:u.ALLIDS,mode:"grid"})}),r.default.createElement(l.Route,{path:"/data/:table/filter/:eId?",render:(0,o.injectProps)(s.default,{select:u.ALLIDS,mode:"list",filtered:!0})}),r.default.createElement(l.Route,{path:"/data/:table/stats",render:(0,o.injectProps)(s.default,{select:u.ALLIDS,mode:"stats",filtered:!1})})))))});t.default=h},284:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},l=n(4),o=n(30),i=n(16);var u=(0,l.connect)(i.getSettings)(function(e){var t=e.settings,n=e.dispatch,r=t.showTooltips,l=void 0!==r&&r;return a.default.createElement("span",{className:"tooltips-".concat(l?"on":"off")},a.default.createElement("input",{type:"checkbox",checked:l,onChange:(0,o.handlE)(n,i.adjust,"showTooltips",!l)}),"tooltips")});t.default=u},285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(4),o=n(3),i=n(140),u=(r=n(7))&&r.__esModule?r:{default:r};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!a||"object"!==c(a)&&"function"!=typeof a?f(r):a,Object.defineProperty(f(n),"refDom",{configurable:!0,enumerable:!0,writable:!0,value:function(e){return function(t){t&&(n.dom[e]=t)}}}),Object.defineProperty(f(n),"handleBox",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=f(n).props,t=e.show;(0,e.dispatch)((0,i.display)(!t))}}),Object.defineProperty(f(n),"handleHide",{configurable:!0,enumerable:!0,writable:!0,value:function(){(0,f(n).props.dispatch)((0,i.display)(!1))}}),Object.defineProperty(f(n),"handleClear",{configurable:!0,enumerable:!0,writable:!0,value:function(){(0,f(n).props.dispatch)((0,i.clear)())}}),n.dom={},n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props,n=t.messages,r=t.lastNote,l=t.lastKind,i=t.busy,c=t.show,s=r>-1,f=new Array(i<0?0:i).fill(1);return a.default.createElement(a.Fragment,null,a.default.createElement(u.default,{tip:"click circle to show/hide notifications and progress messages",at:"left",fixed:!0,classTip:"msg-spinner-tip",classArrow:"msg-spinner-arrow"},a.default.createElement("div",{className:"msg-spinner"},a.default.createElement("span",{className:s?"spin-".concat(l):"spin-ok"},f.map(function(e,t){return a.default.createElement("span",{key:t,className:"msg-dot fa fa-caret-left"})}),a.default.createElement("span",{className:"fa fa-".concat(0===i?"circle-o":"spinner fa-spin"),onClick:this.handleBox})))),c?a.default.createElement("div",{ref:this.refDom("notbox"),className:"msg-box",onClick:this.handleHide},n.map(function(t,n){return a.default.createElement("div",{key:n,ref:e.refDom("m".concat(n)),className:"msg-line ".concat([t.kind],"-o ").concat("info"!==t.kind?"msg-high":o.emptyS)},t.text)}),a.default.createElement("div",{className:"msg-dismiss"},"(click panel to hide)"),n.length>1?a.default.createElement("div",{className:"msg-trash"},a.default.createElement("a",{href:"#",className:"control",onClick:this.handleClear},a.default.createElement("span",{className:"control fa fa-trash"})," clear messages")):null):null)}},{key:"componentDidMount",value:function(){this.setView()}},{key:"componentDidUpdate",value:function(){this.setView()}},{key:"setView",value:function(){this.props.show&&this.setScroll()}},{key:"setScroll",value:function(){if(this.props.show){var e=this.props,t=e.lastMsg,n=e.lastNote;n>-1?this.dom["m".concat(n)].scrollIntoView():t>-1&&this.dom["m".concat(t)].scrollIntoView()}}}])&&s(n.prototype,r),l&&s(n,l),t}(),m=(0,l.connect)(i.getNotes)(d);t.default=m},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},l=n(26);t.default=function(){return a.default.createElement("span",{className:"toplinks"},a.default.createElement(l.NavLink,{activeClassName:"active",to:"/data"},"Registry"),a.default.createElement(l.NavLink,{activeClassName:"active",to:"/docs/about.md"},"About"),a.default.createElement("a",{href:"https://github.com/Dans-labs/dariah/wiki/Help",target:"_blank",rel:"noopener noreferrer"},"Help"),a.default.createElement("a",{href:"https://dans-labs.github.io/dariah/",target:"_blank",rel:"noopener noreferrer"},"Tech doc"))}},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(4),o=n(26),i=n(8),u=n(20),c=(r=n(7))&&r.__esModule?r:{default:r};function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.me;return a.default.createElement("span",{className:"login"},e.eppn?a.default.createElement(a.Fragment,null,a.default.createElement(c.default,{tip:"you are logged in",at:"bottom"},a.default.createElement("span",{className:"fa fa-user"}),a.default.createElement("strong",null,(0,i.presentUser)(e))," ",a.default.createElement("em",null,e.groupDesc||"not authenticated")),a.default.createElement(c.default,{tip:"log out of this tool",at:"bottom"},a.default.createElement("a",{href:"/logout",className:"control fa fa-user-times"})),a.default.createElement(c.default,{tip:"sign out from DARIAH",at:"top"},a.default.createElement("a",{href:"/slogout",className:"control fa fa-users"}))):a.default.createElement(c.default,{tip:"click to log in",at:"bottom"},a.default.createElement("a",{href:"/login",className:"control"},a.default.createElement("strong",{className:"fa fa-user-plus"}),a.default.createElement("strong",null," login"))))}},{key:"componentDidMount",value:function(){(0,this.props.dispatch)((0,u.fetchMe)())}}])&&f(n.prototype,r),l&&f(n,l),t}(),p=(0,l.connect)(u.getMe)((0,o.withRouter)(m));t.default=p},288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=v(n(0)),a=n(4),l=n(26),o=n(88),i=v(n(18)),u=v(n(287)),c=v(n(286)),s=v(n(285)),f=v(n(7)),d=v(n(284)),m=v(n(283)),p=v(n(172)),y=v(n(95));function v(e){return e&&e.__esModule?e:{default:e}}var b=(0,a.connect)(o.getWinDim)((0,l.withRouter)(function(e){var t=e.win,n=t.height,a=t.width,o="".concat(a," x ").concat(n);return r.default.createElement(i.default,null,r.default.createElement(i.default,null,r.default.createElement(s.default,null)),r.default.createElement("div",{className:"topnavbar"},r.default.createElement(f.default,{tip:"information about this site",at:"right"},r.default.createElement("span",{className:"logo-container"},r.default.createElement("img",{src:"/static/images/inkind_logo_small.png"}))),r.default.createElement(i.default,null,r.default.createElement(c.default,null)),r.default.createElement(d.default,null),r.default.createElement(f.default,{tip:"current window size: ".concat(o," pixels"),at:"bottom"},r.default.createElement("span",{className:"resize"},o)),r.default.createElement(i.default,null,r.default.createElement(u.default,null))),r.default.createElement(i.default,null,r.default.createElement(l.Switch,null,r.default.createElement(l.Redirect,{push:!0,from:"/login",to:"/data"}),r.default.createElement(l.Redirect,{push:!0,from:"/logout",to:"/data"}),r.default.createElement(l.Redirect,{push:!0,from:"/slogout",to:"/data"}),r.default.createElement(l.Redirect,{exact:!0,from:"/",to:"/data"}),r.default.createElement(l.Redirect,{exact:!0,from:"/docs",to:"/docs/about.md"}),r.default.createElement(l.Redirect,{exact:!0,from:"/about",to:"/docs/about.md"}),r.default.createElement(l.Redirect,{exact:!0,from:"/docs/about",to:"/docs/about.md"}),r.default.createElement(l.Route,{path:"/docs/:docFile",component:p.default}),r.default.createElement(l.Route,{path:"/tech/docs/gen/:docFile",component:p.default}),r.default.createElement(l.Route,{path:"/tech/docs/:docFile",component:p.default}),r.default.createElement(l.Route,{path:"/data",component:m.default}),r.default.createElement(l.Route,{path:"*",component:y.default}))))}));t.default=b},29:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testAllChecks=t.makeTag=t.computeFiltering=t.compileValues=t.getFilters=t.default=t.initFiltering=t.changeFacetAll=t.changeFacet=t.changeFulltext=void 0;var r,a=(r=n(137))&&r.__esModule?r:{default:r},l=n(10),o=n(3),i=n(8);function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){c(e,t,n[t])})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.changeFulltext=function(e,t,n,r){return{type:"fulltext",table:e,filterTag:t,filterId:n,data:r}};t.changeFacet=function(e,t,n,r,a){return{type:"facet",table:e,filterTag:t,filterId:n,data:[r,a]}};t.changeFacetAll=function(e,t,n,r){return{type:"facetAll",table:e,filterTag:t,filterId:n,data:r}};t.initFiltering=function(e,t,n){var r=e[t];return{type:"initFiltering",tables:e,table:t,filterTag:n,fieldIds:m(r)}};var f={initFiltering:function(e,t){var n=t.tables,r=t.table,a=t.filterTag,l=t.fieldIds,i=e[r],u=v(n,r,void 0===i?{}:i,a,l);return(0,o.updateAuto)(e,[r,a],{$set:u})},fulltext:function(e,t){var n=t.table,r=t.filterTag,a=t.filterId,l=t.data;return(0,o.updateAuto)(e,[n,r,a],{$set:l})},facetAll:function(e,t){var n=t.table,r=t.filterTag,a=t.filterId,l=t.data,i=e[n][r][a],u={};return Object.keys(i).forEach(function(e){u[e]=l}),(0,o.updateAuto)(e,[n,r,a],{$set:u})},facet:function(e,t){var n=t.table,r=t.filterTag,a=t.filterId,l=s(t.data,2),i=l[0],u=l[1];return(0,o.updateAuto)(e,[n,r,a,i],{$set:u})}},d=(0,o.makeReducer)(f);t.default=d;t.getFilters=function(e){return{filters:e.filters}};var m=(0,l.memoize)(function(e){if(null==e)return o.emptyO;var t=e.valueLists,n=e.fields,r=e.filterList,l=e.fieldSpecs;if(null==r)return o.emptyO;var i=r.filter(function(e){return n[e.field]}).filter(function(e){return"Fulltext"!==e.type}).map(function(e){return e.field}),c=i.filter(function(e){return null==t[e]});return u({},(0,a.default)(t,function(e,t){return i.includes(t)}),c.length?g(e,c,l):o.emptyO)},o.emptyO,{debug:"compileAllFieldIds"}),p=(0,l.memoize)(function(e,t,n){if(null==e)return o.emptyO;var r=e.valueLists,l=e.fields,c=e.filterList,s=e.fieldSpecs;if(null==c)return o.emptyO;var f=c.filter(function(e){return l[e.field]}).filter(function(e){return"Fulltext"!==e.type}).map(function(e){return e.field}),d=t.startsWith(i.DETAILS),m=f.filter(function(e){return null==r[e]});return d?h(e,n,f,s):u({},(0,a.default)(r,function(e,t){return f.includes(t)}),m.length?h(e,n,m,s):o.emptyO)},o.emptyO,{debug:"compileFieldIds"}),y=(0,l.memoize)(function(e,t,n,r,a,l){var i=e[t];if(null==i)return o.emptyA;var u=i.fieldSpecs,c=p(i,n,r)[a];return O(e,u,c,a,l)},o.emptyO,{debug:"compileValues"});t.compileValues=y;var v=(0,l.memoize)(function(e,t,n,r,a){var l=e[t];if(null==l)return o.emptyO;var i=l.fields,u=l.filterList;if(null==u)return o.emptyO;var c=(n||o.emptyO)[r],s=void 0===c?o.emptyO:c,f={};return u.filter(function(e){return i[e.field]}).forEach(function(t,n){var r=s[n];if("Fulltext"===t.type)null==r&&(f[n]=o.emptyS);else{var i=r||o.emptyO,u={},c=t.field,d=t.relField,m=a[c];if(d)for(var p=l.fieldSpecs,y=O(e,p,m,c,d),v=Object.keys(y),b=0;b<v.length;b++){var h=v[b];u[h]=null==i[h]||i[h]}else m.forEach(function(e){u[e]=null==i[e]||i[e]});u[o.emptyS]=null==i[o.emptyS]||i[o.emptyS],Object.keys(u).length&&(f[n]=u)}}),f},o.emptyO,{debug:"initFilterSettings"}),b=(0,l.memoize)(function(e,t,n,r,a){var l=e[n];if(null==l)return o.emptyO;var i=l.entities,u=l.fields,c=l.fieldSpecs,f=l.filterList;if(null==f)return{filteredIds:a};var d=t[n],m=(void 0===d?o.emptyO:d)[r];if(null==m)return o.emptyO;var y=p(l,r,a),v=f.filter(function(e){return u[e.field]}),b={},h={};v.forEach(function(t,n){!function(t,n){var r=m[n],a=t.field,l=t.relField,o=c[a],i="Fulltext"===t.type?S:_;b[n]=i(e,a,l,o,r)}(t,n),h[n]=[]});var g=[],O=!0,w=!1,E=void 0;try{for(var k,P=function(){var e=k.value,t=i[e],n=null,r=!0,a=!1;Object.entries(b).forEach(function(e){var l=s(e,2),o=l[0],i=l[1];a||(i(t)||(r=!1,null===n?n=o:a=!0))}),a||(r?(g.push(e),v.forEach(function(t,n){h[n].push(e)})):h[n].push(e))},I=a[Symbol.iterator]();!(O=(k=I.next()).done);O=!0)P()}catch(e){w=!0,E=e}finally{try{O||null==I.return||I.return()}finally{if(w)throw E}}var A={};v.forEach(function(t,n){var r=t.field,a=t.relField,l=t.type;A[n]="Fulltext"===l?null:j(e,r,a,c,y[r],h[n],i)});var N={};return Object.entries(h).forEach(function(e){var t=s(e,2),n=t[0],r=t[1];N[n]=r.length}),{filteredIds:g,filteredAmountOthers:N,amounts:A}},o.emptyO,{debug:"computeFiltering"});t.computeFiltering=b;var h=(0,l.memoize)(function(e,t,n,r){var a={},l=e.entities,o=t.map(function(e){return l[e].values}),i=!0,u=!1,c=void 0;try{for(var s,f=n[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value,m=r[d].multiple,p=new Set,y=!0,v=!1,b=void 0;try{for(var h,g=o[Symbol.iterator]();!(y=(h=g.next()).done);y=!0){var O=h.value[d];if(null!=O)if(m){var w=!0,E=!1,S=void 0;try{for(var _,j=O[Symbol.iterator]();!(w=(_=j.next()).done);w=!0){var k=_.value;p.add(k)}}catch(e){E=!0,S=e}finally{try{w||null==j.return||j.return()}finally{if(E)throw S}}}else p.add(O)}}catch(e){v=!0,b=e}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}a[d]=Array.from(new Set(p))}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}return a},o.emptyO,{debug:"gatherIds"}),g=(0,l.memoize)(function(e,t,n){var r={},a=e.entities,l=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){for(var s=u.value,f=n[s].multiple,d=new Set,m=Object.values(a),p=0;p<m.length;p++){var y=m[p].values[s];if(null!=y)if(f){var v=!0,b=!1,h=void 0;try{for(var g,O=y[Symbol.iterator]();!(v=(g=O.next()).done);v=!0){var w=g.value;d.add(w)}}catch(e){b=!0,h=e}finally{try{v||null==O.return||O.return()}finally{if(b)throw h}}}else d.add(y)}r[s]=Array.from(new Set(d))}}catch(e){o=!0,i=e}finally{try{l||null==c.return||c.return()}finally{if(o)throw i}}return r},o.emptyO,{debug:"gatherAllIds"}),O=(0,l.memoize)(function(e,t,n,r,a){var l=t[r].valType;if(null==n)return o.emptyO;var u=c({},o.emptyS,"-none-");if("string"==typeof l)n.forEach(function(e){u[e]=e});else{var s=l.relTable;if(null==a)n.forEach(function(t){u[t]=(0,i.headEntity)(e,s,t)});else{var f=e[s].entities;Array.from(new Set(n.map(function(e){return f[e].values[a]}))).sort().forEach(function(e){u[e]=e})}}return u},o.emptyO,{debug:"gatherValues"});t.makeTag=function(e,t,n){return null==t?e:"".concat(e,"-").concat(t,"-").concat(n)};var w=(0,l.memoize)(function(e){return function(t,n,r){var a=t[n],l=(a=void 0===a?o.emptyO:a).entities,i=(l=void 0===l?o.emptyO:l)[r],u=(i=void 0===i?o.emptyO:i).values;return(u=void 0===u?o.emptyO:u)[e]}},o.emptyO),E=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=t.valType,u=t.multiple;if("string"==typeof l)n=u?r?function(e){return null==e?o.emptyS:e.join(" ")}:function(e){return null==e?o.emptyA:e}:r?function(e){return null==e?o.emptyS:e}:function(e){return null==e?o.emptyA:[e]};else{var c=l.relTable,s=a?w(a):i.headEntity;n=u?r?function(t){return null==t?o.emptyS:t.map(function(t){return s(e,c,t).join(" ")})}:function(t){return null==t?o.emptyA:null==a?t:s(e,c,t)}:r?function(t){return null==t?o.emptyS:s(e,c,t)}:function(t){return null==t?o.emptyA:null==a?[t]:[s(e,c,t)]}}return n},S=(0,l.memoize)(function(e,t,n,r,a){var l=E(e,r,!0),i=(a||o.emptyS).toLowerCase();return null==i||i===o.emptyS?function(){return!0}:function(e){var n=e.values[t],r=l(n);return null!=r&&-1!==r.toLowerCase().indexOf(i)}},o.emptyO,{debug:S}),_=(0,l.memoize)(function(e,t,n,r,a){var l=E(e,r,!1,n);return 0===(a||o.emptyO).size?function(){return!1}:function(e){var n=e.values[t],r=l(n);if(0===r.length)return a[o.emptyS];var i=!0,u=!1,c=void 0;try{for(var s,f=r[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var d=s.value;if(a[d])return!0}}catch(e){u=!0,c=e}finally{try{i||null==f.return||f.return()}finally{if(u)throw c}}return!1}},o.emptyO,{debug:_}),j=(0,l.memoize)(function(e,t,n,r,a,l,i){var u=r[t],c=E(e,u,!1,n),s={};if(s[o.emptyS]=0,n)for(var f=O(e,r,a,t,n),d=Object.keys(f),m=0;m<d.length;m++){var p=d[m];s[p]=0}else a.forEach(function(e){s[e]=0});var y=!0,v=!1,b=void 0;try{for(var h,g=l[Symbol.iterator]();!(y=(h=g.next()).done);y=!0){var w=c(i[h.value].values[t]);if(0===w.length)s[o.emptyS]+=1;else{var S=!0,_=!1,j=void 0;try{for(var k,P=w[Symbol.iterator]();!(S=(k=P.next()).done);S=!0){var I=k.value;s[I]+=1}}catch(e){_=!0,j=e}finally{try{S||null==P.return||P.return()}finally{if(_)throw j}}}}}catch(e){v=!0,b=e}finally{try{y||null==g.return||g.return()}finally{if(v)throw b}}return s},o.emptyO,{debug:"countFacets"});t.testAllChecks=function(e){var t=!0,n=!0;if(null==e)return{allTrue:t,allFalse:n};for(var r=Object.entries(e),a=0;a<r.length;a++)r[a][1]?n=!1:t=!1;return{allTrue:t,allFalse:n}}},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n(0),l=n(4),o=(r=n(292))&&r.__esModule?r:{default:r},i=n(88);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return s(r,(n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(f(r),"newWindowSize",{configurable:!0,enumerable:!0,writable:!0,value:(0,o.default)(function(){(0,f(r).props.dispatch)((0,i.changeWinDim)())},1e3)}),n))}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),n=t,(r=[{key:"render",value:function(){var e=this.props.children;return a.Children.only(e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.newWindowSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.newWindowSize)}}])&&c(n.prototype,r),l&&c(n,l),t}(),m=(0,l.connect)()(d);t.default=m},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sum=t.min=t.max=t.getUrlParts=t.jString=t.updateAuto=t.combineSelectors=t.makeReducer=t.injectProps=t.propsChanged=t.emptyF=t.emptySet=t.emptyO=t.emptyA=t.emptyS=void 0;var r=o(n(0)),a=n(385),l=o(n(25));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Object.freeze("");t.emptyS=c;var s=Object.freeze([]);t.emptyA=s;var f=Object.freeze({});t.emptyO=f;var d=Object.freeze(new Set);t.emptySet=d;var m=Object.freeze(function(){return null});t.emptyF=m;t.propsChanged=function(e,t,n,r){var a=!1;return null==n?t(e)&&(a=!0):r.some(function(t){return e[t]!==n[t]})&&t(e)&&(a=!0),a};t.injectProps=function(e,t){return function(n){var a=n.match,l=(a=void 0===a?f:a).params,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}({},function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["match"]),l,t);return r.default.createElement(e,o)}};t.makeReducer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return function(n,r){if(void 0===n)return t;var a=r.type,l=e[a];return l?l(n,r):n}};var p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))};t.combineSelectors=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.createSelector.apply(void 0,t.concat([p]))};t.updateAuto=function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return 0===n.length?(0,l.default)(t,r):1===n.length?(0,l.default)(t,u({},n[0],{$apply:function(e){var t=(0,l.default)(e||(a?s:f),r);return y(e)===y(t)?e:t}})):(0,l.default)(t,u({},n[0],{$apply:function(t){return e(t||f,n.slice(1),r,a)}}))};var y=function(e,t){return JSON.stringify(e,function(e,t){return null===t||"object"!==i(t)||Array.isArray(t)?t:Object.keys(t).sort().reduce(function(e,n){return e[n]=t[n],e},{})},t)};t.jString=y;t.getUrlParts=function(e){var t,n=e.replace(/\/$/,c);return(t=n.match(/^\/(.*)\/([^/]+)\/([^/]+)\/([^/]+)\/?$/))||(t=n.match(/^\/(.*)\/([^/]+)\/([^/]+)\/?$/)),t||(t=n.match(/^\/(.*)\/([^/]+)\/?$/)),t||(t=n.match(/^\/(.*)\/?$/)),{base:(t=t.slice(1))[0]||c,table:t[1]||c,controller:t[2]||c,eId:t[3]||c}};t.max=function(e){return e.reduce(function(e,t){return Math.max(e,t)},Number.NEGATIVE_INFINITY)};t.min=function(e){return e.reduce(function(e,t){return Math.min(e,t)},Number.POSITIVE_INFINITY)};t.sum=function(e){return e.reduce(function(e,t){return e+t},0)}},30:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handlEV=t.handlE=t.handle=void 0;var r=n(3),a=n(10),l=(0,a.memoize)(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(n){n&&n.preventDefault(),e(t.apply({},r))}},r.emptyO,{debug:"handle"});t.handle=l;var o=(0,a.memoize)(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(){e(t.apply({},r))}},r.emptyO);t.handlE=o;var i=(0,a.memoize)(function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return function(n){e(t.apply({},r.concat([n.target.value])))}},r.emptyO);t.handlEV=i},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeReset=t.makeChangeSaveVal=t.makeChangeSave=t.makeSubmitTime=t.makeSubmit=t.editControl=t.editClass=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(10),o=n(3),i=(r=n(7))&&r.__esModule?r:{default:r};t.editClass=function(e,t){return t?"invalid":e?"dirty":o.emptyS};t.editControl=function(e){return function(t){var n=t.active,r=t.dirty,l=t.invalid,o=t.submitting,u=t.error,c=t.handleSubmit,s=t.nextAlt;return a.default.createElement(a.Fragment,null,!e||r||o?null:a.default.createElement(i.default,{tip:"close the edit form",at:"right"},a.default.createElement("span",{className:"button medium fa fa-eye",onClick:s})),!r||l||o?null:e?a.default.createElement(i.default,{tip:"save your changes to this record",at:"right"},a.default.createElement("span",{className:"button medium edit-action fa fa-save",onClick:c})):a.default.createElement(i.default,{tip:"you have modified this record",at:"right"},a.default.createElement("span",{className:"warning-o fa fa-pencil"})),r&&l&&!o?a.default.createElement(i.default,{tip:"some fields contain invalid data",at:"right"},a.default.createElement("span",{className:"error-o fa fa-exclamation-circle"})):null,r||!l||o||e?null:a.default.createElement(i.default,{tip:"some fields contain invalid data",at:"right"},a.default.createElement("span",{className:"error-o fa fa-exclamation-circle"})),r||l||o||e?null:a.default.createElement(i.default,{tip:"you have visited this record",at:"right"},a.default.createElement("span",{className:"fa fa-".concat(n?"pencil":"check")})),o?a.default.createElement(i.default,{tip:"busy saving this record",at:"right"},a.default.createElement("span",{className:"special-o fa fa-spinner fa-spin"})):null," ",u&&e&&a.default.createElement("span",{className:"invalid diag"},u))}};var u=(0,l.memoize)(function(e,t,n,r){return!e||t||n?function(){return null}:r});t.makeSubmit=u;var c=(0,l.memoize)(function(e){return function(){return setTimeout(e,10)}});t.makeSubmitTime=c;var s=(0,l.memoize)(function(e,t){return function(n){e(n),t()}});t.makeChangeSave=s;var f=(0,l.memoize)(function(e,t,n){return function(){e(n),t()}});t.makeChangeSaveVal=f;var d=(0,l.memoize)(function(e,t){return"checkbox"==e?o.emptyO:{onKeyUp:function(e){27==e.keyCode&&(e.preventDefault(),t())}}});t.makeReset=d},36:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editMode=t.applyEditTemplate=t.applyTemplate=t.applyInsertTemplate=void 0;var r=b(n(0)),a=n(27),l=n(10),o=n(3),i=n(8),u=n(12),c=b(n(53)),s=b(n(102)),f=b(n(195)),d=b(n(194)),m=b(n(193)),p=b(n(192)),y=b(n(191)),v=b(n(190));function b(e){return e&&e.__esModule?e:{default:e}}function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w={contrib:d.default,assessment:m.default,criteriaEntry:p.default,review:y.default,reviewEntry:v.default},E=function(e,t,n){var r=w[e],a=(r=void 0===r?o.emptyO:r)[t],l=void 0===a?null:a;return null==n?l:l&&l[n]},S=function(e,t){return!e||t&&e.every(function(e){return!e})},_=function(e,t){return e._id==t("creator")||(t("editors")||o.emptyA).some(function(t){return t==e._id})},j=(0,l.memoize)(function(e){return function(t){var n=e[t],r=(n=void 0===n?o.emptyO:n).valType;return n.fragment.editable&&("object"!=O(r)||!r.fixed)}},o.emptyO),k=(0,l.memoize)(function(e,t){return function(n){var r=e[t],a=(r=void 0===r?o.emptyO:r).fieldSpecs,l=(a=void 0===a?o.emptyO:a)[n];return(l=void 0===l?o.emptyO:l).label}},o.emptyO),P=(0,l.memoize)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.emptyO,r=e[t],a=(r=void 0===r?o.emptyO:r).fieldSpecs;return function(e){var t=a[e],r=(t=void 0===t?o.emptyO:t).multiple,l=n[e];return S(l,r)}},o.emptyO),I=(0,l.memoize)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.emptyO,r=e[t],a=(r=void 0===r?o.emptyO:r).fieldSpecs;return function(e){var t=n[e],r=(t=void 0===t?o.emptyO:t).fragment,l=(r=void 0===r?o.emptyO:r).myValues,i=a[e],u=(i=void 0===i?o.emptyO:i).multiple;return S(l,u)}},o.emptyO),A=(0,l.memoize)(function(e,t,n){var r=e[t],a=(r=void 0===r?o.emptyO:r).entities[n],l=(a=void 0===a?o.emptyO:a).values,i=void 0===l?o.emptyO:l,u=r.fieldSpecs,c=void 0===u?o.emptyO:u;return function(t,n){var r=i[t];if(n){var a=c[t],l=(a=void 0===a?o.emptyO:a).valType,u="object"==O(l)&&l.relTable;if(u){var s=e[u],f=(s=void 0===s?o.emptyO:s).entities,d=(f=void 0===f?o.emptyO:f)[r],m=(d=void 0===d?o.emptyO:d).values;return(m=void 0===m?o.emptyO:m)[n]}return null}return r}},o.emptyO),N=(0,l.memoize)(function(e,t,n,r){var a=t[n],l=(a=void 0===a?o.emptyO:a).entities[r],u=(l=void 0===l?o.emptyO:l).values,c=void 0===u?o.emptyO:u,s=a.fieldSpecs,f=void 0===s?o.emptyO:s;return function(r,a,l,u){var s=c[r],d=f[r],m=(d=void 0===d?o.emptyO:d).valType,p=d.multiple;return(0,i.repr)(t,n,r,m,p,a,s,e,l,u)}},o.emptyO),T=(0,l.memoize)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.emptyO,a=arguments.length>4?arguments[4]:void 0,l=t[n].fieldSpecs;return"consolidated"===a?function(e,t){var n=r[e],a=l[e],i=(a=void 0===a?o.emptyO:a).multiple,u=null==t?" ":t;return i?n.join(u):n}:function(a,u,c,s){var f=r[a],d=l[a],m=(d=void 0===d?o.emptyO:d).valType,p=d.multiple;return(0,i.repr)(t,n,a,m,p,u,f,e,c,s)}},o.emptyO),M=(0,l.memoize)(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o.emptyO,a=t[n],l=(a=void 0===a?o.emptyO:a).fieldSpecs;return function(a,u,c,s){var f=r[a],d=(f=void 0===f?o.emptyO:f).fragment,m=(d=void 0===d?o.emptyO:d).myValues,p=l[a],y=(p=void 0===p?o.emptyO:p).valType,v=p.multiple;return(0,i.repr)(t,n,a,y,v,u,m,e,c,s)}},o.emptyO),F=(0,l.memoize)(function(e,t,n){return function(r){var a=e[t],l=(a=void 0===a?o.emptyO:a).entities,i=(l=void 0===l?o.emptyO:l)[n],u=(i=void 0===i?o.emptyO:i).workflow,c=(u=void 0===u?o.emptyO:u)[r];return void 0===c?o.emptyO:c}},o.emptyO),x=(0,l.memoize)(function(e,t,n,a){var l=t[n],i=(l=void 0===l?o.emptyO:l).entities[a],u=(i=void 0===i?o.emptyO:i).values,s=void 0===u?o.emptyO:u;return function(l,o){var i=s[l];return r.default.createElement(c.default,{settings:e,tables:t,table:n,eId:a,field:l,relField:o,myValues:i})}},o.emptyO),D=(0,l.memoize)(function(e,t,n,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.emptyO;return"consolidated"===(arguments.length>5?arguments[5]:void 0)?null:function(o,i){return r.default.createElement(c.default,{settings:e,tables:t,table:n,eId:a,field:o,relField:i,myValues:l[o]})}},o.emptyO),C=(0,l.memoize)(function(e,t,n,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.emptyO;return function(i,u){var s=l[i],f=(s=void 0===s?o.emptyO:s).fragment,d=(f=void 0===f?o.emptyO:f).myValues,m=void 0===d?o.emptyO:d;return r.default.createElement(c.default,{settings:e,tables:t,table:n,eId:a,field:i,relField:u,myValues:m})}},o.emptyO),R=(0,l.memoize)(function(e,t,n,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o.emptyO,i=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,f=arguments.length>7?arguments[7]:void 0;return function(d,m){var p=l[d].fragment,y=(p=void 0===p?o.emptyO:p).myValues,v=void 0===y?o.emptyO:y,b=g(p,["myValues"]);return i(d)?r.default.createElement(s.default,h({field:d,tables:t,table:n,eId:a},b,m,{submitValues:u,reset:f})):r.default.createElement(c.default,{settings:e,tables:t,table:n,eId:a,field:d,myValues:v})}},o.emptyO),L=(0,l.memoize)(function(e,t,n,l,o){return function(i,u,c){return l(i)?r.default.createElement(a.Field,{name:i,component:f.default,setValue:u,widget:c,tables:e,table:t,eId:n,submitValues:o}):null}},o.emptyO);t.applyInsertTemplate=function(e){var t=e.settings,n=e.me,r=e.tables,a=e.table,l=e.relTable,o=e.relId,i=e.nItems,c=e.onInsert,s=E(a,"insert",l);if(!s)return null;var f=(0,u.compileActive)(r,"typeContribution"),d=A(r,l,o);return s({at:f,v:d,w:F(r,l,o),s:N(t,r,l,o),f:x(t,r,l,o),o:_(n,d),n:i,me:n,onInsert:c})};t.applyTemplate=function(e){var t=e.settings,n=e.me,r=e.tables,a=e.table,l=e.eId,o=e.kind,i=e.relTable,c=e.values,s=e.linkMe,f=E(a,o,i);if(!f)return null;var d=(0,u.compileActive)(r,"typeContribution"),m=k(r,a),p=P(r,a,c),y=A(r,a,l);return f({settings:t,tables:r,at:d,l:m,e:p,v:y,w:F(r,a,l),s:T(t,r,a,c,o),f:D(t,r,a,l,c,o),o:_(n,y),me:n,linkMe:s})};t.applyEditTemplate=function(e){var t=e.settings,n=e.me,r=e.tables,a=e.table,l=e.eId,o=e.kind,i=e.relTable,c=e.fieldFragments,s=e.editButton,f=e.submitValues,d=e.reset,m=E(a,o,i);if(!m)return null;var p={},y=!0,v=!1,b=void 0;try{for(var h,O=c[Symbol.iterator]();!(y=(h=O.next()).done);y=!0){var w=h.value,S=w.field,P=g(w,["field"]);p[S]=P}}catch(e){v=!0,b=e}finally{try{y||null==O.return||O.return()}finally{if(v)throw b}}p._id={multiple:!1,fragment:{editable:!1,myValues:l}};var N=j(p),T=(0,u.compileActive)(r,"typeContribution"),x=k(r,a),D=I(r,a,p),V=A(r,a,l);return m({settings:t,tables:r,at:T,l:x,e:D,v:V,w:F(r,a,l),s:M(t,r,a,p),f:C(t,r,a,l,p),fe:R(t,r,a,l,p,N,f,d),fs:L(r,a,l,N,f),m:N,o:_(n,V),me:n,editButton:s})};t.editMode=function(e){var t=e.me,n=e.tables,r=e.table,a=e.relTable;return function(e){var l=E(r,"editMode",a);return l?l({e:P(n,r,e),me:t}):0}}},391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(9),a=h(n(390)),l=n(27),o=h(n(16)),i=h(n(88)),u=h(n(45)),c=h(n(140)),s=h(n(139)),f=h(n(8)),d=h(n(20)),m=h(n(29)),p=h(n(15)),y=h(n(114)),v=h(n(113)),b=h(n(12));function h(e){return e&&e.__esModule?e:{default:e}}var g,O=(g=(0,r.combineReducers)({settings:o.default,win:i.default,server:u.default,notes:c.default,docs:s.default,tables:f.default,me:d.default,filters:m.default,alter:p.default,form:l.reducer,select:y.default,grid:v.default,workflow:b.default}),(0,r.createStore)(g,(0,r.applyMiddleware)(a.default)));t.default=O},396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(0)),a=n(4),l=i(n(391)),o=i(n(293));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.children;return r.default.createElement(a.Provider,{store:l.default},r.default.createElement(o.default,null,t))}},40:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeKeepInfo=t.getMasterTable=t.makeDetails=void 0;var r=n(3);t.makeDetails=function(e){var t=e.tables,n=e.table,a=e.eId,l=t[n],o=l.details;return(l.detailOrder||r.emptyA).map(function(e){var n=o[e],l=n.table,i=n.linkField,u=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["table","linkField"]),c=t[l];if(null==c)return null;var s=c.title,f=c.item,d=c.perm,m=c.entities,p=c.allIds,y=c.fieldSpecs[i].multiple?(p||r.emptyA).filter(function(e){return(m[e].values[i]||r.emptyA).includes(a)}):(p||r.emptyA).filter(function(e){return m[e].values[i]===a});return{name:e,detailItem:f,detailTitle:s,detailTable:l,linkField:i,detailListIds:y,detailPerm:d,detailSpecs:u}}).filter(function(e){return null!=e})};t.getMasterTable=function(e,t,n){if(null!=n){var a=e[t].fieldSpecs[n],l=(a=void 0===a?r.emptyO:a).valType;return(l=void 0===l?r.emptyO:l).relTable}};t.makeKeepInfo=function(e){var t={},n=!0,r=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var i=l.value,u=i.detailSpecs.cascade,c=i.detailTable,s=i.detailItem,f=i.detailListIds;!u&&f.length&&(t[c]="".concat(s[0],"(").concat(f.length,"x)"))}}catch(e){r=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return t}},415:function(e,t,n){"use strict";var r=c(n(0)),a=n(411),l=n(26),o=c(n(396)),i=c(n(288)),u=c(n(18));function c(e){return e&&e.__esModule?e:{default:e}}(0,a.render)(r.default.createElement(o.default,null,r.default.createElement(u.default,null,r.default.createElement(l.BrowserRouter,null,r.default.createElement(l.Route,{component:i.default})))),document.getElementById("body"))},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.accessData=void 0,n(384);var r,a=n(27),l=(r=n(25))&&r.__esModule?r:{default:r},o=n(3);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){u(e,t,n[t])})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t,n){return{type:"async",status:"error",path:e,desc:t,msgs:n}};t.accessData=function(e){return function(t,n){var r=e.path,l=e.contentType,o=e.desc,u=e.sendData;if(!(n().server[r]>0)){t(function(e,t){return{type:"async",status:"pending",path:e,desc:t}}(r,o));var s={credentials:"same-origin"};null!=u&&(s=i({},s,{method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}}));var f="".concat("/api/").concat(l).concat(r);return fetch(f,s).then(function(e){return e.ok?e.json():{good:!1,msgs:[{kind:"error",text:"No valid response from the server to ".concat(f)}]}}).then(function(n){var l=n.msgs,u=n.good,s=n.data;if(u?(t(function(e,t,n){return{type:"async",status:"success",path:e,desc:t,msgs:n}}(r,o,l)),t(i({},e,{data:s}))):t(c(r,o,l)),s&&s.diags&&Object.keys(s.diags).length>0)throw new a.SubmissionError(s.diags)}).catch(function(e){if(e instanceof a.SubmissionError)throw e;t(c(r,o,[{kind:"error",text:e.toString()}]))})}t(function(e,t){return{type:"async",status:"progress",path:e,desc:t}}(r,o))}};var s={progress:function(e,t){var n=t.path;return(0,l.default)(e,u({},n,{$apply:function(e){return e+1}}))},pending:function(e,t){var n=t.path;return(0,l.default)(e,u({},n,{$set:1}))},success:function(e,t){var n=t.path;return(0,l.default)(e,u({},n,{$set:0}))},error:function(e,t){var n=t.path;return(0,l.default)(e,u({},n,{$set:-1}))}},f={async:function(e,t){var n=t.status,r=t.path,a=s[n];return a?a(e,{path:r}):e}},d=(0,o.makeReducer)(f);t.default=d},49:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ExpandBody=t.ExpandHead=void 0;var r=u(n(0)),a=n(4),l=n(3),o=n(15),i=u(n(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return e||null},s=function(e,t,n){return e?r.default.createElement("span",{className:n},"".concat(" ").concat(e).concat(t?" ":l.emptyS)):null},f=(0,a.connect)(o.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,u=e.headActive,f=e.headLine,d=e.className,m=e.iconOpen,p=e.iconClose,y=e.titleOpen,v=e.titleClose,b=e.dispatch,h=l||0,g=(0,o.compileAlternatives)(n,2,h,b)(a),O=g.getAlt,w=g.nextAlt,E=O(t),S=m||"angle-down",_=p||"angle-up",j=y||"expand",k=v||"collapse";return r.default.createElement("div",{className:"vtop ".concat(d)},r.default.createElement(i.default,{tip:0===E?j:k,at:"top"},r.default.createElement("span",{className:"link vtop fa fa-".concat(0===E?S:_),onClick:w},s(u,f,"body"))),c(f))});t.ExpandHead=f;var d=(0,a.connect)(o.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,i=e.full,u=e.className,c=e.dispatch,s=l||0;return 0==(0,(0,o.compileAlternatives)(n,2,s,c)(a).getAlt)(t)?null:r.default.createElement("div",{className:u},i)});t.ExpandBody=d;var m=(0,a.connect)(o.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.alterTag,l=e.initAlt,u=e.headActive,f=e.headLine,d=e.full,m=e.className,p=e.iconOpen,y=e.iconClose,v=e.titleOpen,b=e.titleClose,h=e.dispatch,g=l||0,O=(0,o.compileAlternatives)(n,2,g,h)(a),w=O.getAlt,E=O.nextAlt,S=w(t),_=p||"angle-down",j=y||"angle-up",k=v||"expand",P=b||"collapse";return r.default.createElement("div",{className:m},r.default.createElement("span",{className:"vtop"}," ",r.default.createElement(i.default,{tip:0===S?k:P,at:"top"},r.default.createElement("span",{className:"link vtop fa fa-".concat(0===S?_:j),onClick:E},s(u,f,"body"))),c(f)),0==S?null:d)});t.default=m},53:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(4),a=n(3),l=n(12),o=n(76),i=n(16),u=n(20);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=(0,a.combineSelectors)(u.getMe,i.getSettings),f=(0,r.connect)(s)(function(e){var t=e.settings,n=e.me,r=e.tables,i=e.table,u=e.eId,s=e.field,f=e.relField,d=e.myValues,m=r[i].fieldSpecs[s],p=m.valType,y=m.multiple,v=("object"===c(p)?p:a.emptyO).inactive,b=void 0===v?null:v,h=b?(0,l.compileActive)(r,s):null;return(0,o.wrappedRepr)({settings:t,me:n,tables:r,table:i,eId:u,field:s,valType:p,multiple:y,relField:f,activeItems:h,inactive:b,values:d})});t.default=f},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalization=t.validation=t.trimDate=t.sortTimeInterval=t.sortStringTemplate=t.getDateTime=void 0;var r=n(138),a=n(3),l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NEGATIVE_INFINITY;if(null==e)return n;try{t=new Date(e)}catch(e){return null}return isNaN(t)?null:t.valueOf()};t.getDateTime=l;var o=new Intl.Collator("en",{sensitivity:"base"});t.sortStringTemplate=function(e){return function(t,n){return o.compare(e(t),e(n))}};t.sortTimeInterval=function(e,t){return function(n,r){var a=l(n[e],Number.NEGATIVE_INFINITY),o=l(n[t],Number.POSITIVE_INFINITY),i=l(r[e],Number.NEGATIVE_INFINITY),u=l(r[t],Number.POSITIVE_INFINITY);return a<i||a===i&&o>u?-1:a===i&&o===u?0:1}};var i=new Set(r.countryBorders.features.map(function(e){return e.properties.iso2}));t.trimDate=function(e,t,n,r){if(null==e)return a.emptyS;var l=r.longDates[t]&&r.longDates[t][n];if(1===l){var o;try{o=new Date(e)}catch(t){return e}l=(o-Date.now())/864e5>1}return l?e.replace(/T.*$/,a.emptyS):e.replace(/\.[0-9]+/,a.emptyS)};var u={datetime:function(e){if(null!=e){var t;try{t=new Date(e)}catch(e){return"not a valid date/time - ".concat(e)}return isNaN(t)?"not a valid date/time":void 0}},url:function(e){if(null!=e)return e.match(/^https?:\/\//)?void 0:"urls should start with http:// or https://"},email:function(e){if(null!=e)return e.match(/[^@a-zA-Z0-9_.-]/)?"email addresses may only contain alphanumeric characters, - _ and .":e.match(/@/)?e.match(/@.*@/)?"email addresses must contain exactly one @":e.match(/@[^.]+\.[^.]+.*$/)?void 0:"email addresses must end with a domain":"email addresses must contain one @"},number:function(e){if(null!=e)return isNaN(e)?"value must be a number":void 0},isoCountry:function(e){if(null!=e)return i.has(e)?void 0:"country code ".concat(e," is not on the European map")}};t.validation=u;var c={datetime:function(e){try{return new Date(e).toISOString()}catch(t){return e}},number:function(e){try{return Number(e)}catch(t){return e}},bool:function(e){try{return Boolean(e)}catch(t){return e}}};t.normalization=c},68:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),l=n(4),o=n(26),i=n(15),u=n(8),c=(r=n(7))&&r.__esModule?r:{default:r};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f=(0,l.connect)(i.getAltSection)((0,o.withRouter)(function(e){var t=e.alter,n=e.alterSection,r=e.table,l=e.listIds,o=e.item,i=e.button,f=e.nAlts,d=e.initial,m=e.openAll,p=e.expand,y=e.location.pathname,v=e.history,b=e.dispatch,h=l.length>0,g=s(o,2),O=g[0],w=g[1],E=1===l.length?O:w,S="".concat(l.length," ").concat(E," ");return a.default.createElement(a.Fragment,null,a.default.createElement("span",null,S),h&&m&&!p?a.default.createElement(c.default,{tip:"open all ".concat(E),at:"bottom"},a.default.createElement("div",{className:"fa fa-angle-double-down ".concat(i),onClick:(0,u.handleOpenAll)(t,n,f,d,r,l,b)})):null,h&&!p?a.default.createElement(c.default,{tip:"close all opened ".concat(E),at:"bottom"},a.default.createElement("div",{className:"fa fa-angle-double-up ".concat(i),onClick:(0,u.handleCloseAll)(t,n,f,d,l,y,v,b)})):null)}));t.default=f},69:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(0)),a=n(4),l=n(3),o=n(36),i=n(8),u=n(16),c=n(20),s=f(n(7));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,l.combineSelectors)(u.getSettings,c.getMe),m=(0,a.connect)(d)(function(e){var t=e.settings,n=e.me,a=e.tables,l=e.table,u=e.select,c=e.masterTable,f=e.masterId,d=e.perm,m=e.fixed,p=e.item,y=e.nItems,v=e.button,b=e.onInsert,h=p[0];return m||null==d||!d.insert||d.needMaster&&u!=i.DETAILS?null:(0,o.applyInsertTemplate)({settings:t,me:n,tables:a,table:l,relTable:c,relId:f,nItems:y,onInsert:b})||r.default.createElement(s.default,{tip:"make a new ".concat(h),at:"bottom"},r.default.createElement("span",{className:"fa fa-plus ".concat(v),onClick:b}))});t.default=m},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(16);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f={top:"bottom",bottom:"top",left:"right",right:"left"},d={top:["left","right"],bottom:["left","right"],left:["top","bottom"],right:["top","bottom"]},m={top:function(e,t){return{left:e.left+(e.width-t.width>>1),top:e.top-t.height}},bottom:function(e,t){return{left:e.left+(e.width-t.width>>1),top:e.top+e.height}},left:function(e,t){return{left:e.left-t.width,top:e.top+(e.height-t.height>>1)}},right:function(e,t){return{left:e.left+e.width,top:e.top+(e.height-t.height>>1)}}},p={top:function(e,t,n){return n.top<0},bottom:function(e,t,n){return n.top+t.height>e.height},left:function(e,t,n){return n.left<0},right:function(e,t,n){return n.left+t.width>e.width}},y={top:function(e,t,n){n.top=0},bottom:function(e,t,n){n.top=e.height-t.height},left:function(e,t,n){n.left=0},right:function(e,t,n){n.left=e.width-t.width}},v=function(e){return function(t,n,r,a){var l=m[e](n,r),o=e,i=l;a&&p[e](t,r,l)&&(o=f[e],i=m[o](n,r));var u=!0,c=!1,v=void 0;try{for(var b,h=d[o][Symbol.iterator]();!(u=(b=h.next()).done);u=!0){var g=b.value;p[g](t,r,i)&&y[g](t,r,i)}}catch(e){c=!0,v=e}finally{try{u||null==h.return||h.return()}finally{if(c)throw v}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}({at:o},i)}},b=function(e){function t(e){var n,a,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=(t.__proto__||Object.getPrototypeOf(t)).call(this,e),n=!l||"object"!==i(l)&&"function"!=typeof l?c(a):l,Object.defineProperty(c(n),"handlePositioning",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=c(n),t=e.props,r=t.at,a=void 0===r?"top":r,l=t.fixed,o=void 0!==l&&l,i=t.settings.showTooltips,u=e.target.current,s=e.tip.current,d=e.arrow.current;if(i&&!o){for(var m=document.documentElement,p=u.getBoundingClientRect(),y=s.getBoundingClientRect(),b=d.getBoundingClientRect(),h={width:m.clientWidth,height:m.clientHeight},g=v(a)(h,p,y,!0),O=g.at,w=v(O)(h,p,b,!1),E=Object.keys(f),S=0;S<E.length;S++){var _=E[S];d.classList.remove("toolarrow-".concat(_))}d.classList.add("toolarrow-".concat(O)),s.style.top=g.top+window.scrollY,s.style.left=g.left+window.scrollX,d.style.top=w.top+window.scrollY,d.style.left=w.left+window.scrollX}}}),n.target=(0,r.createRef)(),n.tip=(0,r.createRef)(),n.arrow=(0,r.createRef)(),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.settings.showTooltips,n=e.children,a=e.tip,o=e.at,i=e.focusOnly,u=e.className,c=void 0===u?l.emptyS:u,s=e.classTip,f=void 0===s?l.emptyS:s,d=e.classArrow,m=void 0===d?l.emptyS:d;return t?r.default.createElement(r.Fragment,null,r.default.createElement("span",{ref:this.target,className:"".concat(c," tooltipped focus ").concat(i?l.emptyS:"hover"),onMouseOver:this.handlePositioning,onFocus:this.handlePositioning},n),r.default.createElement("span",null,r.default.createElement("span",{ref:this.tip,className:"tooltip ".concat(f)},a),r.default.createElement("span",{ref:this.arrow,className:"toolarrow toolarrow-".concat(o," ").concat(m)}))):n}}])&&u(n.prototype,a),o&&u(n,o),t}(),h=(0,a.connect)(o.getSettings)(b);t.default=h},70:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(182),o=n(3),i=n(17),u=n(40),c=n(36),s=n(8),f=n(15),d=n(12),m=n(16),p=n(20),y=O(n(18)),v=O(n(181)),b=O(n(111)),h=O(n(69)),g=O(n(68));function O(e){return e&&e.__esModule?e:{default:e}}function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=0,k=2,P=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,l=new Array(a),i=0;i<a;i++)l[i]=arguments[i];return S(r,(n=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),Object.defineProperty(_(r),"handleInsert",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=_(r).props,t=e.table,n=e.select,a=e.masterId,l=e.linkField;(0,e.dispatch)((0,s.insertItem)(t,n,a,l)),r.gotoNew=!0}}),Object.defineProperty(_(r),"gotoItem",{configurable:!0,enumerable:!0,writable:!0,value:function(e){var t=_(r).props,n=t.table,a=t.alterSection,l=t.history,i=t.location.pathname,u=t.dispatch,c=(0,o.getUrlParts)(i),s=c.base,d=c.controller,m=c.eId,p="".concat(s,"/").concat(n,"/").concat(d);m!==e&&l.push("/".concat(p,"/").concat(e,"/")),(0,(0,f.compileAlternatives)(a,k,j,u)(e).putAlt)((j+1)%k),(0,(0,f.compileAlternatives)("edit-".concat(n,"-").concat(e),k,j,u)("edit").putAlt)((j+1)%k)}}),Object.defineProperty(_(r),"scroll",{configurable:!0,enumerable:!0,writable:!0,value:function(e){null!=e&&e.scrollIntoView()}}),Object.defineProperty(_(r),"showHide",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t,n,a,l){return function(){if(t!==s.DETAILS){var i=_(r).props,u=i.history,c=i.location.pathname,f=(0,o.getUrlParts)(c),d=f.base,m=f.controller,p=f.eId,y="".concat(d,"/").concat(e,"/").concat(m);a?p!==n&&u.push("/".concat(y,"/").concat(n,"/")):(p!==o.emptyS&&u.push("/".concat(y,"/")),l())}else l()}}}),n))}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.settings,a=t.me,l=t.alter,m=t.alterSection,p=t.filtered,O=t.filters,w=t.tables,E=t.table,S=t.select,_=t.masterId,P=t.linkField,I=t.fixed,A=t.listIds,N=t.expand,T=t.border,M=t.perm,F=t.dispatch,x=w[E],D=x.item,C=x.entities,R=(0,f.compileAlternatives)(m,k,j,F),L=(0,d.compileActive)(w,E),V=(0,u.getMasterTable)(w,E,P),z=null==V?0:(0,c.editMode)({me:a,tables:w,table:E,relTable:V});return r.default.createElement("div",{className:"list-plain"},p&&S===s.DETAILS?null:r.default.createElement("div",null,r.default.createElement(h.default,{tables:w,table:E,perm:M,select:S,masterTable:V,masterId:_,nItems:A.length,fixed:I,item:D,button:"button medium",onInsert:this.handleInsert}),r.default.createElement(g.default,{table:E,listIds:A,item:D,button:"button medium",alterSection:m,nAlts:k,initial:j,openAll:S==s.DETAILS,expand:N})),A.map(function(t){var u=C[t],f=u.fields,d=u.perm,m=u.workflow,p=u.values,h=(0,s.headEntity)(w,E,t,n),g="".concat(E,"-").concat(t),k=!(0,s.needValues)(C,t),A=R(t),M=A.getAlt,F=A.nextAlt,x=M(l)!==j,D=x?{ref:e.scroll}:o.emptyO,V=k&&(0,i.someEditable)(f,d,m),W=null!=L&&L.has(t),U=0===z?z:z(p),$=(0,c.applyTemplate)({settings:n,me:a,tables:w,table:E,eId:t,kind:"head",values:p});return r.default.createElement("div",{key:t,className:W?"isactive":o.emptyS},x?r.default.createElement("div",D,N?null:r.default.createElement("span",{className:"link head",onClick:e.showHide(E,S,t,!1,F)},r.default.createElement("span",{className:"button small fa fa-angle-up"})),r.default.createElement(y.default,null,r.default.createElement(v.default,{filters:O,tables:w,table:E,eId:t,masterId:_,linkField:P,isactive:W,startMode:U,fixed:I,inhibitFetch:N,border:T}))):r.default.createElement("span",{className:"item-head"},V?r.default.createElement(b.default,{form:g,active:x}):r.default.createElement("span",{className:"fa"}),r.default.createElement("span",{className:"link head",onClick:e.showHide(E,S,t,!0,F)},r.default.createElement("span",{className:"button small fa fa-angle-down"})," ".concat($||o.emptyS," ").concat(h))))}))}},{key:"gotoNewItem",value:function(){var e=this.props,t=e.tables,n=e.table,r=e.navItem;if(this.gotoNew){var a=t[n];if(null==a)return;var l=a.lastInserted;null!=l&&(this.gotoNew=!1,this.gotoItem(l))}else null!=r&&this.gotoItem(r)}},{key:"openAll",value:function(){var e=this.props,t=e.alter,n=e.alterSection,r=e.table,a=e.listIds,l=e.expand,o=e.dispatch;l&&(0,s.handleOpenAll)(t,n,k,j,r,a,o)()}},{key:"componentDidMount",value:function(){this.openAll(),this.gotoNewItem()}},{key:"componentDidUpdate",value:function(){this.openAll(),this.gotoNewItem()}}])&&E(n.prototype,a),l&&E(n,l),t}(),I=(0,o.combineSelectors)(m.getSettings,p.getMe,f.getAltSection),A=(0,a.connect)(I)((0,l.withRouter)(P));t.default=A},76:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.composeAttributes=t.wrappedRepr=t.getValType=void 0;var r=f(n(0)),a=f(n(52)),l=n(10),o=n(3),i=n(36),u=n(8),c=f(n(189)),s=f(n(188));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){p(e,t,n[t])})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v={bool:{component:c.default,type:"checkbox",props:o.emptyO},number:{component:c.default,type:"text",props:o.emptyO},text:{component:c.default,type:"text",props:o.emptyO},datetime:{component:c.default,type:"text",props:o.emptyO},email:{component:c.default,type:"text",props:o.emptyO},url:{component:c.default,type:"text",props:o.emptyO},textarea:{component:s.default,type:"text",props:{alterSection:"markdownfield"}}},b=v.text;t.getValType=function(e){var t=v[e];return void 0===t?b:t};var h=(0,l.memoize)(function(e){var t=e.settings,n=e.me,r=e.tables,a=e.table,l=e.eId,u=e.valType,c=e.relField,s=e.activeItems,f=e.inactive;return function(e,d){if("textarea"===u)return[d,{source:d},"Markdown"];if("url"===u)return[d,{href:d,target:"_blank"},"a"];if("email"===u){var p=null==d||d.startsWith("mailto:")?d:"mailto:".concat(d);return[d,{href:p,target:"_blank"},"a"]}var v=[],b={},O="span";if("object"===y(u)){var E=u.relTable,S=r[E].entities[e],_="/data/".concat(E,"/list/").concat(e);if(null!=e){var j=(0,i.applyTemplate)({settings:t,me:n,tables:r,table:E,eId:e,kind:"related",relTable:a,values:S.values,linkMe:_});if(j)return[j]}if(null!=c){var k=r[E].fieldSpecs[c],P=k.valType,I=k.multiple,A=h({settings:t,me:n,tables:r,table:E,eId:l,valType:P,activeItems:s,inactive:f}),N=S.values[c],T=I?(N||o.emptyA).map(function(e,t){return A(e,d[t])}).filter(function(e){return null!=e}):A(N,d);return I?[(T||o.emptyA).map(function(e,t){return g(e,t)}),o.emptyO,"div"]:T}v.push("tag"),b.href=_,O="a"}var M=v.length?{className:v.join(" ")}:o.emptyO;if(null==s||null==f||s.has(e))return[d,m({},M,b),O];var F=f.disabled,x=f.attributes;return F&&v.push("disabled"),[d,m({},b,v.length?w(v,x):x),O]}},{0:1}),g=function(e,t){var n=d(e,3),l=n[0],i=n[1],u=n[2],c=l||o.emptyS;if(null==t&&null==i&&null==u)return c;var s=null==t?o.emptyO:{key:t},f=m({},i||o.emptyO,s);if("Markdown"==u)return r.default.createElement(a.default,f);var p=u||"span";return r.default.createElement(p,f,c)},O=(0,l.memoize)(function(e){var t=e.settings,n=e.me,a=e.tables,l=e.table,i=e.eId,c=e.field,s=e.valType,f=e.multiple,d=e.relField,m=e.activeItems,p=e.inactive,y=e.values,v=h({settings:t,me:n,tables:a,table:l,eId:i,valType:s,relField:d,activeItems:m,inactive:p}),b=(0,u.repr)(a,l,c,s,f,d,y,t),O=f?(y||o.emptyA).map(function(e,t){return v(e,b[t])}).filter(function(e){return null!=e}):v(y,b);return f?r.default.createElement("div",null,O.map(function(e,t){return g(e,t)})):g(O)},{0:1});t.wrappedRepr=O;var w=function(e,t){var n=e.join(" ");return null==t?{className:n}:m({},t,{className:"".concat(n," ").concat(t.className||o.emptyS)})},E=(0,l.memoize)(function(e,t){return function(n,r){var a=null!=e&&!e.has(n)&&t||o.emptyO,l=a.disabled,i=a.attributes,u=null==r?i:null==i?{className:r}:m({},i,{className:"".concat(r," ").concat(i.className||o.emptyS)});return l?w(["disabled"],u):u}},o.emptyO);t.composeAttributes=E},77:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(30),i=n(16),u=n(15),c=n(113),s=n(8),f=n(12),d=n(17),m=n(40),p=h(n(279)),y=h(n(69)),v=h(n(68)),b=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=(0,l.combineSelectors)(i.getSettings,c.getGrid,u.getAltSection),w=(0,a.connect)(O)(function(e){var t=e.alter,n=e.alterSection,a=e.filtered,i=e.settings,h=e.filters,O=e.tables,w=e.table,E=e.listIds,S=e.select,_=e.perm,j=e.masterId,k=e.linkField,P=e.fixed,I=e.grid,A=e.gridTag,N=e.dispatch,T=I[A],M=void 0===T?l.emptyA:T,F=O[w],x=F.fields,D=F.fieldOrder,C=F.fieldSpecs,R=F.item,L=F.detailOrder,V=F.entities,z=(0,d.dealWithProvenance)(i,x),W=D.filter(function(e){return z[e]}),U=W.length,$=null!=L?L.length:0,B="".concat(90/U,"%"),H=W.map(function(e){var t=C[e].grid;if(null==t)return{width:B,shrink:0,grow:1};var n=t.width,r=t.grow,a=t.shrink;return{width:null==n?B:n,shrink:null==a?0:a,grow:null==r?0:r}}).concat(new Array($).fill({width:B,shrink:0,grow:.3})).map(function(e){var t=e.width,n=e.grow,r=e.shrink;return{flex:"".concat(n," ").concat(r," ").concat(t),overflow:"auto"}}),Y=(0,c.compileSortedData)(O,w,E,M,i),K=(0,u.compileAlternatives)(n,2,0,N),G=(0,f.compileActive)(O,w),q=(0,m.getMasterTable)(O,w,k),Z=[],J=!0,X=!1,Q=void 0;try{for(var ee,te=Y[Symbol.iterator]();!(J=(ee=te.next()).done);J=!0){var ne=ee.value,re=V[ne],ae=re.values,le=re.perm,oe=re.workflow,ie=K(ne),ue=ie.getAlt,ce=ie.nextAlt,se=ue(t),fe=null!=G&&G.has(ne);Z.push(r.default.createElement(p.default,{key:"".concat(w,"-").concat(ne),alt:se,nextAlt:ce,filters:h,tables:O,table:w,eId:ne,masterId:j,linkField:k,isactive:fe,initialValues:ae,perm:le,workflow:oe,fields:z,widthStyles:H,fixed:P}))}}catch(e){X=!0,Q=e}finally{try{J||null==te.return||te.return()}finally{if(X)throw Q}}return r.default.createElement(r.Fragment,null,a&&S===s.DETAILS?null:r.default.createElement("div",null,r.default.createElement(y.default,{tables:O,table:w,perm:_,select:S,masterTable:q,masterId:j,nItems:E.length,fixed:P,item:R,button:"button medium",onInsert:(0,o.handle)(N,s.insertItem,w,S,j,k)}),r.default.createElement(v.default,{table:w,listIds:E,item:R,button:"button medium",alterSection:n,nAlts:2,initial:0,openAll:S==s.DETAILS})),0!==M.length?r.default.createElement("div",{className:"sortspecs"},"Sorted: ",M.map(function(e){var t=g(e,2),n=t[0],a=t[1];return r.default.createElement("span",{className:"sortcol",key:n},n,r.default.createElement("span",{className:"fa fa-arrow".concat(-1===a?"down":"up")}))}),r.default.createElement(b.default,{tip:"remove all sort options",at:"right"},r.default.createElement("span",{className:"fa fa-close button small",onClick:(0,o.handle)(N,c.resetSort,A)})," ")):null,r.default.createElement("div",{className:"grid"},r.default.createElement("div",{className:"grid-head"},r.default.createElement("div",{className:"grid-status-cell"}),W.filter(function(e){return e!==k}).map(function(e,t){var n=H[t],a=M.find(function(t){return t[0]===e}),l=a?a[1]:0;return r.default.createElement("div",{className:"grid-head-cell label-col-grid",key:e,style:n},l?r.default.createElement(b.default,{tip:"remove column from sort options",at:"top"},r.default.createElement("span",{className:"sorted button small",onClick:(0,o.handle)(N,c.delColumn,A,e)},e)):r.default.createElement(b.default,{tip:"sort on this column",at:"top"},r.default.createElement("span",{className:"unsorted button small",onClick:(0,o.handle)(N,c.addColumn,A,e,1)},e)),l?r.default.createElement(b.default,{tip:"change sort direction",at:"top"},r.default.createElement("span",{className:"sorted button small fa fa-arrow-".concat(1===l?"up":"down"),onClick:(0,o.handle)(N,c.turnColumn,A,e)})):null)}),(L||l.emptyA).map(function(e,t){var n=H[t];return r.default.createElement("div",{className:"grid-head-cell label-col-grid",key:e,style:n},e)})),Z))});t.default=w},8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleCloseAll=t.handleOpenAll=t.repr=t.repr1Head=t.headEntity=t.presentUser=t.listValues=t.needValues=t.needTables=t.needTable=t.isOwner=t.toDb=t.getTables=t.default=t.delItem=t.insertItem=t.modItem=t.fetchItems=t.fetchItem=t.fetchTables=t.fetchTable=t.MYIDS=t.ALLIDS=t.DETAILS=void 0;var r,a=(r=n(25))&&r.__esModule?r:{default:r},l=n(45),o=n(10),i=n(3),u=n(61),c=n(15);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}t.DETAILS="details";var p="allIds";t.ALLIDS=p;t.MYIDS="myIds";var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return(0,l.accessData)({type:"fetchTable",contentType:"db",path:"/".concat("myIds"===t?"my":i.emptyS).concat(n&&"myIds"===t?"assign":"list","?table=").concat(e,"&complete=").concat(r),desc:"".concat(e," table"),table:e})};t.fetchTable=y;t.fetchTables=function(e,t,n){t.forEach(function(t){var r=m(t,4),a=r[0],l=r[1],o=void 0===l?p:l,i=r[2],u=r[3],c=void 0===u||u;_(e,a,o,c)&&n(y(a,o,i,c))})};t.fetchItem=function(e,t,n){return(0,l.accessData)({type:"fetchItem",contentType:"db",path:"/view?table=".concat(e,"&id=").concat(t),desc:"".concat(e," record ").concat(n),table:e})};var v=function(e,t,n,r){return(0,l.accessData)({type:"fetchItems",contentType:"db",path:"/view?table=".concat(e),desc:"".concat(e," records ").concat(t.length),sendData:t,table:e,eIds:t,alterSection:n,alt:r})};t.fetchItems=v;var b=function(e,t,n,r){return(0,l.accessData)({type:"modItem",contentType:"db",path:"/mod?table=".concat(e,"&action=update"),desc:"".concat(e," update record ").concat(n),sendData:{_id:t,values:r},table:e})};t.modItem=b;t.insertItem=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,l.accessData)({type:"insertItem",contentType:"db",path:"/mod?table=".concat(e,"&action=insert"),desc:"".concat(e," insert new record"),sendData:{masterId:n,linkField:r},table:e,select:t})};t.delItem=function(e,t,n){return(0,l.accessData)({type:"delItem",contentType:"db",path:"/mod?table=".concat(e,"&action=delete"),desc:"".concat(e," delete record ").concat(n),sendData:{_id:t},table:e})};var h=function(e,t,n,r,a){var l={};return r.forEach(function(e){l[e]=a[e]}),(0,i.updateAuto)(e,[t,"entities",n,"values"],{$merge:l})},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.emptyA,n=e,r=!0,a=!1,l=void 0;try{for(var o,u=t[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var c=m(o.value,3),s=c[0],f=c[1],d=c[2];n=(0,i.updateAuto)(n,[s,"entities",f,"workflow"],{$set:d})}}catch(e){a=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(a)throw l}}return n},O={fetchTable:function(e,t){var n=t.data;if(null==n)return e;var r=e;return Object.entries(n).forEach(function(t){var n=m(t,2),l=n[0],o=n[1],u=e[l],c=(void 0===u?i.emptyO:u).entities,s=function(e,t){var n=t;return Object.entries(e).forEach(function(e){var t=m(e,2),r=t[0],l=t[1],o=n[r];if(null!=o&&null!=l.fields&&null==o.fields){var i=(0,a.default)(l.values,{$merge:o.values});n=(0,a.default)(n,d({},r,{fields:{$set:l.fields},values:{$merge:i}}))}}),(0,a.default)(e,{$merge:n})}(void 0===c?i.emptyO:c,o.entities),f=(0,a.default)(o,{entities:{$set:s}});r=(0,i.updateAuto)(r,[l],{$merge:f})}),r},fetchItem:function(e,t){var n=t.data,r=t.table;if(null==n)return e;var a=n.values._id;return(0,i.updateAuto)(e,[r,"entities",a],{$set:n})},fetchItems:function(e,t){var n=t.data,r=t.table;if(null==n||0==n.length)return e;var a=e,l=!0,o=!1,u=void 0;try{for(var c,s=n[Symbol.iterator]();!(l=(c=s.next()).done);l=!0){var f=c.value,d=f.values._id;a=(0,i.updateAuto)(a,[r,"entities",d],{$set:f})}}catch(e){o=!0,u=e}finally{try{l||null==s.return||s.return()}finally{if(o)throw u}}return a},modItem:function(e,t){var n=t.data,r=t.table;if(null==n)return e;var l=n.records,o=void 0===l?i.emptyA:l,u=n.workflow,c=e,s=!0,f=!1,p=void 0;try{for(var y,v=o[Symbol.iterator]();!(s=(y=v.next()).done);s=!0){var b=y.value;if(Array.isArray(b)){var O=m(b,2),w=O[0],E=O[1],S=E._id;c=(0,i.updateAuto)(c,[w],d({},S,{$set:E}))}else!function(){var e=b.values,t=b.values._id,n=b.newValues,l=b.workflow,o={};if(Object.entries(e).forEach(function(e){var t=m(e,2),n=t[0],r=t[1];o[n]={$set:r}}),c=(0,i.updateAuto)(c,[r,"entities",t,"values"],o),c=(0,i.updateAuto)(c,[r,"entities",t,"workflow"],{$set:l}),null!=n){var u=!0,s=!1,f=void 0;try{for(var p,y=n[Symbol.iterator]();!(u=(p=y.next()).done);u=!0){var v=p.value,g=v._id,O=v.rep,w=v.repName,E=v.relTable,S=v.field;c=(0,a.default)(c,d({},r,{valueLists:d({},S,{$push:[g]})})),c=h(c,E,g,["_id",w],d({_id:g},w,O))}}catch(e){s=!0,f=e}finally{try{u||null==y.return||y.return()}finally{if(s)throw f}}}}();c=g(c,u)}}catch(e){f=!0,p=e}finally{try{s||null==v.return||v.return()}finally{if(f)throw p}}return c},insertItem:function(e,t){var n=t.data,r=t.table,l=t.select;if(null==n)return e;var o=n.records,u=void 0===o?i.emptyA:o,c=n.workflow,s=e,m=!0,y=!1,v=void 0;try{for(var b,h=u[Symbol.iterator]();!(m=(b=h.next()).done);m=!0){var O=b.value,w=O.table,E=f(O,["table"]),S=E.values._id;null!=(s=(0,i.updateAuto)(s,[w,"entities",S],{$set:E}))[w].allIds&&(s=(0,i.updateAuto)(s,[w,p],{$push:[S]},!0)),"myIds"===l&&r===w&&(s=(0,i.updateAuto)(s,[r,"myIds"],{$push:[S]},!0)),s=(0,a.default)(s,d({},w,{lastInserted:{$set:S}}))}}catch(e){y=!0,v=e}finally{try{m||null==h.return||h.return()}finally{if(y)throw v}}return s=g(s,c)},delItem:function(e,t){var n=t.data;if(null==n)return e;var r=n.records,l=void 0===r?i.emptyA:r,o=n.workflow,u=e,c=!0,s=!1,f=void 0;try{for(var p,y=function(){for(var e=m(p.value,2),t=e[0],n=e[1],r=(u=(0,a.default)(u,d({},t,{entities:{$unset:[n]}})))[t],l=r.myIds,o=r.allIds,i=Object.entries({myIds:l,allIds:o}),c=0;c<i.length;c++){var s=m(i[c],2),f=s[0],y=s[1];if(null!=y){var v=y.filter(function(e){return e!==n});u=(0,a.default)(u,d({},t,d({},f,{$set:v})))}}},v=l[Symbol.iterator]();!(c=(p=v.next()).done);c=!0)y()}catch(e){s=!0,f=e}finally{try{c||null==v.return||v.return()}finally{if(s)throw f}}return u=g(u,o)}},w=(0,i.makeReducer)(O);t.default=w;t.getTables=function(e){return{tables:e.tables}};var E=(0,o.memoize)(function(e,t,n,r){return function(a){return r(b(e,t,n,a))}});t.toDb=E;t.isOwner=function(e,t,n,r){if(r._id){var a=e[t].entities[n],l=(a=void 0===a?i.emptyO:a).values,o=(l=void 0===l?i.emptyO:l).creator,u=l.editors;return r._id==o||(u||i.emptyA).some(function(e){return e==r._id})}return!1};var S=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e)return!1;var a=e[t];return null!=a&&(null!=a[n]&&(null==r||a[n]===r))},_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p,r=arguments.length>3?arguments[3]:void 0;if(!S(e,t,n))return!0;if(r&&!S(e,t,"complete",!0))return!0;var a=e[t].fieldSpecs;return!!Array.from(new Set(Object.entries(a).filter(function(e){return"object"===s(e[1].valType)&&null!=e[1].valType.relTable}).map(function(e){return e[1].valType.relTable}))).some(function(t){return!S(e,t,p)})};t.needTable=_;t.needTables=function(e,t){return t.some(function(t){var n=m(t,3),r=n[0],a=n[1],l=void 0===a?p:a,o=n[2];return _(e,r,l,void 0===o||o)})};t.needValues=function(e,t){return null==e||null==e[t]||null==e[t].fields||null==e[t].perm};var j=(0,o.memoize)(function(e){var t=e.tables,n=e.table,r=e.eId,a=e.field;return null==t?i.emptyA:null==t[n]?i.emptyA:null==t[n].entities[r]?i.emptyA:new Set(t[n].entities[r][a])},i.emptyO);t.listValues=j;var k=(0,o.memoize)(function(e,t){var n=e.user.entities[t];if(n){var r=n.values;return P(r)}return"UNKNOWN"},i.emptyO),P=function(e){var t=e.name,n=e.firstName,r=e.lastName,a=e.email,l=e.eppn,o=e.authority,u=e.org,c=u?" (".concat(u,")"):i.emptyS;if(t)return"".concat(t).concat(c);if(n||r)return"".concat(n||i.emptyS).concat(n&&r?" ":i.emptyS).concat(r||i.emptyS);if(a)return"".concat(a).concat(c);var s=o?" - ".concat(o):i.emptyS;return l?"".concat(l).concat(s).concat(c):"!unidentified user!"};t.presentUser=P;var I={user:k,country:(0,o.memoize)(function(e,t){var n=e.country.entities[t];if(n){var r=n.values,a=r.name,l=r.iso;return"".concat(l,": ").concat(a)}return"UNKNOWN"},i.emptyO),typeContribution:(0,o.memoize)(function(e,t){var n=e.typeContribution.entities[t];if(n){var r=n.values,a=r.mainType,l=r.subType,o=a&&l?" / ":i.emptyS;return"".concat(a).concat(o).concat(l)}return"UNKNOWN"},i.emptyO),score:(0,o.memoize)(function(e,t){var n,r=e.score.entities[t];if(r){var a=r.values,l=a.score,o=void 0===l?"N/A":l,u=a.level,c=void 0===u?"N/A":u,s=a.description,f=void 0===s?i.emptyS:s;n=o||c?"".concat(o," - ").concat(c):f}else n="UNKNOWN";return n},i.emptyO),default:function(e){return(0,o.memoize)(function(t,n,r){var a=t[e],l=a.title,o=void 0===l?"rep":l,i=a.entities[n],u=a.fieldSpecs;if(i){var c=i.values[o],s=u[o].valType;return N(t,e,o,s,c,r)}return"UNKNOWN"},i.emptyO)}},A=function(e,t,n,r){return(I[t]||I.default(t))(e,n,r)};t.headEntity=A;var N=function(e,t,n,r,a,l){if(null==a)return i.emptyS;if(null!=r&&"string"!=typeof r){var o=r.relTable;return null==o?i.emptyS:A(e,o,a)}switch(r){case"datetime":return(0,u.trimDate)(a,t,n,l);case"bool":return a?"Yes":"No";default:return a}};t.repr1Head=N;var T=function(e,t,n,r,a,l,o,u){var c=a?(l||i.emptyA).map(function(a){return N(e,t,n,r,a,o)}):N(e,t,n,r,l,o);return a&&null!=u?c.join(u):c},M=(0,o.memoize)(function(e,t,n,r,a,l,o,u,c,s){if(null==l)return T(e,t,n,r,a,o,u,c);var f=r.relTable;if(null==f)return i.emptyS;var d=e[f].fieldSpecs[l],m=d.multiple,p=d.valType,y=a?o.map(function(t){return e[f].entities[t].values[l]}):e[f].entities[o].values[l],v=a&&m&&null!=c&&null==s?" ":s,b=a?y.map(function(t){return T(e,f,l,p,m,t,u,v)}):T(e,f,l,p,m,y,u,s);return a&&null!=c?b.join(c):b},i.emptyO);t.repr=M;var F=(0,o.memoize)(function(e,t,n,r,a,l,o){var i=(0,c.compileAlternatives)(t,n,r,o),u=(r+1)%n;return function(){var n=[];l.forEach(function(t){(0,i(t).getAlt)(e)!==u&&n.push(t)}),n.length&&o(v(a,n,t,u))}},i.emptyO);t.handleOpenAll=F;t.handleCloseAll=function(e,t,n,r,a,l,o,u){var s=(0,c.compileAlternatives)(t,n,r,u),f=(0,i.getUrlParts)(l),d=f.base,m=f.table,p=f.controller,y="".concat(d,"/").concat(m,"/").concat(p);return function(){o.push("/".concat(y,"/"));var n=[];a.forEach(function(t){(0,s(t).getAlt)(e)!==r&&n.push(t)}),n.length&&u((0,c.setItems)(n,t,r))}}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWinDim=t.default=t.changeWinDim=void 0;var r=n(3);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.changeWinDim=function(){return function(e){e(a({type:"windim"},i()))}};var o={windim:function(e,t){return a({},e,{height:t.height,width:t.width})}},i=function(){var e=window;return{height:e.innerHeight,width:e.innerWidth}},u=(0,r.makeReducer)(o,i());t.default=u;t.getWinDim=function(e){return{win:e.win}}},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r};t.default=function(e){var t=e.splat;return a.default.createElement("h1",null,"404: ",a.default.createElement("code",null,t)," not found on this site.")}},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=f(n(0)),a=n(4),l=n(3),o=n(29),i=n(15),u=f(n(178)),c=f(n(177)),s=f(n(97));function f(e){return e&&e.__esModule?e:{default:e}}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,a=!1,l=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw l}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var p=(0,a.connect)(i.getAltSection)(function(e){var t=e.alter,n=e.alterSection,a=e.tables,f=e.table,p=e.filterTag,y=e.filterSetting,v=e.filterId,b=e.filterField,h=e.filterRelField,g=e.filterLabel,O=e.listIds,w=e.filteredAmount,E=e.filteredAmountOthers,S=e.amounts,_=e.maxCols,j=e.expanded,k=e.compact,P=e.dispatch,I=(0,o.compileValues)(a,f,p,O,b,h);if(null==Object.keys(I).length)return r.default.createElement("div",{className:"facet"},r.default.createElement("p",null," -no facets "));var A=j?0:1,N=(0,i.compileAlternatives)(n,2,A,P)("expand"),T=N.getAlt,M=N.nextAlt,F=T(t),x=k?l.emptyO:{style:{flexBasis:"".concat(94/_,"%")}},D=k?"right":"down",C=k?"left":"up";return r.default.createElement("div",{className:"facetFilter ".concat(k?"compact":l.emptyS)},r.default.createElement("div",{className:"facetHead ".concat(k?"compact":l.emptyS)},r.default.createElement(c.default,{table:f,filterId:v,filterSetting:y,filterTag:p})," ",g," ",k?null:r.default.createElement(s.default,{subTotal:w,total:E,className:"facet-stat-all"})," ",r.default.createElement("span",{className:"button small fa fa-angle-".concat(0===F?C:D),onClick:M})),0===F?r.default.createElement("div",{className:"facet-container ".concat(k?"compact":l.emptyS)},Object.entries(I).map(function(e){var t=m(e,2),n=t[0],a=t[1];return r.default.createElement("div",d({key:n,className:"facet-row ".concat(k?"compact":l.emptyS)},x),r.default.createElement(u.default,{className:"facet-value ".concat(k?"compact":l.emptyS),table:f,filterSetting:y,filterTag:p,filterId:v,valueId:n,valueRep:a}),k?null:r.default.createElement(s.default,{className:"facet-stat",subTotal:S[n]}))})):r.default.createElement("div",null))});t.default=p},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(0))&&r.__esModule?r:{default:r},l=n(3);t.default=function(e){var t=e.subTotal,n=e.total,r=e.className;return a.default.createElement("span",{className:r},null==t?l.emptyS:"".concat(t),null==n||null==t?l.emptyS:" of ",a.default.createElement("strong",null,null==n?l.emptyS:"".concat(n)))}},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(30),i=n(40),u=n(29),c=n(8),s=y(n(70)),f=y(n(77)),d=y(n(180)),m=y(n(68)),p=y(n(69));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var g=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));var r=e.tables,a=e.table,l=e.filterTag;return(0,e.dispatch)((0,u.initFiltering)(r,a,l)),n}var n,a,y;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n=t,(a=[{key:"componentDidUpdate",value:function(e){var t=e.tables,n=e.table,r=e.filterTag,a=e.filters[n],o=(a=void 0===a?l.emptyO:a)[r],i=e.dispatch,c=this.props,s=c.table,f=c.filterTag;s===n&&f===r||null!=o||i((0,u.initFiltering)(t,n,r))}},{key:"render",value:function(){var e=this.props,t=e.tables,n=e.filters,a=e.table,y=e.navItem,v=e.perm,b=e.select,h=e.masterId,g=e.linkField,O=e.expand,w=e.border,E=e.fixed,S=e.listIds,_=e.mode,j=e.compact,k=e.title,P=e.filterTag,I=e.gridTag,A=e.topLevel,N=e.dispatch,T=(0,u.computeFiltering)(t,n,a,P,S),M=T.filteredIds,F=T.filteredAmountOthers,x=T.amounts;if(null==M)return r.default.createElement("div",null);var D=j?"compact":A?"outer":l.emptyS,C=t[a].item,R=C[1],L="list-".concat(a,"-").concat(b),V=(0,i.getMasterTable)(t,a,g);return r.default.createElement("div",{className:"list-filter ".concat(D)},b===c.DETAILS?r.default.createElement("div",null,r.default.createElement(p.default,{tables:t,table:a,perm:v,select:b,masterTable:V,masterId:h,nItems:S.length,fixed:E,item:C,button:"button medium",onInsert:(0,o.handle)(N,c.insertItem,a,b,h,g)}),r.default.createElement(m.default,{table:a,listIds:S,item:C,button:"button medium",alterSection:L,nAlts:2,initial:0,openAll:!0,expand:O})):null,r.default.createElement("div",{className:"filters ".concat(D)},j?null:r.default.createElement("p",null,"Total ",r.default.createElement("span",{className:"good-o"},S.length)),r.default.createElement(d.default,{filters:n,tables:t,table:a,filterTag:P,listIds:S,filteredAmount:M.length,filteredAmountOthers:F,amounts:x,compact:j})),r.default.createElement("div",{className:"list ".concat(D)},"list"===_?r.default.createElement(s.default,{alterSection:L,filtered:!0,filters:n,tables:t,table:a,navItem:y,listIds:M,perm:v,select:b,title:k,masterId:h,linkField:g,expand:O,border:w,fixed:E}):"grid"===_?r.default.createElement(f.default,{alterSection:L,filtered:!0,filters:n,tables:t,table:a,navItem:y,listIds:M,perm:v,select:b,gridTag:I,masterId:h,linkField:g,fixed:E}):'unknown display mode "'.concat(_,'" for ').concat(R)))}}])&&b(n.prototype,a),y&&b(n,y),t}(),O=(0,a.connect)()(g);t.default=O},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(0)),a=n(4),l=n(3),o=n(30),i=n(17),u=n(40),c=n(8),s=n(15),f=n(16),d=h(n(187)),m=h(n(186)),p=h(n(184)),y=h(n(183)),v=h(n(174)),b=h(n(7));function h(e){return e&&e.__esModule?e:{default:e}}var g=(0,l.combineSelectors)(f.getSettings,s.getAltSection),O=(0,a.connect)(g)(function(e){var t=e.settings,n=e.alter,a=e.alterSection,f=e.filters,h=e.tables,g=e.table,O=e.eId,w=e.masterId,E=e.linkField,S=e.isactive,_=e.startMode,j=e.fixed,k=e.border,P=e.initialValues,I=e.fields,A=e.perm,N=e.workflow,T=e.dispatch,M=e.fieldFragments,F=e.detailFragments;null==M&&(M=(0,i.makeFields)(e)),null==F&&(F=(0,u.makeDetails)(e));var x=(0,u.makeKeepInfo)(F),D=(0,i.someEditable)(I,A,N),C=(0,s.compileAlternatives)(a,2,_,T)("edit"),R=C.getAlt,L=C.nextAlt,V=R(n),z=null==k?l.emptyS:D&&1===V?null==k.edit||k.edit?l.emptyS:"noBorder":null==k.read||k.read?l.emptyS:"noBorder",W=D&&1===V?"edit":l.emptyS,U=(0,c.headEntity)(h,g,O,t);return r.default.createElement("div",{className:"itemRecord ".concat(z," ").concat(W," ").concat(S?"isactive":l.emptyS)},D&&1===V?r.default.createElement(r.Fragment,null,r.default.createElement(v.default,{perm:A,workflow:N,keep:x,fixed:j,button:"button medium",onClick:(0,o.handle)(T,c.delItem,g,O,U)}),r.default.createElement(m.default,{settings:t,tables:h,table:g,eId:O,nextAlt:L,form:"".concat(g,"-").concat(O),initialValues:P,perm:A,masterId:w,linkField:E,fieldFragments:M})):r.default.createElement(r.Fragment,null,D?r.default.createElement(b.default,{tip:"open an edit form for this record",at:"right"},r.default.createElement("span",{className:"button medium fa fa-pencil",onClick:L})):null,r.default.createElement(v.default,{perm:A,workflow:N,keep:x,fixed:j,button:"button medium",onClick:(0,o.handle)(T,c.delItem,g,O,U)}),r.default.createElement(p.default,{settings:t,tables:h,table:g,eId:O,masterId:w,linkField:E,fieldFragments:M})),r.default.createElement(d.default,{settings:t,tables:h,table:g,eId:O,form:"".concat(g,"-").concat(O),initialValues:P,linkField:E,fieldFragments:M}),r.default.createElement(y.default,{alterSection:"list-".concat(g,"-").concat(c.DETAILS),detailFragments:F,filters:f,tables:h,table:g,eId:O}))});t.default=O}});