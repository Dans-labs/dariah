{"version":3,"sources":["main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Component","name","specs","page","this","variants","_stage","vr","st","stages","msg","container","state","data","related_values","ids_fetched","implementation","specific","g","Msg","prototype","need","stage","_deed","method","methodCall","bind","timing","getBefore","promises","forEach","task","prev_name","prev_stage","prev_component","getComponent","hasVariant","push","$","when","apply","then","ensure","once","by_id","_visibility","on","show","hide","_fetch","ids_to_fetch","fetch_url","url_tpl","replace","postFetch","_postFetch","undefined","join","ajax","type","url","contentType","dataType","json","clear","msgs","m","good","console","log","relvals","id","weld","_weld","_dst","getContainer","dest","destination","prepend","append","ids_asked_for","from_str","getState","_wire","wire","_work","work","./generic.js","./message.js","2","Control","component","widget","ctl","_html","html","showState","_dressup","click","preventDefault","setState","_isActive","addClass","find","removeClass","3","CType","Relative","Object","create","constructor","./relative.js","4","EUmap","_map_object","_map_container","_marker","_setvalues","_not_mapped","-","CY","KS","TR","MC","GE","_preHtml","_myDressup","that","cc","height","width","vectorMap","map","backgroundColor","regionsSelectable","markersSelectable","regionsSelectableOne","markersSelectableOne","markerStyle","initial","fill","fill-opacity","stroke","stroke-width","stroke-opacity","hover","cursor","selected","selectedHover","regionStyle","markers","series","values","scale","normalizeFunction","attribute","min","max","regions","outdariah","indariah","onRegionTipShow","el","related_value","_statistics","onMarkerTipShow","onRegionClick","_related_values_index","onMarkerClick","onRegionSelected","change_state","_type","a_to_str","_unmapped_selected","onMarkerSelected","zoom_p","css","zoom_control","setFocus","result","this_state","_from_str","empty","_mySetFacet","map_regions","_no_values","value","setSelectedRegions","setSelectedMarkers","_myStats","total","distilled","weighted_statistics","pr","Math","sqrt","setValues","_plainWeld","_myWeld","_related_values_off","_related_values_on","_related_values_list","latLng","sort","b","5","Facet","_stats","table","enabled_facets","h","children","facet_name","facet_component","_display","expand_control","mode","dt","closest","hidec","morec","showc","expanded_material","condensed_material","not_expanded_material","key","attr","mode_undef","localstorage_vars","isSet","get","all_facets","each","set","lc","info","detailcontrols","mother_list","facets","facet","d","v","the_false","discard","this_v","stats","6","Filter","_tags","_filter_control","_filter_control2","_box","_completions_dst","_stats_dst","_clear_filter_control","_wire_mode","_distilled","_setFilter","textf","val","autocomplete","_response","event","ui","content","_setClear","stat_prefix","label","cf","flt","flt2","appendTo","source","response","minLength","focus","7","deselectText","document","selection","window","getSelection","removeAllRanges","selectText","containerid","range","body","createTextRange","moveToElementText","getElementById","select","createRange","selectNode","addRange","toggleDetail","detail","extra","thedetail","toggle","thiscl","othercl","hasClass","compact","cutoff","size","text","x","substr","ob","ar","split","to_str","escapeHTML","chr","&","<",">","_Request","parameter","parameters","uri","params","query","location","search","indexOf","slice","p","request_vars","_localstorage","initNamespaceStorage","localStorage","8","Item","it","dest_row","types","tp","in_dariah","after","9","List","rowstart","rowend","row","open_ids","rid","_set_it","control","10","Page","./page.js","11","on_clear","_destination","_trash_control","_trash_control_para","_hide","_on_clear","_show","kind","message_text","12","ViewState","stages_prev","main_lists","getValues","contrib_list","contrib","empty_list","","_component_specs","share","Share","list","item","filter","eumap","ctype","tadiraha","TadirahA","tadiraho","TadirahO","tadiraht","TadirahT","_by_id","_before","_ignore","components","child_component","dest_name","parent_component","_resolveTiming","_setHeight","History","Adapter","subtract","wh","innerHeight","w","middle","left","right","addEdge","prev_node","next_node","timing_edges","timing_edges_inv","timing_nodes","next_stage","next_name","subset","visited","node","other_prev_node","keys","_tasks","_timing","cycle","nodes","addto","prev_nodes","task_comps","./components.js","./control.js","./ctype.js","./eumap.js","./facet.js","./filter.js","./item.js","./list.js","./share.js","./tadiraha.js","./tadiraho.js","./tadiraht.js","./viewstate.js","13","rtype","cols","shortsize","_list","_list2","_related_state","_all_values_control","_cols","_cutoff","_shortsize","type_sg","type_pl","raw_value","compact_value","last_handled","scrollTop","scrollIntoView","behavior","alignToTop","ison","_setFacet","all_selected","facet_cell","facet_cell2","related_data","has_related_value","related_state","14","slink","prompt","app_url_raw","app_url_cite","getVars","app_url_rawc","pvtitle","animate","opacity","mouseleave","15","16","17","18","_data","_getInitstate","_addHistory","_specs","country","default_value","flt_contrib","flt_country","flt_type","flt_tadiraha","flt_tadiraho","flt_tadiraht","rel_country_contrib","rel_type_contrib","rel_tadiraha_contrib","rel_tadiraho_contrib","rel_tadiraht_contrib","item_contrib","item_country","_showas","sg","pl","_validate","newval","spec","test","Number","limits","comprehensive","vars","valid_val","raw_val","title","view_url","tit","this_url","app_url","pushState"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/* COMPONENTS \n * The Page function specifies and builds a list of components\n * Every component on the page corresponds to a function (with a prototype)\n * This function is stored in a generic Component function in a field called specific.\n * Every component has a list of subcomponents. For example, the 'list' component has a subcomponent 'contrib'\n * for the list of contributions, and a subcomponent 'country' for the list of countries.\n * The generic functions of a component take care of:\n * - generating HTML container divs for the subcomponents under specified destination elements if they does not already exist\n * - showing and hiding the subcomponents, and in general, work the current state data to the subcomponents \n * - fetching the subcomponent's data from the server, if needed\n * This *specific* functionality of the components are defined in separate files.\n * Of this specific functionality, the following will be called from the generic component function:\n * - show(vr): inspect the current state and determine whether the subcomponent should be shown or hidden\n * - wire(vr): after the data has been fetched, wrap the data into the desired HTML content of the subcomponent\n *   and add the wiring (click events, change events)\n * In turn, the specific functions can access their associated generic components by this.component\n */\n\n/* GENERIC COMPONENT\n * Here is the generic functionality of each component\n */\n\nvar g = require('./generic.js');\nvar Msg = require('./message.js');\n\nfunction Component(name, specs, page) {\n    this.name = name;\n    this.page = page;\n    this.specs = specs;\n    this.variants = specs.variants;\n    this._stage = {};\n    for (var vr in this.variants) {\n        this._stage[vr] = {};\n        for (var st in this.page.stages) {\n            this._stage[vr][st] = true;\n        }\n    }\n    this.msg = {};\n    this.container = {};\n    this.state = this.page.state;\n    this.data = {};\n    this.related_values = {};\n    this.ids_fetched = {};\n    this.implementation = new specs.specific(this);\n};\n\nComponent.prototype = {\n    /* need, deed, ensure are wrappers around the promise mechanism.\n     * The stage is a stage in processing the component, such as fetch, wire, work.\n     * There should be a method method which does the work and which is expected to return a promise.\n     * If it does not, we detect it, and yield a promise that is resolved with the original return value.\n     * ensure takes care that the function of an action is promised to be execute once, by registering it\n     * as a promise for that stage.\n     * If there is already a fulfilled or pending promise for that action at that stage, no new promise will be made.\n     * Ensure returns a function with no arguments. If it is called, the promise will be made.\n     * So the result of ensure can be put inside the .then() of an other promise.\n     * Now is a function that calls a function and returns the result as promise.\n     */\n    need: function need(vr, stage) {\n        // check whether there is a promise and whether it has been fulfilled\n        return !this._stage[vr][stage].state || this._stage[vr][stage].state() == 'rejected';\n    },\n    _deed: function _deed(vr, stage, method) {\n        // register a promise to perform the method associated with stage by entering it in the book keeping of stages\n        /* we want to pass a method call to a .then() later on.\n         * If we pass it straight, like this.method, .then() will call this function and supplies its own promise object as the this.\n         * That is not our purpose: we want to call the method with the current component object as the this.\n         * Hence we use bind() in order to supply the right this.\n         * Whoever calls this new function methodCall, will perform a true method call of method method on object that.\n         * This is crucial, otherwise all the careful time logic gets mangled, because the promises are stored in the component object.\n         */\n        var methodCall = this[method].bind(this, vr);\n        var timing = this.page.getBefore(this.name, stage);\n        var promises = [];\n        timing.forEach(function (task) {\n            var prev_name = task[0];\n            var prev_stage = task[1];\n            var prev_component = this.page.getComponent(prev_name);\n            if (prev_component.hasVariant(vr)) {\n                promises.push(prev_component._stage[vr][prev_stage]);\n            }\n        }, this);\n        this._stage[vr][stage] = $.when.apply($, promises).then(methodCall);\n    },\n    ensure: function ensure(vr, stage, method) {\n        /* function to promise that method fun will be executed once and once only or multiple times,\n         * but only if the before actions have been completed\n         */\n        if (stage in this.page.stages) {\n            /* if the component works per id, the once setting of the stage is ignored\n             * because we have to look whether we should execute that stage for new identifiers\n             */\n            var once = this.page.stages[stage] && !this.specs.by_id;\n            if (!once || this.need(vr, stage)) {\n                this._deed(vr, stage, method);\n            }\n        }\n    },\n    /* here are the implementations of the functions that are to be wrapped as promises\n     * They can focus on the work, may or may not yield a promise\n     */\n    hasVariant: function hasVariant(vr) {\n        return vr in this.variants;\n    },\n    _visibility: function _visibility(vr, on) {\n        if (this.hasVariant(vr)) {\n            if (vr in this.container) {\n                if (on) {\n                    this.container[vr].show();\n                } else {\n                    this.container[vr].hide();\n                }\n            }\n        }\n    },\n    _fetch: function _fetch(vr, ids_to_fetch) {\n        // get the material by AJAX if needed\n        var fetch_url = url_tpl.replace(/_c_/, 'data').replace(/_f_/, this.specs.fetch_url + '_' + vr) + '.json';\n        this.msg[vr].msg('fetching data ...');\n        var postFetch = this._postFetch.bind(this, vr);\n        if (!(ids_to_fetch == undefined)) {\n            fetch_url += '?ids=' + ids_to_fetch.join(',');\n        }\n        return $.ajax({\n            type: 'POST',\n            url: fetch_url,\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json'\n        }).then(function (json) {\n            postFetch(json, ids_to_fetch);\n        });\n    },\n    _postFetch: function _postFetch(vr, json, ids_to_fetch) {\n        // receive material after AJAX call\n        this.msg[vr].clear();\n        json.msgs.forEach(function (m) {\n            this.msg[vr].msg(m);\n        }, this);\n        if (json.good) {\n            this.data[vr] = json.data;\n            if (this.specs.by_id) {\n                console.log(json.data);\n            }\n            if ('relvals' in json) {\n                this.related_values[vr] = json.relvals;\n            }\n            if (this.specs.by_id) {\n                ids_to_fetch.forEach(function (id) {\n                    this.ids_fetched[id] = true;\n                }, this);\n            }\n        }\n        this.implementation.weld(vr);\n    },\n    _weld: function _weld(vr) {\n        this._dst = this.page.getContainer(this.specs.dest, this.variants);\n        if (!this.specs.by_id) {\n            this.container[vr] = $('#' + this.name + '_' + vr);\n            if (this.container[vr].length == 0) {\n                var destination = this._dst[vr];\n                destination.append('<div id=\"msg_' + this.name + '_' + vr + '\"></div>');\n                destination.append('<div id=\"' + this.name + '_' + vr + '\" class=\"component\"></div>');\n                this.container[vr] = $('#' + this.name + '_' + vr);\n            }\n            this.msg[vr] = new Msg('msg_' + this.name + '_' + vr);\n        } else {\n            if (!(vr in this.msg)) {\n                var destination = this._dst[vr];\n                destination.prepend('<div id=\"msg_' + this.name + '_' + vr + '\"></div>');\n                this.msg[vr] = new Msg('msg_' + this.name + '_' + vr);\n            }\n        }\n        if (this.specs.fetch_url != null) {\n            var ids_to_fetch = [];\n            if (this.specs.by_id) {\n                var ids_asked_for = g.from_str(this.state.getState(this.specs.fetch_url + '_' + vr));\n                for (var id in ids_asked_for) {\n                    if (!(id in this.ids_fetched)) {\n                        ids_to_fetch.push(id);\n                    }\n                }\n                console.log('ids to fetch ' + this.name + ' - ' + vr, ids_to_fetch);\n                if (ids_to_fetch.length != 0) {\n                    return this._fetch(vr, ids_to_fetch);\n                }\n            } else {\n                return this._fetch(vr);\n            }\n        } else {\n            this.implementation.weld(vr);\n        }\n    },\n    _wire: function _wire(vr) {\n        this.implementation.wire(vr); // perform wire actions that are specific to this component\n    },\n    _work: function _work(vr) {\n        this._visibility(vr, true);\n        this.implementation.work(vr); // perform work actions that are specific to this component\n    },\n    weld: function weld(vr) {\n        if (this.hasVariant(vr) && this.implementation.show(vr)) {\n            this.ensure(vr, 'weld', '_weld');\n        }\n    },\n    wire: function wire(vr) {\n        if (this.hasVariant(vr) && this.implementation.show(vr)) {\n            this.ensure(vr, 'wire', '_wire');\n        }\n    },\n    work: function work(vr) {\n        // work (changed) state to current material\n        if (this.hasVariant(vr) && this.implementation.show(vr)) {\n            // show/hide depending on the specific condition\n            this.ensure(vr, 'work', '_work');\n        } else {\n            this._visibility(vr, false);\n        }\n    }\n};\n\nmodule.exports = Component;\n\n},{\"./generic.js\":7,\"./message.js\":11}],2:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: Control\n * This manages the controls that correspond to lists of records to be displayed in the middle column\n * Clicking on a control shows the corresponding list and hides all others.\n */\n\nfunction Control(component) {\n    this.component = component;\n    this.widget = {};\n    this.ctl = {};\n};\n\nControl.prototype = {\n    _html: function _html(vr) {\n        this.component.container[vr].html('<a class=\"control_title\" href=\"#\">' + this.component.state.showState('list', vr, 'sg') + '</a> ');\n    },\n    _dressup: function _dressup(vr) {\n        this.ctl[vr].click(function (e) {\n            e.preventDefault();\n            this.component.state.setState('list', vr);\n        }.bind(this));\n    },\n    _isActive: function _isActive(vr) {\n        return this.component.state.getState('list') == vr;\n    },\n    show: function show(vr) {\n        return true;\n    },\n    weld: function weld(vr) {\n        this._html(vr);\n        this.widget[vr] = this.component.container[vr];\n        this.widget[vr].addClass('control_big');\n        this.ctl[vr] = this.component.container[vr].find('a');\n    },\n    wire: function wire(vr) {\n        this._dressup(vr);\n    },\n    work: function work(vr) {\n        if (this._isActive(vr)) {\n            this.ctl[vr].addClass('ison');\n            this.widget[vr].addClass('ison');\n        } else {\n            this.ctl[vr].removeClass('ison');\n            this.widget[vr].removeClass('ison');\n        }\n    }\n};\n\nmodule.exports = Control;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: ctype\n * This manages the facet \"contribution type\"\n */\n\nvar Relative = require('./relative.js');\n\nfunction CType(component) {\n  Relative.call(this, component, 'type');\n};\n\nCType.prototype = Object.create(Relative.prototype);\nCType.prototype.constructor = CType;\n\nmodule.exports = CType;\n\n},{\"./relative.js\":13}],4:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: EUmap\n * This manages a clickable map of the EU countries\n * See http://jvectormap.com/documentation/javascript-api/jvm-map/\n */\n\nvar g = require('./generic.js');\nvar Relative = require('./relative.js');\n\nfunction EUmap(component) {\n    Relative.call(this, component, 'country');\n    this._map_object = {};\n    this._map_container = {};\n    this._marker = {};\n    this._setvalues = {};\n    this._not_mapped = {\n        '-': true,\n        CY: true,\n        KS: true,\n        TR: true,\n        MC: true,\n        GE: true\n    };\n};\n\nEUmap.prototype = Object.create(Relative.prototype);\nEUmap.prototype.constructor = EUmap;\nEUmap.prototype._preHtml = function (vr) {\n    return '<div id=\"map-europe_' + vr + '\" class=\"position\"><p class=\"zoom\"><a class=\"fa fa-arrows\" href=\"#\" title=\"zoom to fit all countries\"/></p></div>';\n};\nEUmap.prototype._myDressup = function (vr) {\n    var that = this;\n    var cc = this.component.container[vr];\n    this._map_container[vr] = cc.find('#map-europe_' + vr);\n    var height = this._map_container[vr].width() * 0.6;\n    this._map_container[vr].width('100%');\n    this._map_container[vr].height(height);\n    this._map_container[vr].vectorMap({\n        'map': 'europe_mill',\n        backgroundColor: '#ccccff',\n        regionsSelectable: true,\n        markersSelectable: true,\n        regionsSelectableOne: false,\n        markersSelectableOne: false,\n        markerStyle: {\n            initial: {\n                fill: '#008800',\n                'fill-opacity': 0.2,\n                stroke: 'none',\n                'stroke-width': 0,\n                'stroke-opacity': 0.2,\n                'r': 1\n            },\n            hover: {\n                cursor: 'pointer',\n                stroke: '#ffff44',\n                'stroke-width': 1,\n                'stroke-opacity': 1\n            },\n            selected: {\n                fill: '#008800',\n                'fill-opacity': 1\n            },\n            selectedHover: {}\n        },\n        regionStyle: {\n            initial: {\n                fill: '#bbbbbb',\n                'fill-opacity': 1,\n                stroke: 'none',\n                'stroke-width': 0,\n                'stroke-opacity': 1\n            },\n            hover: {\n                cursor: 'pointer',\n                stroke: '#ffff44',\n                'stroke-width': 3,\n                'stroke-opacity': 1\n            },\n            selected: {\n                fill: '#dd8844',\n                'fill-opacity': 1\n            },\n            selectedHover: {}\n        },\n        markers: this._marker[vr],\n        series: {\n            markers: [{\n                values: {},\n                scale: [0, 20],\n                normalizeFunction: 'linear',\n                attribute: 'r',\n                min: 0,\n                max: 100\n            }],\n            regions: [{\n                scale: {\n                    'outdariah': '#ffffff',\n                    'indariah': '#ffddbb'\n                },\n                attribute: 'fill',\n                values: this._setvalues[vr]\n            }]\n        },\n        onRegionTipShow: function (e, el, related_value) {\n            el.html(related_value + ': ' + (related_value in this._statistics[vr] ? this._statistics[vr][related_value] : 'not in DARIAH'));\n        }.bind(this),\n        onMarkerTipShow: function (e, el, related_value) {\n            el.html(related_value + ': ' + (related_value in this._statistics[vr] ? this._statistics[vr][related_value] : 'not in DARIAH'));\n        }.bind(this),\n        onRegionClick: function (e, related_value) {\n            if (!(related_value in this._related_values_index[vr])) {\n                e.preventDefault();\n            }\n        }.bind(this),\n        onMarkerClick: function (e, related_value) {\n            if (!(related_value in this._related_values_index[vr])) {\n                e.preventDefault();\n            }\n        }.bind(this),\n        onRegionSelected: function (e, related_value, i, selected) {\n            if (this.change_state) {\n                this.component.state.setState('rel_' + this._type + '_' + vr, g.a_to_str(selected) + this._unmapped_selected(vr));\n            }\n        }.bind(this),\n        onMarkerSelected: function (e, related_value, i, selected) {\n            if (this.change_state) {\n                this.component.state.setState('rel_' + this._type + '_' + vr, g.a_to_str(selected) + this._unmapped_selected(vr));\n            }\n        }.bind(this)\n    });\n    var zoom_p = cc.find('p.zoom');\n    zoom_p.css('top', height - 20 + 'px');\n    zoom_p.css('left', '10px');\n    var zoom_control = cc.find('p.zoom a');\n    zoom_control.click(function (e) {\n        e.preventDefault();\n        that._map_object[vr].setFocus({ regions: ['GB', 'GR'] });\n    });\n    this._map_object[vr] = this._map_container[vr].vectorMap('get', 'mapObject');\n    this._map_object[vr].setFocus({ regions: ['GB', 'GR'] });\n};\nEUmap.prototype._unmapped_selected = function (vr) {\n    var result = [];\n    var this_state = this._from_str(vr, this.component.state.getState('rel_' + this._type + '_' + vr));\n    var empty = true;\n    for (var related_value in this._not_mapped) {\n        if (related_value in this_state && this_state[related_value]) {\n            result.push(related_value);\n            empty = false;\n        }\n    }\n    return empty ? '' : ',' + result.join(',');\n};\nEUmap.prototype._mySetFacet = function (vr, related_values) {\n    this.change_state = false;\n    /* some countries are not on the map, we do show those countries in the list but not on the map.\n     * Same for -, the key that denotes ALL countries\n     */\n    var map_regions = {};\n    for (var related_value in related_values) {\n        if (!(related_value in this._not_mapped) && related_value != this._no_values.value) {\n            map_regions[related_value] = related_values[related_value];\n        }\n    }\n    this._map_object[vr].setSelectedRegions(map_regions);\n    this._map_object[vr].setSelectedMarkers(map_regions);\n    this.change_state = true;\n};\nEUmap.prototype._myStats = function (vr) {\n    var total = this.distilled[vr].length;\n    if (total == 0) {\n        total = 1;\n    }\n    var weighted_statistics = {};\n    for (var related_value in this._statistics[vr]) {\n        if (related_value != this._no_values.value) {\n            var pr = 100 * this._statistics[vr][related_value] / total;\n            weighted_statistics[related_value] = total < 10 ? pr : 10 * Math.sqrt(pr);\n        }\n    }\n    this._map_object[vr].series.markers[0].setValues(weighted_statistics);\n};\nEUmap.prototype._plainWeld = function (vr) {};\nEUmap.prototype._myWeld = function (vr) {\n    this._marker[vr] = {};\n    this._setvalues[vr] = {};\n    var related_values = this.component.related_values[vr];\n    for (var i in related_values) {\n        var related_value = related_values[i];\n        if (related_value[1]) {\n            this._related_values_off[vr][i] = false;\n            this._related_values_on[vr][i] = true;\n            this._related_values_list[vr].push(i);\n            this._related_values_index[vr][i] = related_value[0];\n            if (related_value.length > 3) {\n                this._marker[vr][i] = { latLng: [related_value[2], related_value[3]], name: related_value[0] };\n            }\n            this._setvalues[vr][i] = 'indariah';\n        } else {\n            this._setvalues[vr][i] = 'outdariah';\n        }\n    }\n    this._related_values_list[vr].sort(function (a, b) {\n        return related_values[a] < related_values[b] ? -1 : related_values[a][0] > related_values[b][0] ? 1 : 0;\n    });\n};\n\nmodule.exports = EUmap;\n\n},{\"./generic.js\":7,\"./relative.js\":13}],5:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: Facets\n * This sets up a list of facets for the lists of records to be displayed in the middle column\n * It will host individual facets\n */\n\nvar g = require('./generic.js');\n\nfunction Facet(component) {\n    this.component = component;\n    this._stats = {};\n    this.data = {};\n    this.table = {};\n    this.distilled = {};\n    this.enabled_facets = {};\n};\n\nFacet.prototype = {\n    _html: function _html(vr) {\n        var h = '';\n        h += '<p><span fct=\"all\"></span>Filtering <span id=\"fstats_' + vr + '\"></span></p>';\n        this.component.container[vr].html(h);\n    },\n    show: function show(vr) {\n        return this.component.state.getState('list') == vr;\n    },\n    weld: function weld(vr) {\n        var children = this.component.children;\n        this.enabled_facets[vr] = {};\n        for (var facet_name in children) {\n            var facet_component = children[facet_name];\n            if (facet_component.hasVariant(vr)) {\n                this.enabled_facets[vr][facet_name] = children[facet_name];\n            }\n        }\n        this._html(vr);\n    },\n    _display: function _display(expand_control, mode) {\n        var that = this;\n        var dt = expand_control.closest('p');\n        var hidec = dt.find('.hidec');\n        var morec = dt.find('.morec');\n        var showc = dt.find('.showc');\n        var expanded_material = expand_control.closest('div').find('table,.flt');\n        var condensed_material = expand_control.closest('div').find('.value_list2,.flt_compact');\n        var not_expanded_material = expand_control.closest('div').find('.flt_not_expanded');\n        var key = 'fctx_' + expand_control.closest('span').attr('fct');\n        var mode_undef = mode == undefined;\n        if (mode_undef) {\n            if (g.localstorage_vars.isSet(key)) {\n                mode = g.localstorage_vars.get(key);\n            } else {\n                mode = 1;\n            }\n        }\n        var all_facets = key == 'fctx_all';\n        if (all_facets && !mode_undef) {\n            expand_control.closest('div').find('div.component span[fct]').each(function () {\n                that._display($(this), mode);\n            });\n        }\n        g.localstorage_vars.set(key, mode);\n        if (mode == 0) {\n            hidec.show();\n            morec.hide();\n            showc.hide();\n            if (!all_facets) {\n                not_expanded_material.show();\n                expanded_material.hide();\n                condensed_material.hide();\n            }\n        } else if (mode == 1) {\n            hidec.hide();\n            morec.show();\n            showc.hide();\n            if (!all_facets) {\n                not_expanded_material.show();\n                expanded_material.hide();\n                condensed_material.show();\n            }\n        } else {\n            hidec.hide();\n            morec.hide();\n            showc.show();\n            if (!all_facets) {\n                not_expanded_material.hide();\n                expanded_material.show();\n                condensed_material.hide();\n            }\n        }\n    },\n    wire: function wire(vr) {\n        var that = this;\n        var cc = this.component.container[vr];\n        var lc = this.component.page.getComponent('list').container[vr];\n        this._stats[vr] = cc.find('#fstats_' + vr);\n        this.table[vr] = lc.find('#table_' + vr);\n        var info = ' details; click to change level of details';\n        var detailcontrols = '<a class=\"showc fa fa-fw fa-list-ul\" href=\"#\" title=\"full' + info + '\"></a><a class=\"morec fa fa-fw fa-align-left\" href=\"#\" title=\"condensed' + info + '\"></a><a class=\"hidec fa fa-fw fa-minus\" href=\"#\" title=\"hidden' + info + '\"></a>';\n        cc.addClass('facet');\n        cc.find('span[fct]').each(function () {\n            $(this).html(detailcontrols + '&nbsp');\n            that._display($(this));\n        });\n        cc.find('.hidec').click(function (e) {\n            e.preventDefault();\n            that._display($(this), 1);\n        });\n        cc.find('.morec').click(function (e) {\n            e.preventDefault();\n            that._display($(this), 2);\n        });\n        cc.find('.showc').click(function (e) {\n            e.preventDefault();\n            that._display($(this), 0);\n        });\n    },\n    work: function work(vr) {\n        this.table[vr].find('tr[id]').hide();\n        var mother_list = this.component.page.getComponent('list');\n        var data = mother_list.data[vr];\n        var facets = this.enabled_facets[vr];\n        this.distilled[vr] = [];\n        for (var facet_name in facets) {\n            var facet = facets[facet_name].implementation;\n            facet.distilled[vr] = [];\n        }\n        data.forEach(function (d, i) {\n            var v = true; // will hold whether this row passes all facets\n            /* We collect in the distilled member of this facet object the collective results of all individual facets,\n             * Moreover, for each facet, we collect in its distilled member the results when all facets are applied except the facet in question\n             * so: \n             * 1. rows with a failure for 2 or more facets are discarded\n             * 2. rows with a failure for exactly one facet are added to the data for that facet\n             * 3. rows which pass all facets are added to all facets, and also to the final filtered set\n             */\n            var the_false = null; // which facet has yielded false (if there are more than one we'll discard the row\n            var discard = false; // becomes true when we have encounterd 2 facets that yield false\n            for (var facet_name in facets) {\n                if (!discard) {\n                    var facet = facets[facet_name].implementation;\n                    var this_v = facet.v(vr, d[0]); // this_v: whether the row passes this facet\n                    if (!this_v) {\n                        v = false;\n                        if (the_false == null) {\n                            // this is the first failure, we store the facet number in the_false\n                            the_false = facet;\n                        } // else we discard the row altogether\n                        else {\n                                discard = true;\n                            }\n                    }\n                }\n            }\n            if (!discard) {\n                if (v) {\n                    this.distilled[vr].push(d[0]);\n                    this.table[vr].find('tr[id=\"r' + d[0] + '\"]').show();\n                }\n                if (the_false != null) {\n                    the_false.distilled[vr].push(d[0]);\n                } else {\n                    for (var facet_name in facets) {\n                        var facet = facets[facet_name].implementation;\n                        facet.distilled[vr].push(d[0]);\n                    }\n                }\n            }\n        }, this);\n        for (var facet_name in facets) {\n            var facet = facets[facet_name].implementation;\n            facet.stats(vr);\n        }\n        this._stats[vr].html(this.distilled[vr].length + ' of ' + data.length);\n    }\n};\n\nmodule.exports = Facet;\n\n},{\"./generic.js\":7}],6:[function(require,module,exports){\n\"use strict\";\n\n/* INDIVIDUAL COMPONENT: Filters\n * This is a list of filter controls corresponding to lists of records to be displayed in the middle column\n * Setting a filter control filters the associated list.\n */\n\nfunction Filter(component) {\n    this.component = component;\n    this._tags = {};\n    this._filter_control = {};\n    this._filter_control2 = {};\n    this._box = {};\n    this._completions_dst = {};\n    this._stats_dst = {};\n    this._clear_filter_control = {};\n    this._wire_mode = {};\n    this._distilled = {};\n    this.distilled = {};\n};\n\nFilter.prototype = {\n    _html: function _html(vr) {\n        var h = \"\\n<div>\\n    <p class=\\\"dctrl\\\"><span fct=\\\"\" + this.component.name + \"-\" + vr + \"\\\"></span> By full text search\\n        <a href=\\\"#\\\" title=\\\"modify full text filter\\\" id=\\\"flt2_\" + vr + \"\\\" class=\\\"flt_not_expanded facet_single ison flt_pat\\\"></a>\\n        <a href=\\\"#\\\" class=\\\"control_med fa fa-close filtc\\\" id=\\\"clearf_\" + vr + \"\\\"></a>\\n    </p>\\n    <div id=\\\"fltw_\" + vr + \"\\\">\\n        <p id=\\\"fbox_\" + vr + \"\\\" class=\\\"flt control_med fbox ui-widget\\\">\\n            <input id=\\\"flt_\" + vr + \"\\\" class=\\\"flt flt_pat\\\"/>\\n            <span fbox class=\\\"stats\\\" id=\\\"stats_\" + vr + \"\\\"></span>\\n        </p>\\n        <div id=\\\"autoc_\" + vr + \"\\\" style=\\\"display: none;\\\">here \" + vr + \"</div>\\n    </div>\\n</div>\";\n        this.component.container[vr].html(h);\n    },\n    _setFilter: function _setFilter(vr) {\n        var textf = this.component.state.getState(\"flt_\" + vr);\n        this._filter_control2[vr].html(textf);\n        this._filter_control[vr].val(textf);\n        this._filter_control[vr].autocomplete(\"search\", textf);\n    },\n    _response: function _response(vr) {\n        return function (event, ui) {\n            this._distilled[vr] = {};\n            ui.content.forEach(function (u, i) {\n                this._distilled[vr][u.value] = 1;\n            }, this);\n            if (!this._wire_mode[vr]) {\n                var textf = this._filter_control[vr].val();\n                this.component.state.setState(\"flt_\" + vr, textf);\n            }\n        }.bind(this);\n    },\n    _setClear: function _setClear(vr) {\n        this._clear_filter_control[vr].click(function (e) {\n            e.preventDefault();\n            this._filter_control[vr].val(\"\");\n            this._filter_control[vr].autocomplete(\"search\", \"\");\n        }.bind(this));\n    },\n    stats: function stats(vr) {\n        var stat_prefix;\n        if (this._filter_control[vr].val() == \"\") {\n            stat_prefix = \"\";\n            this._stats_dst[vr].removeClass(\"ison\");\n        } else {\n            stat_prefix = this.facet.distilled[vr].length + \" of \";\n            this._stats_dst[vr].addClass(\"ison\");\n        }\n        this._stats_dst[vr].html(\"\" + stat_prefix + this.distilled[vr].length);\n    },\n    v: function v(vr, i) {\n        return i in this._distilled[vr];\n    },\n    show: function show(vr) {\n        return this.component.state.getState(\"list\") == vr;\n    },\n    weld: function weld(vr) {\n        this._html(vr);\n    },\n    wire: function wire(vr) {\n        if (!this.facet) {\n            this.facet = this.component.page.getComponent(\"facet\").implementation;\n        }\n        var data = this.component.page.getComponent(\"list\").data[vr];\n        this._tags[vr] = [];\n        data.forEach(function (d, i) {\n            this._tags[vr].push({ label: d[1], value: \"\" + d[0] });\n        }, this);\n        this._distilled[vr] = {};\n        this.distilled[vr] = [];\n        var cc = this.component.container[vr];\n        var cf = cc.find(\"#fltw_\" + vr);\n        var flt = $(\"#flt_\" + vr);\n        this._filter_control[vr] = flt;\n        var flt2 = $(\"#flt2_\" + vr);\n        this._filter_control2[vr] = flt2;\n        this._box[vr] = cf.find(\"#fbox_\" + vr);\n        this._completions_dst[vr] = cf.find(\"#autoc_\" + vr);\n        this._stats_dst[vr] = cf.find(\"#stats_\" + vr);\n        this._clear_filter_control[vr] = cc.find(\"#clearf_\" + vr);\n        this._filter_control[vr].autocomplete({\n            appendTo: this._completions_dst[vr],\n            source: this._tags[vr],\n            response: this._response(vr),\n            minLength: 0\n        });\n        flt2.click(function (e) {\n            e.preventDefault();\n            $(this).closest(\"div\").find(\".morec\").click();\n            flt[0].focus();\n        });\n        this._wire_mode[vr] = true;\n        this._setClear(vr);\n        this._setFilter(vr);\n        this._wire_mode[vr] = false;\n    },\n    work: function work(vr) {\n        var textf = this.component.state.getState(\"flt_\" + vr);\n        if (textf == \"\") {\n            this._box[vr].removeClass(\"ison\");\n            this._clear_filter_control[vr].hide();\n        } else {\n            this._box[vr].addClass(\"ison\");\n            this._clear_filter_control[vr].show();\n        }\n        this._filter_control2[vr].html(textf);\n    }\n};\n\nmodule.exports = Filter;\n\n},{}],7:[function(require,module,exports){\n'use strict';\n\n/* GENERIC\n * Some function for very generic purposes\n */\n\nvar escapeHTML = function () {\n    'use strict';\n    var chr = {\n        '&': '&amp;', '<': '&lt;', '>': '&gt;'\n    };\n    return function (text) {\n        return text.replace(/[&<>]/g, function (a) {\n            return chr[a];\n        });\n    };\n}();\n\nvar _Request = {\n    parameter: function parameter(name) {\n        return this.parameters()[name];\n    },\n    parameters: function parameters(uri) {\n        var i, parameter, params, query, result;\n        result = {};\n        if (!uri) {\n            uri = window.location.search;\n        }\n        if (uri.indexOf(\"?\") === -1) {\n            return {};\n        }\n        query = uri.slice(1);\n        params = query.split(\"&\");\n        params.forEach(function (p, i) {\n            parameter = p.split(\"=\");\n            result[parameter[0]] = parameter[1];\n        });\n        return result;\n    }\n};\n\nvar request_vars = _Request.parameters();\nvar _localstorage = $.initNamespaceStorage('req');\nvar localstorage_vars = _localstorage.localStorage;\n\nfunction deselectText() {\n    if (document.selection) {\n        document.selection.empty();\n    } else if (window.getSelection) {\n        window.getSelection().removeAllRanges();\n    }\n};\n\nfunction selectText(containerid) {\n    deselectText();\n    if (document.selection) {\n        var range = document.body.createTextRange();\n        range.moveToElementText(document.getElementById(containerid));\n        range.select();\n    } else if (window.getSelection) {\n        var range = document.createRange();\n        range.selectNode(document.getElementById(containerid));\n        window.getSelection().addRange(range);\n    }\n};\n\nfunction toggleDetail(widget, detail, extra) {\n    var thedetail = detail == undefined ? widget.closest('div').find('.detail') : detail;\n    thedetail.toggle();\n    if (extra != undefined) {\n        extra(widget);\n    }\n    var thiscl, othercl;\n    if (widget.hasClass('fa-chevron-right')) {\n        thiscl = 'fa-chevron-right';\n        othercl = 'fa-chevron-down';\n    } else {\n        thiscl = 'fa-chevron-down';\n        othercl = 'fa-chevron-right';\n    }\n    widget.removeClass(thiscl);\n    widget.addClass(othercl);\n};\n\nfunction compact(cutoff, size, text) {\n    return text.length > cutoff ? text.replace(/[^ -]+/g, function (x) {\n        return x.substr(0, size);\n    }) : text;\n};\n\nfunction from_str(st) {\n    var ob = {};\n    if (st !== null && st != undefined && st != '') {\n        var ar = st.split(',');\n        ar.forEach(function (v) {\n            ob[v] = true;\n        });\n    }\n    return ob;\n};\nfunction a_to_str(ar) {\n    return ar.join(',');\n};\nfunction to_str(ob) {\n    var ar = [];\n    for (var x in ob) {\n        if (ob[x]) {\n            ar.push(x);\n        }\n    }\n    return ar.join(',');\n};\n\nmodule.exports.escapeHTML = escapeHTML;\nmodule.exports.request_vars = request_vars;\nmodule.exports.localstorage_vars = localstorage_vars;\nmodule.exports.selectText = selectText;\nmodule.exports.deselectText = deselectText;\nmodule.exports.toggleDetail = toggleDetail;\nmodule.exports.compact = compact;\nmodule.exports.from_str = from_str;\nmodule.exports.to_str = to_str;\nmodule.exports.a_to_str = a_to_str;\n\n},{}],8:[function(require,module,exports){\n\"use strict\";\n\n/* INDIVIDUAL COMPONENT: Item\n * This manages the actual records to be displayed inside the list in the middle column.\n * The subcomponents corresponds to the individual lists, such as country, countribution\n * There is an extra argument that specifies the ids of the items that should be displayed.\n * All functionality (except show) is delegated to specific functions\n */\n\nfunction Item(component) {\n    this.component = component;\n};\n\nItem.prototype = {\n    _html: function _html(vr, it) {\n        var destination = this.component._dst[vr];\n        var dest_row = destination.find(\"tr[id=\\\"r\" + it[0] + \"\\\"]\");\n        console.log(\"Finding \" + vr + \" row r\" + it[0] + \":\", dest_row);\n        var h = \"<tr iid=\\\"\" + it[0] + \"\\\">\";\n\n        if (vr == \"contrib\") {\n            var types = [];\n            it[5].forEach(function (tp) {\n                types.push(\"<a href=\\\"#\\\" tid=\\\"\" + tp[0] + \"\\\">\" + tp[1] + \"</a>\");\n            });\n            h += \"\\n<td>\\n<b>Contact person:</b> \" + it[2] + \"<br/>\\n<b>Country:</b> \" + it[3] + \" = \" + it[4] + \"<br/>\\n<b>Types:</b> \" + types.join(\", \") + \"</br>\\n</td>\\n\";\n        } else if (vr == \"country\") {\n            this.component.data[vr].forEach(function (r) {\n                in_dariah = r[3] == 1 ? \"dariah\" : \"\";\n                h += \"<tr id=\\\"r\" + r[0] + \"\\\"><td class=\\\"country_code\\\">\" + r[1] + \"<td><td class=\\\"country_name\\\">\" + r[2] + \"<td><td class=\\\"in_dariah\\\">\" + in_dariah + \"</td><td class=\\\"latlng\\\">\" + r[4] + \"</td><td class=\\\"latlng\\\">\" + r[5] + \"</td></tr>\";\n            });\n        } else if (vr == \"type\" || vr == \"tadiraha\" || vr == \"tadiraho\" || vr == \"tadiraht\") {\n            this.component.data[vr].forEach(function (r) {\n                h += \"<tr id=\\\"r\" + r[0] + \"\\\"><td class=\\\"value\\\">\" + r[1] + \"<td></tr>\";\n            });\n        }\n        h += \"</tr>\";\n        console.log(h);\n        dest_row.after(h);\n    },\n    show: function show(vr) {\n        return this.component.state.getState(\"list\") == vr;\n    },\n    weld: function weld(vr) {\n        this.component.data[vr].forEach(function (it) {\n            this._html(vr, it);\n        }, this);\n    },\n    wire: function wire(vr) {},\n    work: function work(vr) {}\n};\n\nmodule.exports = Item;\n\n},{}],9:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: List\n * This manages the actual lists of records to be displayed in the middle column.\n * The subcomponents corresponds to the individual lists, such as country, countribution\n * All functionality (except show) is delegated to specific functions\n */\n\nvar g = require('./generic.js');\nfunction List(component) {\n    this.component = component;\n};\n\nList.prototype = {\n    _html: function _html(vr) {\n        var h = '';\n        h += '<table id=\"table_' + vr + '\">';\n        this.component.data[vr].forEach(function (r) {\n            var rowstart = '<tr rid=\"' + r[0] + '\"><td><a class=\"showc fa fa-fw fa-list-ul\" href=\"#\" title=\"hide fields\"></a><a class=\"hidec fa fa-fw fa-minus\" href=\"#\" title=\"show fields\"></a></td>';\n            var rowend = '</tr>';\n            if (vr == 'contrib') {\n                h += rowstart + '<td><a href=\"#\" class=\"fa fa-fw fa-minus\"></a>' + r[1] + '</td>' + rowend;\n            } else if (vr == 'country') {\n                in_dariah = r[3] == 1 ? 'dariah' : '';\n                h += rowstart + '<td class=\"country_code\">' + r[1] + '<td><td class=\"country_name\">' + r[2] + '<td><td class=\"in_dariah\">' + in_dariah + '</td><td class=\"latlng\">' + r[4] + '</td><td class=\"latlng\">' + r[5] + '</td>' + rowend;\n            } else if (vr == 'type' || vr == 'tadiraha' || vr == 'tadiraho' || vr == 'tadiraht') {\n                h += rowstart + '<td class=\"value\">' + r[1] + '<td>' + rowend;\n            }\n        });\n        h += '</table>';\n        this.component.container[vr].html(h);\n    },\n    _display: function _display(row, vr, open_ids) {\n        var that = this;\n        var hidec = row.find('.hidec');\n        var showc = row.find('.showc');\n        var rid = row.attr('rid');\n        var detail = this.component.container[vr].find('tr[iid=\"' + rid + '\"]');\n        var mode = rid in open_ids && open_ids[rid];\n        if (mode) {\n            hidec.show();\n            showc.hide();\n            if (detail.length) {\n                detail.show();\n            }\n        } else {\n            hidec.hide();\n            showc.hide();\n            if (detail.length) {\n                detail.hide();\n            }\n        }\n    },\n    _set_it: function _set_it(control, vr, state) {\n        var open_ids = g.from_str(this.state.getState(key));\n        var rid = control.closest('tr').attr('rid');\n        open_ids[rid] = state;\n        this.state.setState(key, g.to_str(open_ids));\n    },\n    show: function show(vr) {\n        return this.component.state.getState('list') == vr;\n    },\n    weld: function weld(vr) {\n        this._html(vr);\n    },\n    wire: function wire(vr) {\n        var that = this;\n        var cc = this.component.container[vr];\n        var key = this.component.name + '_' + vr;\n        cc.find('.hidec').click(function (e) {\n            e.preventDefault();\n            that._set_it($(this), vr, true);\n        });\n        cc.find('.showc').click(function (e) {\n            e.preventDefault();\n            that._set_it($(this), vr, false);\n        });\n    },\n    work: function work(vr) {\n        var that = this;\n        var key = this.component.name + '_' + vr;\n        var cc = this.component.container[vr];\n        var open_ids = g.from_str(this.component.state.getState(this.component.name + '_' + vr));\n        cc.find('tr[rid]').each(function () {\n            that._display($(this), vr, open_ids);\n        });\n    }\n};\n\nmodule.exports = List;\n\n},{\"./generic.js\":7}],10:[function(require,module,exports){\n'use strict';\n\n/* START PROCESSING\n * The dynamic construction of the page starts here\n */\n\nvar Page = require('./page.js');\n\n$(function () {\n  new Page().work();\n});\n\n},{\"./page.js\":12}],11:[function(require,module,exports){\n\"use strict\";\n\n/* MESSAGES\n * Msg is a function that issues messages to a specified element.\n * It has also controls for clearing and hiding the messages.\n */\n\nfunction Msg(destination, on_clear) {\n    this._destination = $(\"#\" + destination);\n    this._trash_control = $(\"#trash_\" + destination);\n    this._trash_control_para = this._trash_control.closest(\"p\");\n    this._trash_control.click(function (e) {\n        e.preventDefault();\n        this.clear();\n    }.bind(this));\n    this._hide();\n    this._on_clear = on_clear;\n};\n\nMsg.prototype = {\n    _hide: function _hide() {\n        this._destination.hide();\n        this._trash_control_para.hide();\n    },\n    _show: function _show() {\n        this._destination.show();\n        if (this._destination.html() != \"\") {\n            this._trash_control_para.show();\n        }\n    },\n    clear: function clear() {\n        this._destination.html(\"\");\n        if (this._on_clear != undefined) {\n            this._on_clear();\n        }\n        this._hide();\n    },\n    msg: function msg(text, kind) {\n        if (kind == undefined) {\n            kind = \"info\";\n        }\n        var message_text = this._destination.html();\n        this._destination.html(message_text + \"<p class=\\\"\" + kind + \"\\\">\" + text + \"</p>\");\n        this._show();\n    }\n};\n\nmodule.exports = Msg;\n\n},{}],12:[function(require,module,exports){\n'use strict';\n\n/* TOP LEVEL: PAGE\n * This is the page function. \n * It creates a ViewState function, which contains the current state.\n * The state is created on the basis of request variables, and from then it\n * reflects the user actions.\n * The page specifies all components and initializes them.\n * A component is specfied by the following fields\n * - destination: left => left sidebar; right => right sidebar; middle => middle column\n * - name: a string that can be used to refer to the component later on, via method getComponent\n * - subcomponents: a list of names for which a subcomponent will be made. The html will be generated per subcomponent.\n * - fetch: boolean which says whether this component needs data from the server\n * - work first: boolean which says that child components can only be wired after work of the parent component.\n * - specific: an object that holds the specific functionality of this component.\n * The control component has work first = true, because only after choosing a list, the list control can fetch the specific list and wire itself.\n * All other components have work first = false, because it is desirable that child components start wiring as soon as possible.\n * For example: the facet component is parent of the individual facets.\n * When facet starts working, the individual controls should already be wired.\n * Because work first = false, wiring of the individual facets will be triggered after wiring of the generic facet component.\n * N.B. Individual facets can only be wired after the list component (their grandfather) has been wired.\n * This will go OK, because after wiring the list, the facet will be wired and then the individual facets.\n * The _routing dictionary specifies when the work methods of components should be triggered.\n * Its keys are the labels of components, and for every component a list of other component keys is given.\n * These are the components that will be applied (in that order) after the key component. \n * \n *  work from page: if true, this component's work method will be called directly by the page's work method;\n *   if false, the page will skip this component when working. It is assumed that this component will be applied by another component.\n *   This practice must be followed, if the application of state to a component should come after a fetch of another component.\n *   If the page would work the viewstate directly to this component, it would happen before the other's components data had been loaded.\n *   Example: a filter component F, that filters a big list fetched by another component L. L's work should call F's work.\n * After every user action, the state is changed, and a call to the Page's work() method is issued.\n * The page will issue the work call forth to all components.\n */\n\nvar g = require('./generic.js');\nvar ViewState = require('./viewstate.js');\nvar Msg = require('./message.js');\nvar Share = require('./share.js');\nvar CType = require('./ctype.js');\nvar TadirahO = require('./tadiraho.js');\nvar TadirahA = require('./tadiraha.js');\nvar TadirahT = require('./tadiraht.js');\nvar EUmap = require('./eumap.js');\nvar Filter = require('./filter.js');\nvar Facet = require('./facet.js');\nvar List = require('./list.js');\nvar Item = require('./item.js');\nvar Control = require('./control.js');\nvar Component = require('./components.js');\n\nfunction Page() {\n    // the one and only page object\n    this.name = 'page';\n    this.msg = new Msg('msg_' + this.name);\n    this.state = new ViewState(this);\n    this.stages = { weld: true, wire: true, work: false }; // true means: once only, false means: my be repeated\n    this.stages_prev = { wire: 'weld', work: 'wire' };\n    var main_lists = this.state.getValues('list');\n    var contrib_list = { contrib: 1 };\n    var empty_list = { '': 1 };\n    this._component_specs = {\n        share: { dest: 'body', variants: empty_list, fetch_url: null, specific: Share },\n        control: { dest: 'left', variants: main_lists, fetch_url: null, specific: Control },\n        list: { dest: 'middle', variants: main_lists, fetch_url: 'list', specific: List },\n        item: { dest: 'list', variants: main_lists, fetch_url: 'item', specific: Item },\n        facet: { dest: 'control', variants: main_lists, fetch_url: null, specific: Facet },\n        filter: { dest: 'facet', variants: main_lists, fetch_url: null, specific: Filter },\n        eumap: { dest: 'facet', variants: contrib_list, fetch_url: 'country', specific: EUmap },\n        ctype: { dest: 'facet', variants: contrib_list, fetch_url: 'type', specific: CType },\n        tadiraha: { dest: 'facet', variants: contrib_list, fetch_url: 'tadiraha', specific: TadirahA },\n        tadiraho: { dest: 'facet', variants: contrib_list, fetch_url: 'tadiraho', specific: TadirahO },\n        tadiraht: { dest: 'facet', variants: contrib_list, fetch_url: 'tadiraht', specific: TadirahT }\n    },\n    /* some components are being dealt with on the basis of additional identifiers, such as item\n     * Those components are specified below, and the specs of all components will get an extra attribute\n     * by_id, which is true if the component needs an id.\n     * The actual ids come from a request variable name_xxx, where name is the name of the component and xxx is the name of a list.\n     */\n    this._by_id = {\n        item: true\n    }, this._before = {\n        weld: {\n            item: { list: 1 },\n            facet: { control: 1, list: 1 },\n            filter: { facet: 1 },\n            eumap: { facet: 1, filter: 1 },\n            ctype: { facet: 1, eumap: 1 },\n            tadiraha: { facet: 1, ctype: 1 },\n            tadiraho: { facet: 1, tadiraha: 1 },\n            tadiraht: { facet: 1, tadiraho: 1 },\n            share: { facet: 1, list: 1 }\n        },\n        wire: {\n            item: { list: 1 },\n            facet: { filter: 1, eumap: 1, ctype: 1, tadiraha: 1, tadiraho: 1, tadiraht: 1 },\n            filter: { list: 1 },\n            eumap: { list: 1 },\n            ctype: { list: 1 },\n            tadiraha: { list: 1 },\n            tadiraho: { list: 1 },\n            tadiraht: { list: 1 }\n        },\n        work: {\n            facet: { filter: 1, eumap: 1, ctype: 1, tadiraha: 1, tadiraho: 1, tadiraht: 1 }\n        }\n    };\n    this._ignore = {\n        //tadiraht: 1,\n        //tadiraho: 1,\n        //eumap: 1,\n        //filter: 1,\n    }, this.components = {};\n    for (var name in this._component_specs) {\n        if (name in this._ignore) {\n            continue;\n        }\n        this._component_specs[name].by_id = name in this._by_id && this._by_id[name];\n        var component = new Component(name, this._component_specs[name], this);\n        component.children = {};\n        this.components[name] = component;\n    }\n    for (var name in this.components) {\n        var child_component = this.components[name];\n        var dest_name = this._component_specs[name].dest;\n        if (dest_name in this.components) {\n            var parent_component = this.components[dest_name];\n            parent_component.children[name] = child_component;\n        }\n    }\n    this._resolveTiming();\n    this._setHeight(80);\n    History.Adapter.bind(window, 'statechange', this.state.work());\n};\n\nPage.prototype = {\n    _setHeight: function _setHeight(subtract) {\n        // the heights of the sidebars are set, depending on the height of the window\n        var wh = window.innerHeight - subtract + 'px';\n        for (var w in { 'middle': 1, 'left': 1, 'right': 1 }) {\n            $('#' + w).css('height', wh);\n        }\n    },\n    _resolveTiming: function _resolveTiming() {\n        /* the time constraints must form a directed acyclic graph.\n         * If that is the case, we need a linear order in which we can make the promises\n         * This function will calculate that order (of course, several orders are possible)\n         * Algorithm:\n         *\n         * A: make a graph of all tasks, a task is the combination of a component with a stage.\n         *\n         * B: compute sets of nodes that have a longest predecessor path of fixed length n\n         *\n         * 1. determine all tasks without predecessors, this is S0                                                (max length of predecessor chain = 0)\n         * 2. determine all tasks with all predecessors in S0, this is S1                                             (max length of predecessor chain = 1)\n         * 3. determine all tasks with: all predecessors in S0 or S1, at least one predecessor in S1, this is S2  (max length of predecessor chain = 2)\n         * ...\n         * n+1. determine all tasks with: all predecessors in S0, S1, ..., Sn, at least ione predecessor in Sn\n         *\n         * C: \n         * Prove theorem 1: Sn = {all nodes with longest chain of predecessors has length n}.\n         * Prove theorem 2: all nodes outside union of all Sn: they are part of a cycle.\n         *\n         * D: \n         * The required order is: first the nodes of S0 (in any order), then those of S1, then those of S2, and so on.\n         */\n        var timing_nodes = [];\n        var timing_edges = {}; // keys are nodes that must come before other nodes\n        var timing_edges_inv = {}; // keys are nodes that must come after other nodes\n        // A: collect the nodes: pairs of component name and stage\n        for (var name in this.components) {\n            for (var stage in this.stages) {\n                timing_nodes.push(name + '-' + stage);\n            }\n        }\n        // collect the edges (we need to store every edge both ways)\n        function addEdge(prev_node, next_node) {\n            if (!(prev_node in timing_edges)) {\n                timing_edges[prev_node] = {};\n            }\n            if (!(next_node in timing_edges_inv)) {\n                timing_edges_inv[next_node] = {};\n            }\n            timing_edges[prev_node][next_node] = true;\n            timing_edges_inv[next_node][prev_node] = true;\n        }\n        // 1. per component, the stages are ordered\n        for (var next_stage in this.stages_prev) {\n            var prev_stage = this.stages_prev[next_stage];\n            for (var name in this.components) {\n                addEdge(name + '-' + prev_stage, name + '-' + next_stage);\n            }\n        }\n        // 2. add the specific constraints from this._before\n        for (var stage in this._before) {\n            for (var next_name in this._before[stage]) {\n                if (next_name in this._ignore) {\n                    continue;\n                }\n                for (var prev_name in this._before[stage][next_name]) {\n                    if (prev_name in this._ignore) {\n                        continue;\n                    }\n                    addEdge(prev_name + '-' + stage, next_name + '-' + stage);\n                }\n            }\n        }\n        // B: compute the Sn (in subset)\n        var n = 0;\n        var subset = [];\n        var visited = {}; // collect all nodes that end up in an Sn\n        while (n <= timing_nodes.length) {\n            subset.push({});\n            if (n == 0) {\n                // first round\n                timing_nodes.forEach(function (node) {\n                    // select all nodes without prev_nodes\n                    if (!(node in timing_edges_inv)) {\n                        subset[n][node] = 1; // and store them in subset[0]            \n                    }\n                });\n            } else {\n                    for (var prev_node in visited) {\n                        // start with prev_nodes in visited\n                        if (prev_node in timing_edges) {\n                            // and consider their next_nodes\n                            for (var next_node in timing_edges[prev_node]) {\n                                if (!(next_node in visited)) {\n                                    // but only if the next_node is not yet visited\n                                    var good = true;\n                                    for (var other_prev_node in timing_edges_inv[next_node]) {\n                                        // consider the other prev nodes of the next nodes\n                                        if (!(other_prev_node in visited)) {\n                                            // and require that they have been visited already\n                                            good = false;\n                                            break;\n                                        }\n                                    }\n                                    if (good) {\n                                        subset[n][next_node] = 1; // if all is well, we add next_node to subset[n]\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            if (!Object.keys(subset[n]).length) {\n                // if there are no new nodes, the next rounds will also not yield new nodes,\n                break; //  so we are done\n            }\n            for (var node in subset[n]) {\n                // after each round we add the saved next_nodes to the visited nodes\n                visited[node] = 1;\n            }\n            n++;\n        }\n        this._tasks = [];\n        this._timing = {};\n        if (Object.keys(visited).length != timing_nodes.length) {\n            var cycle = [];\n            timing_nodes.forEach(function (node) {\n                if (!(node in visited)) {\n                    cycle.push(node);\n                }\n            });\n            console.log('Circular timing constraints detected', cycle);\n        } else {\n            subset.forEach(function (nodes, n) {\n                for (var node in nodes) {\n                    this._tasks.push(node);\n                }\n            }, this);\n            this._timing = timing_edges_inv;\n            console.log('Timing resolved', this._tasks);\n        }\n    },\n\n    getComponent: function getComponent(name) {\n        return this.components[name];\n    },\n    getContainer: function getContainer(name, variants) {\n        var container = {};\n        if (name in this.components) {\n            container = this.components[name].container;\n        } else {\n            var addto = name == 'body' ? $('body') : $('#' + name);\n            for (var vr in variants) {\n                container[vr] = addto;\n            }\n        }\n        return container;\n    },\n    getBefore: function getBefore(name, stage) {\n        var prev_nodes = [];\n        var next_node = name + '-' + stage;\n        for (var prev_node in this._timing[next_node] || {}) {\n            prev_nodes.push(prev_node.split('-'));\n        }\n        return prev_nodes;\n    },\n    work: function work() {\n        this._tasks.forEach(function (task) {\n            var task_comps = task.split('-');\n            var name = task_comps[0];\n            var stage = task_comps[1];\n            var component = this.getComponent(name);\n            for (var vr in component.variants) {\n                component[stage](vr);\n            }\n        }, this);\n    }\n};\n\nmodule.exports = Page;\n\n},{\"./components.js\":1,\"./control.js\":2,\"./ctype.js\":3,\"./eumap.js\":4,\"./facet.js\":5,\"./filter.js\":6,\"./generic.js\":7,\"./item.js\":8,\"./list.js\":9,\"./message.js\":11,\"./share.js\":14,\"./tadiraha.js\":15,\"./tadiraho.js\":16,\"./tadiraht.js\":17,\"./viewstate.js\":18}],13:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: generic facet based on related values\n * CType, Tadiraho and EUmap inherit from this.\n */\n\nvar g = require('./generic.js');\n\nfunction Relative(component, rtype, cols, cutoff, shortsize) {\n    this.component = component;\n    this.distilled = {};\n    this._list = {};\n    this._list2 = {};\n    this._related_state = {};\n    this._all_values_control = {};\n    this._statistics = {};\n    this._related_values_list = {};\n    this._related_values_index = {};\n    this._related_values_on = {};\n    this._related_values_off = {};\n    this._no_values = { value: '-', name: '-none' };\n    this._type = rtype;\n    this._cols = cols || 2;\n    this._cutoff = cutoff || 14;\n    this._shortsize = shortsize || 6;\n};\n\nRelative.prototype = {\n    _html: function _html(vr) {\n        var type_sg = this.component.state.showState('list', this._type, 'sg');\n        var type_pl = this.component.state.showState('list', this._type, 'pl');\n        var h = '';\n        h += this._preHtml(vr);\n        h += '\\n<div>\\n    <p class=\"dctrl\"><span fct=\"' + this.component.name + '-' + vr + '\"></span> By ' + type_sg + '</p>\\n    <p class=\"all\"><span rv=\"_all\" class=\"stats\"></span> <a rv=\"_all\" href=\"#\" class=\"facet_single_all\">all ' + type_pl + '</a></p>\\n    <table class=\"value_list\" id=\"list-' + this._type + '-vals_' + vr + '\">\\n        <tr>\\n';\n        this._related_values_list[vr].forEach(function (related_value, i, ar) {\n            if (i % this._cols == 0 && i > 0 && i < ar.length) {\n                h += '</tr><tr>';\n            }\n            var raw_value = this._related_values_index[vr][related_value];\n            h += '\\n            <td><span rv=\"' + related_value + '\" class=\"stats\"></span></td>\\n            <td><a rv=\"' + related_value + '\" href=\"#\" class=\"facet_single\">' + g.escapeHTML(raw_value) + '</a></td>\\n            ';\n        }, this);\n        h += '\\n        </tr>\\n    </table>\\n    <p class=\"value_list2\" id=\"list2-' + this._type + '-vals_' + vr + '\">\\n';\n        this._related_values_list[vr].forEach(function (related_value, i, ar) {\n            var raw_value = this._related_values_index[vr][related_value];\n            var compact_value = g.escapeHTML(g.compact(this._cutoff, this._shortsize, raw_value));\n            h += '<a href=\"#\" rv=\"' + related_value + '\" class=\"passive_small\" title=\"' + g.escapeHTML(raw_value) + '\">' + compact_value + '</a> ';\n        }, this);\n        h += '\\n    </p>\\n</div>';\n        this.component.container[vr].html(h);\n    },\n    _dressup: function _dressup(vr) {\n        var cc = this.component.container[vr];\n        this._list[vr] = cc.find('#list-' + this._type + '-vals_' + vr);\n        this._list2[vr] = cc.find('#list2-' + this._type + '-vals_' + vr);\n        var that = this;\n        this._list[vr].find('.facet_single').click(function (e) {\n            e.preventDefault();\n            var related_value = $(this).attr('rv');\n            var selected = that._from_str(vr, that.component.state.getState('rel_' + that._type + '_' + vr));\n            selected[related_value] = related_value in selected ? !selected[related_value] : true;\n            that.component.state.setState('rel_' + that._type + '_' + vr, g.to_str(selected));\n            cc.find('.last_handled').removeClass('last_handled');\n            $(this).addClass('last_handled');\n        });\n        this._list2[vr].find('.passive_small').click(function (e) {\n            e.preventDefault();\n            var related_value = $(this).attr('rv');\n            var selected = that._from_str(vr, that.component.state.getState('rel_' + that._type + '_' + vr));\n            selected[related_value] = related_value in selected ? !selected[related_value] : true;\n            that.component.state.setState('rel_' + that._type + '_' + vr, g.to_str(selected));\n            $(this).closest('div').find('.morec').click();\n            var last_handled = that._list[vr].find('a[rv=\"' + related_value + '\"]');\n            cc.find('.last_handled').removeClass('last_handled');\n            last_handled.addClass('last_handled');\n            $('#left')[0].scrollTop = 50;\n            last_handled[0].scrollIntoView({\n                behavior: 'smooth',\n                alignToTop: 'true'\n            });\n        });\n        this._all_values_control[vr] = this.component.container[vr].find('[rv=\"_all\"]');\n        this._all_values_control[vr].click(function (e) {\n            e.preventDefault();\n            var ison = $(this).hasClass('ison');\n            if (ison) {\n                that.component.state.setState('rel_' + that._type + '_' + vr, g.to_str(that._related_values_off[vr]));\n            } else {\n                that.component.state.setState('rel_' + that._type + '_' + vr, g.to_str(that._related_values_on[vr]));\n            }\n        });\n    },\n    _setFacet: function _setFacet(vr, related_values) {\n        var all_selected = true;\n        for (var related_value in this._related_values_index[vr]) {\n            var facet_cell = this._list[vr].find('[rv=\"' + related_value + '\"]');\n            var facet_cell2 = this._list2[vr].find('[rv=\"' + related_value + '\"]');\n            if (related_value in related_values && related_values[related_value]) {\n                facet_cell.addClass('ison');\n                facet_cell2.addClass('ison');\n            } else {\n                facet_cell.removeClass('ison');\n                facet_cell2.removeClass('ison');\n                all_selected = false;\n            }\n        }\n        if (all_selected) {\n            this._all_values_control[vr].addClass('ison');\n        } else {\n            this._all_values_control[vr].removeClass('ison');\n        }\n    },\n    _from_str: function _from_str(vr, st) {\n        var ob = {};\n        if (st !== null && st != undefined && st != '') {\n            var ar = st.split(',');\n            ar.forEach(function (v) {\n                ob[v] = true;\n            });\n        }\n        for (var related_value in this._related_values_index[vr]) {\n            if (!(related_value in ob)) {\n                ob[related_value] = false;\n            }\n        }\n        return ob;\n    },\n    stats: function stats(vr) {\n        this._statistics[vr] = {};\n        for (var related_value in this._related_values_index[vr]) {\n            this._statistics[vr][related_value] = 0;\n        }\n        var related_data = this.component.data[vr];\n        for (var x in this.distilled[vr]) {\n            var i = this.distilled[vr][x];\n            var has_related_value = false;\n            for (var related_value in related_data[i]) {\n                this._statistics[vr][related_value] += 1;\n                has_related_value = true;\n            }\n            if (!has_related_value) {\n                this._statistics[vr][this._no_values.value] += 1;\n            }\n        }\n        for (var related_value in this._statistics[vr]) {\n            this.component.container[vr].find('span[rv=\"' + related_value + '\"].stats').html(this._statistics[vr][related_value]);\n        }\n        this.component.container[vr].find('span[rv=\"_all\"].stats').html(this.distilled[vr].length);\n        this._myStats(vr);\n    },\n    v: function v(vr, i) {\n        var related_data = this.component.data[vr];\n        var related_state = this._from_str(vr, this._related_state[vr]);\n        if (i in related_data && Object.keys(related_data[i]).length != 0) {\n            for (var related_value in related_data[i]) {\n                if (related_value in related_state && related_state[related_value]) {\n                    return true;\n                }\n            }\n        } else {\n            if (this._no_values.value in related_state && related_state[this._no_values.value]) {\n                return true;\n            }\n        }\n        return false;\n    },\n    show: function show(vr) {\n        return this.component.state.getState('list') == vr;\n    },\n    weld: function weld(vr) {\n        this._related_values_list[vr] = [];\n        this._related_values_index[vr] = {};\n        this._related_values_off[vr] = {};\n        this._related_values_on[vr] = {};\n        this._plainWeld(vr);\n        this._myWeld(vr);\n        this._related_values_list[vr].push(this._no_values.value);\n        this._related_values_index[vr][this._no_values.value] = this._no_values.name;\n        this._related_values_off[vr][this._no_values.value] = false;\n        this._related_values_on[vr][this._no_values.value] = true;\n        this._html(vr);\n    },\n    wire: function wire(vr) {\n        this._myDressup(vr);\n        this._dressup(vr);\n    },\n    work: function work(vr) {\n        this._related_state[vr] = this.component.state.getState('rel_' + this._type + '_' + vr);\n        var related_values = this._from_str(vr, this._related_state[vr]);\n        this._mySetFacet(vr, related_values);\n        this._setFacet(vr, related_values);\n    },\n    _plainWeld: function _plainWeld(vr) {\n        var related_values = this.component.related_values[vr];\n        for (var i in related_values) {\n            var related_value = related_values[i];\n            this._related_values_off[vr][i] = false;\n            this._related_values_on[vr][i] = true;\n            this._related_values_list[vr].push(i);\n            this._related_values_index[vr][i] = related_value;\n        }\n        this._related_values_list[vr].sort(function (a, b) {\n            return related_values[a] < related_values[b] ? -1 : related_values[a] > related_values[b] ? 1 : 0;\n        });\n    },\n    _myWeld: function _myWeld(vr) {},\n    _preHtml: function _preHtml(vr) {\n        return '';\n    },\n    _myDressup: function _myDressup(vr) {},\n    _mySetFacet: function _mySetFacet(vr) {},\n    _myStats: function _myStats(vr) {}\n};\n\nmodule.exports = Relative;\n\n},{\"./generic.js\":7}],14:[function(require,module,exports){\n'use strict';\n\nvar g = require('./generic.js');\n\nfunction Share(component) {\n    // the SHARE component\n    this.component = component;\n};\n\nShare.prototype = {\n    show: function show(vr) {\n        return true;\n    },\n    weld: function weld(vr) {\n        var h = '\\n<p id=\"citeh\">Cite</p>\\n<table align=\"center\">\\n    <tr>\\n        <td class=\"clip_pv clr\">\\n            <a lnk=\"\" href=\"#\" id=\"clip_pv_md\" title=\"link to page content and appearance (markdown)\" class=\"ctrl fa fa-level-down fa-lg fa-fw\"></a>\\n            <a lnk=\"\" href=\"#\" id=\"clip_pv_ht\" title=\"link to page content and appearance (html)\" class=\"ctrl fa fa-external-link-square fa-lg fa-fw\"></a>\\n            <a lnk=\"\" href=\"#\" id=\"clip_pv_htc\" title=\"link to page content (html)\" class=\"ctrl fa fa-external-link fa-lg fa-fw\"></a>\\n            <a lnk=\"\" href=\"#\" id=\"clip_pv_cn\" title=\"copy page content\" class=\"ctrl fa fa-file-text-o fa-lg fa-fw\"></a>\\n        </td>\\n    </tr>\\n    <tr>\\n        <th class=\"clip_pv\" width=\"60px\">page view</th>\\n    </tr>\\n    <tr class=\"citexpl\">\\n        <td class=\"clip_pv\"><span id=\"xc_pv\" class=\"ctrl fa fa-chevron-right fa-fw\"></span><span id=\"x_pv\" class=\"detail\">share link to this page with or without view settings.</span></td>\\n    </tr>\\n</table>\\n<p id=\"cdiagpub\"></p>\\n<p id=\"cdiagsts\"></p>\\n';\n        this.component.container[vr].html(h);\n    },\n    wire: function wire(vr) {\n        var that = this;\n        var cc = this.component.container[vr];\n        var slink = $('#self_link');\n        slink.hide();\n        cc.addClass('socialdrawer');\n        cc.find('.detail').hide();\n        cc.find('#clip_pv_md,#clip_pv_ht,#clip_pv_htc,#clip_pv_nl').click(function (e) {\n            e.preventDefault();\n            window.prompt('Press <Cmd-C> and then <Enter> to copy link on clipboard', $(this).attr('lnk'));\n        });\n        cc.find('#clip_pv_cn').click(function (e) {\n            e.preventDefault();\n            var containerid = 'middle';\n            var app_url_raw = app_url_cite + that.component.state.getVars(true);\n            slink.show();\n            slink.attr('href', app_url_raw);\n            g.selectText(containerid);\n        });\n        cc.find('#xc_pv').click(function (e) {\n            e.preventDefault();g.toggleDetail($(this), $('#x_pv'));\n        });\n        cc.click(function (e) {\n            e.preventDefault();\n            var app_url_raw = app_url_cite + that.component.state.getVars(true);\n            var app_url_rawc = app_url_cite + that.component.state.getVars(false);\n            $('#citeh').hide();\n            $('#cdiagpub').html('');\n            $('#cdiagsts').html('');\n            $('.clip_pv.clr,#cdiagpub,#cdiagsts').removeClass('error warning good special');\n            var pvtitle = g.escapeHTML($('title').text());\n            $('#clip_pv_md').attr('lnk', '[' + pvtitle + '](' + app_url_raw + ')');\n            $('#clip_pv_ht').attr('lnk', app_url_raw);\n            $('#clip_pv_htc').attr('lnk', app_url_rawc);\n            $('#clip_pv_cn').attr('lnk', app_url_raw);\n            $('#clip_pv_cn').attr('tit', pvtitle);\n            $(this).animate({ height: '100px', width: '200px', opacity: 0.95 }, 300);\n        });\n        cc.mouseleave(function () {\n            slink.hide();\n            //g.deselectText();\n            $('#citeh').show();\n            cc.animate({ height: '20px', width: '40px', opacity: .7 }, 300);\n            return false;\n        });\n    },\n    work: function work(vr) {}\n};\n\nmodule.exports = Share;\n\n},{\"./generic.js\":7}],15:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: ctype\n * This manages the facet \"contribution type\"\n */\n\nvar Relative = require('./relative.js');\n\nfunction TadirahA(component) {\n  Relative.call(this, component, 'tadiraha');\n};\n\nTadirahA.prototype = Object.create(Relative.prototype);\nTadirahA.prototype.constructor = TadirahA;\n\nmodule.exports = TadirahA;\n\n},{\"./relative.js\":13}],16:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: ctype\n * This manages the facet \"contribution type\"\n */\n\nvar Relative = require('./relative.js');\n\nfunction TadirahO(component) {\n  Relative.call(this, component, 'tadiraho');\n};\n\nTadirahO.prototype = Object.create(Relative.prototype);\nTadirahO.prototype.constructor = TadirahO;\n\nmodule.exports = TadirahO;\n\n},{\"./relative.js\":13}],17:[function(require,module,exports){\n'use strict';\n\n/* INDIVIDUAL COMPONENT: ctype\n * This manages the facet \"contribution type\"\n */\n\nvar Relative = require('./relative.js');\n\nfunction TadirahT(component) {\n  Relative.call(this, component, 'tadiraht', 1, 30);\n};\n\nTadirahT.prototype = Object.create(Relative.prototype);\nTadirahT.prototype.constructor = TadirahT;\n\nmodule.exports = TadirahT;\n\n},{\"./relative.js\":13}],18:[function(require,module,exports){\n'use strict';\n\n/* VIEW STATE\n * Contains the current state, based on request variables and local storage.\n * Request variables have precedence over local storage.\n * Request variables are checked and validated and translated, translated values go to local storage.\n * There is a list of recognized request variables, with their types and allowable values.\n */\n\nvar g = require('./generic.js');\n\nfunction ViewState(page) {\n    this._data = {};\n    this.page = page;\n    this.msg = page.msg;\n    this._getInitstate();\n    this._addHistory();\n};\n\nViewState.prototype = {\n    _specs: {\n        list: { url: true, type: 'string', values: { contrib: 1, country: 1, type: 1, tadiraha: 1, tadiraho: 1, tadiraht: 1 }, default_value: 'contrib' },\n        flt_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        flt_country: { url: false, type: 'string', values: null, default_value: '' },\n        flt_type: { url: false, type: 'string', values: null, default_value: '' },\n        flt_tadiraha: { url: false, type: 'string', values: null, default_value: '' },\n        flt_tadiraho: { url: false, type: 'string', values: null, default_value: '' },\n        flt_tadiraht: { url: false, type: 'string', values: null, default_value: '' },\n        rel_country_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        rel_type_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        rel_tadiraha_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        rel_tadiraho_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        rel_tadiraht_contrib: { url: false, type: 'string', values: null, default_value: '' },\n        item_contrib: { url: true, type: 'string', values: null, default_value: '' },\n        item_country: { url: true, type: 'string', values: null, default_value: '' },\n        sort: { url: false, type: 'boolean', values: { v: true, x: false }, default_value: true }\n    },\n    _showas: {\n        list: {\n            contrib: { sg: 'contribution', pl: 'contributions' },\n            country: { sg: 'country', pl: 'countries' },\n            type: { sg: 'type', pl: 'types' },\n            tadiraha: { sg: 'tadirah activity', pl: 'tadirah activities' },\n            tadiraho: { sg: 'tadirah object', pl: 'tadirah objects' },\n            tadiraht: { sg: 'tadirah technique', pl: 'tadirah techniques' }\n        }\n    },\n    _validate: function _validate(name, val) {\n        var newval, message;\n        if (name in this._specs) {\n            var spec = this._specs[name];\n            if (spec.type == 'string') {\n                if (spec.values) {\n                    if (val in spec.values) {\n                        newval = val;\n                    } else {\n                        newval = spec.default_value;\n                        this.msg.msg('illegal string value for ' + name + ': \"' + val + '\" is replaced by \"' + spec.default_value + '\"', 'warning');\n                    }\n                } else {\n                    newval = val;\n                }\n            } else if (spec.type == 'integer') {\n                if (/^(\\-|\\+)?[0-9]+$/.test(val)) {\n                    newval = Number(val);\n                } else {\n                    newval = spec.default_value;\n                    this.msg.msg('not a number value for ' + name + ': \"' + val + '\" is replaced by \"' + spec.default_value + '\"', 'warning');\n                }\n                if (newval < spec.limits.min) {\n                    this.msg.msg('number to small for ' + name + ': \"' + newval + '\" is replaced by \"' + spec.limits.min + '\"', 'warning');\n                }\n                if (newval > spec.limits.max) {\n                    this.msg.msg('number to big for ' + name + ': \"' + newval + '\" is replaced by \"' + spec.limits.max + '\"', 'warning');\n                }\n            } else if (spec.type == 'boolean') {\n                if (val in spec.values) {\n                    newval = spec.values[val];\n                } else {\n                    newval = spec.default_value;\n                    this.msg.msg('illegal boolean value for ' + name + ': \"' + val + '\" is replaced by \"' + spec.default_value + '\"', 'warning');\n                }\n            }\n        } else {\n            newval = null;\n            this.msg.msg('unknown parameter: ' + name + '=' + val, 'warning');\n        }\n        return newval;\n    },\n    getVars: function getVars(comprehensive) {\n        var vars = [];\n        for (var name in this._data) {\n            var val = this._data[name];\n            var spec = this._specs[name];\n            if (comprehensive || spec.url) {\n                if (spec.type == 'string' || spec.type == 'integer') {\n                    vars.push(name + '=' + val);\n                } else if (spec.type == 'boolean') {\n                    for (var valid_val in spec.values) {\n                        if (spec.values[valid_val] == val) {\n                            vars.push(name + '=' + valid_val);\n                        }\n                    }\n                }\n            }\n        }\n        return vars.join('&');\n    },\n    _getInitstate: function _getInitstate() {\n        for (var name in g.request_vars) {\n            if (!(name in this._specs)) {\n                this.msg.msg('unknown parameter: ' + name + '=' + val, 'warning');\n            }\n        }\n        for (var name in this._specs) {\n            var val = null;\n            if (name in g.request_vars) {\n                var raw_val = g.request_vars[name];\n                val = this._validate(name, raw_val);\n                g.localstorage_vars.set(name, val);\n            } else if (g.localstorage_vars.isSet(name)) {\n                val = g.localstorage_vars.get(name);\n            } else {\n                val = this._specs[name].default_value;\n                g.localstorage_vars.set(name, val);\n            }\n            this._data[name] = val;\n        }\n    },\n    _addHistory: function _addHistory(title, view_url) {\n        var tit = 'DARIAH contribution tool';\n        var this_url = app_url + '?' + this.getVars(false);\n        History.pushState(this._data, tit, this_url);\n    },\n    setState: function setState(name, val) {\n        this._data[name] = val;\n        g.localstorage_vars.set(name, val);\n        this._addHistory();\n    },\n    getState: function getState(name) {\n        return this._data[name];\n    },\n    getValues: function getValues(name) {\n        return this._specs[name].values;\n    },\n    showState: function showState(name, val, mode) {\n        var result = val;\n        var md = mode == undefined ? 'sg' : mode;\n        if (this._showas[name] != undefined && this._showas[name][val] != undefined) {\n            result = this._showas[name][val][mode];\n        }\n        return result;\n    },\n    work: function work() {\n        return function () {\n            var state = History.getState();\n            if (state && state.data) {\n                this._data = state.data;\n                this.page.work();\n            }\n        }.bind(this);\n    }\n};\n\nmodule.exports = ViewState;\n\n},{\"./generic.js\":7}]},{},[10])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJjb21wb25lbnRzLmpzIiwiY29udHJvbC5qcyIsImN0eXBlLmpzIiwiZXVtYXAuanMiLCJmYWNldC5qcyIsImZpbHRlci5qcyIsImdlbmVyaWMuanMiLCJpdGVtLmpzIiwibGlzdC5qcyIsIm1haW4uanMiLCJtZXNzYWdlLmpzIiwicGFnZS5qcyIsInJlbGF0aXZlLmpzIiwic2hhcmUuanMiLCJ0YWRpcmFoYS5qcyIsInRhZGlyYWhvLmpzIiwidGFkaXJhaHQuanMiLCJ2aWV3c3RhdGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNzQkEsSUFBSSxJQUFJLFFBQVEsY0FBUixDQUFSO0FBQ0EsSUFBSSxNQUFNLFFBQVEsY0FBUixDQUFWOztBQUVBLFNBQVMsU0FBVCxDQUFtQixJQUFuQixFQUF5QixLQUF6QixFQUFnQyxJQUFoQyxFQUFzQztBQUNsQyxTQUFLLElBQUwsR0FBWSxJQUFaO0FBQ0EsU0FBSyxJQUFMLEdBQVksSUFBWjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQWI7QUFDQSxTQUFLLFFBQUwsR0FBZ0IsTUFBTSxRQUF0QjtBQUNBLFNBQUssTUFBTCxHQUFjLEVBQWQ7QUFDQSxTQUFLLElBQUksRUFBVCxJQUFlLEtBQUssUUFBcEIsRUFBOEI7QUFDMUIsYUFBSyxNQUFMLENBQVksRUFBWixJQUFrQixFQUFsQjtBQUNBLGFBQUssSUFBSSxFQUFULElBQWUsS0FBSyxJQUFMLENBQVUsTUFBekIsRUFBaUM7QUFDN0IsaUJBQUssTUFBTCxDQUFZLEVBQVosRUFBZ0IsRUFBaEIsSUFBc0IsSUFBdEI7QUFDSDtBQUNKO0FBQ0QsU0FBSyxHQUFMLEdBQVcsRUFBWDtBQUNBLFNBQUssU0FBTCxHQUFpQixFQUFqQjtBQUNBLFNBQUssS0FBTCxHQUFhLEtBQUssSUFBTCxDQUFVLEtBQXZCO0FBQ0EsU0FBSyxJQUFMLEdBQVksRUFB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SUFBYixFQUFtQixHQUFuQixFQUF3QixJQUF4QixDQUFUO0FBQ0g7QUFDRCxlQUFPLE1BQVA7QUFDSCxLQTNJaUI7QUE0SWxCLFVBQU0sZ0JBQVc7QUFDYixlQUFPLFlBQVk7QUFDZixnQkFBSSxRQUFRLFFBQVEsUUFBUixFQUFaO0FBQ0EsZ0JBQUksU0FBUyxNQUFNLElBQW5CLEVBQXlCO0FBQ3JCLHFCQUFLLEtBQUwsR0FBYSxNQUFNLElBQW5CO0FBQ0EscUJBQUssSUFBTCxDQUFVLElBQVY7QUFDSDtBQUNKLFNBTk0sQ0FNTCxJQU5LLENBTUEsSUFOQSxDQUFQO0FBT0g7QUFwSmlCLENBQXRCOztBQXVKQSxPQUFPLE9BQVAsR0FBaUIsU0FBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogQ09NUE9ORU5UUyBcbiAqIFRoZSBQYWdlIGZ1bmN0aW9uIHNwZWNpZmllcyBhbmQgYnVpbGRzIGEgbGlzdCBvZiBjb21wb25lbnRzXG4gKiBFdmVyeSBjb21wb25lbnQgb24gdGhlIHBhZ2UgY29ycmVzcG9uZHMgdG8gYSBmdW5jdGlvbiAod2l0aCBhIHByb3RvdHlwZSlcbiAqIFRoaXMgZnVuY3Rpb24gaXMgc3RvcmVkIGluIGEgZ2VuZXJpYyBDb21wb25lbnQgZnVuY3Rpb24gaW4gYSBmaWVsZCBjYWxsZWQgc3BlY2lmaWMuXG4gKiBFdmVyeSBjb21wb25lbnQgaGFzIGEgbGlzdCBvZiBzdWJjb21wb25lbnRzLiBGb3IgZXhhbXBsZSwgdGhlICdsaXN0JyBjb21wb25lbnQgaGFzIGEgc3ViY29tcG9uZW50ICdjb250cmliJ1xuICogZm9yIHRoZSBsaXN0IG9mIGNvbnRyaWJ1dGlvbnMsIGFuZCBhIHN1YmNvbXBvbmVudCAnY291bnRyeScgZm9yIHRoZSBsaXN0IG9mIGNvdW50cmllcy5cbiAqIFRoZSBnZW5lcmljIGZ1bmN0aW9ucyBvZiBhIGNvbXBvbmVudCB0YWtlIGNhcmUgb2Y6XG4gKiAtIGdlbmVyYXRpbmcgSFRNTCBjb250YWluZXIgZGl2cyBmb3IgdGhlIHN1YmNvbXBvbmVudHMgdW5kZXIgc3BlY2lmaWVkIGRlc3RpbmF0aW9uIGVsZW1lbnRzIGlmIHRoZXkgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuICogLSBzaG93aW5nIGFuZCBoaWRpbmcgdGhlIHN1YmNvbXBvbmVudHMsIGFuZCBpbiBnZW5lcmFsLCB3b3JrIHRoZSBjdXJyZW50IHN0YXRlIGRhdGEgdG8gdGhlIHN1YmNvbXBvbmVudHMgXG4gKiAtIGZldGNoaW5nIHRoZSBzdWJjb21wb25lbnQncyBkYXRhIGZyb20gdGhlIHNlcnZlciwgaWYgbmVlZGVkXG4gKiBUaGlzICpzcGVjaWZpYyogZnVuY3Rpb25hbGl0eSBvZiB0aGUgY29tcG9uZW50cyBhcmUgZGVmaW5lZCBpbiBzZXBhcmF0ZSBmaWxlcy5cbiAqIE9mIHRoaXMgc3BlY2lmaWMgZnVuY3Rpb25hbGl0eSwgdGhlIGZvbGxvd2luZyB3aWxsIGJlIGNhbGxlZCBmcm9tIHRoZSBnZW5lcmljIGNvbXBvbmVudCBmdW5jdGlvbjpcbiAqIC0gc2hvdyh2cik6IGluc3BlY3QgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoZSBzdWJjb21wb25lbnQgc2hvdWxkIGJlIHNob3duIG9yIGhpZGRlblxuICogLSB3aXJlKHZyKTogYWZ0ZXIgdGhlIGRhdGEgaGFzIGJlZW4gZmV0Y2hlZCwgd3JhcCB0aGUgZGF0YSBpbnRvIHRoZSBkZXNpcmVkIEhUTUwgY29udGVudCBvZiB0aGUgc3ViY29tcG9uZW50XG4gKiAgIGFuZCBhZGQgdGhlIHdpcmluZyAoY2xpY2sgZXZlbnRzLCBjaGFuZ2UgZXZlbnRzKVxuICogSW4gdHVybiwgdGhlIHNwZWNpZmljIGZ1bmN0aW9ucyBjYW4gYWNjZXNzIHRoZWlyIGFzc29jaWF0ZWQgZ2VuZXJpYyBjb21wb25lbnRzIGJ5IHRoaXMuY29tcG9uZW50XG4gKi9cblxuLyogR0VORVJJQyBDT01QT05FTlRcbiAqIEhlcmUgaXMgdGhlIGdlbmVyaWMgZnVuY3Rpb25hbGl0eSBvZiBlYWNoIGNvbXBvbmVudFxuICovXG5cbnZhciBnID0gcmVxdWlyZSgnLi9nZW5lcmljLmpzJyk7XG52YXIgTXNnID0gcmVxdWlyZSgnLi9tZXNzYWdlLmpzJyk7XG5cbmZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBzcGVjcywgcGFnZSkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5wYWdlID0gcGFnZTtcbiAgICB0aGlzLnNwZWNzID0gc3BlY3M7XG4gICAgdGhpcy52YXJpYW50cyA9IHNwZWNzLnZhcmlhbnRzO1xuICAgIHRoaXMuX3N0YWdlID0ge307XG4gICAgZm9yICh2YXIgdnIgaW4gdGhpcy52YXJpYW50cykge1xuICAgICAgICB0aGlzLl9zdGFnZVt2cl0gPSB7fTtcbiAgICAgICAgZm9yICh2YXIgc3QgaW4gdGhpcy5wYWdlLnN0YWdlcykge1xuICAgICAgICAgICAgdGhpcy5fc3RhZ2VbdnJdW3N0XSA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5tc2cgPSB7fTtcbiAgICB0aGlzLmNvbnRhaW5lciA9IHt9O1xuICAgIHRoaXMuc3RhdGUgPSB0aGlzLnBhZ2Uuc3RhdGU7XG4gICAgdGhpcy5kYXRhID0ge307XG4gICAgdGhpcy5yZWxhdGVkX3ZhbHVlcyA9IHt9O1xuICAgIHRoaXMuaWRzX2ZldGNoZWQgPSB7fTtcbiAgICB0aGlzLmltcGxlbWVudGF0aW9uID0gbmV3IHNwZWNzLnNwZWNpZmljKHRoaXMpO1xufTtcblxuQ29tcG9uZW50LnByb3RvdHlwZSA9IHtcbiAgICAvKiBuZWVkLCBkZWVkLCBlbnN1cmUgYXJlIHdyYXBwZXJzIGFyb3VuZCB0aGUgcHJvbWlzZSBtZWNoYW5pc20uXG4gICAgICogVGhlIHN0YWdlIGlzIGEgc3RhZ2UgaW4gcHJvY2Vzc2luZyB0aGUgY29tcG9uZW50LCBzdWNoIGFzIGZldGNoLCB3aXJlLCB3b3JrLlxuICAgICAqIFRoZXJlIHNob3VsZCBiZSBhIG1ldGhvZCBtZXRob2Qgd2hpY2ggZG9lcyB0aGUgd29yayBhbmQgd2hpY2ggaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgcHJvbWlzZS5cbiAgICAgKiBJZiBpdCBkb2VzIG5vdCwgd2UgZGV0ZWN0IGl0LCBhbmQgeWllbGQgYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgb3JpZ2luYWwgcmV0dXJuIHZhbHVlLlxuICAgICAqIGVuc3VyZSB0YWtlcyBjYXJlIHRoYXQgdGhlIGZ1bmN0aW9uIG9mIGFuIGFjdGlvbiBpcyBwcm9taXNlZCB0byBiZSBleGVjdXRlIG9uY2UsIGJ5IHJlZ2lzdGVyaW5nIGl0XG4gICAgICogYXMgYSBwcm9taXNlIGZvciB0aGF0IHN0YWdlLlxuICAgICAqIElmIHRoZXJlIGlzIGFscmVhZHkgYSBmdWxmaWxsZWQgb3IgcGVuZGluZyBwcm9taXNlIGZvciB0aGF0IGFjdGlvbiBhdCB0aGF0IHN0YWdlLCBubyBuZXcgcHJvbWlzZSB3aWxsIGJlIG1hZGUuXG4gICAgICogRW5zdXJlIHJldHVybnMgYSBmdW5jdGlvbiB3aXRoIG5vIGFyZ3VtZW50cy4gSWYgaXQgaXMgY2FsbGVkLCB0aGUgcHJvbWlzZSB3aWxsIGJlIG1hZGUuXG4gICAgICogU28gdGhlIHJlc3VsdCBvZiBlbnN1cmUgY2FuIGJlIHB1dCBpbnNpZGUgdGhlIC50aGVuKCkgb2YgYW4gb3RoZXIgcHJvbWlzZS5cbiAgICAgKiBOb3cgaXMgYSBmdW5jdGlvbiB0aGF0IGNhbGxzIGEgZnVuY3Rpb24gYW5kIHJldHVybnMgdGhlIHJlc3VsdCBhcyBwcm9taXNlLlxuICAgICAqL1xuICAgIG5lZWQ6IGZ1bmN0aW9uKHZyLCBzdGFnZSkgeyAvLyBjaGVjayB3aGV0aGVyIHRoZXJlIGlzIGEgcHJvbWlzZSBhbmQgd2hldGhlciBpdCBoYXMgYmVlbiBmdWxmaWxsZWRcbiAgICAgICAgcmV0dXJuICF0aGlzLl9zdGFnZVt2cl1bc3RhZ2VdLnN0YXRlIHx8ICh0aGlzLl9zdGFnZVt2cl1bc3RhZ2VdLnN0YXRlKCkgPT0gYHJlamVjdGVkYCk7XG4gICAgfSxcbiAgICBfZGVlZDogZnVuY3Rpb24odnIsIHN0YWdlLCBtZXRob2QpIHsgLy8gcmVnaXN0ZXIgYSBwcm9taXNlIHRvIHBlcmZvcm0gdGhlIG1ldGhvZCBhc3NvY2lhdGVkIHdpdGggc3RhZ2UgYnkgZW50ZXJpbmcgaXQgaW4gdGhlIGJvb2sga2VlcGluZyBvZiBzdGFnZXNcbiAgICAgICAgICAgIC8qIHdlIHdhbnQgdG8gcGFzcyBhIG1ldGhvZCBjYWxsIHRvIGEgLnRoZW4oKSBsYXRlciBvbi5cbiAgICAgICAgICAgICAqIElmIHdlIHBhc3MgaXQgc3RyYWlnaHQsIGxpa2UgdGhpcy5tZXRob2QsIC50aGVuKCkgd2lsbCBjYWxsIHRoaXMgZnVuY3Rpb24gYW5kIHN1cHBsaWVzIGl0cyBvd24gcHJvbWlzZSBvYmplY3QgYXMgdGhlIHRoaXMuXG4gICAgICAgICAgICAgKiBUaGF0IGlzIG5vdCBvdXIgcHVycG9zZTogd2Ugd2FudCB0byBjYWxsIHRoZSBtZXRob2Qgd2l0aCB0aGUgY3VycmVudCBjb21wb25lbnQgb2JqZWN0IGFzIHRoZSB0aGlzLlxuICAgICAgICAgICAgICogSGVuY2Ugd2UgdXNlIGJpbmQoKSBpbiBvcmRlciB0byBzdXBwbHkgdGhlIHJpZ2h0IHRoaXMuXG4gICAgICAgICAgICAgKiBXaG9ldmVyIGNhbGxzIHRoaXMgbmV3IGZ1bmN0aW9uIG1ldGhvZENhbGwsIHdpbGwgcGVyZm9ybSBhIHRydWUgbWV0aG9kIGNhbGwgb2YgbWV0aG9kIG1ldGhvZCBvbiBvYmplY3QgdGhhdC5cbiAgICAgICAgICAgICAqIFRoaXMgaXMgY3J1Y2lhbCwgb3RoZXJ3aXNlIGFsbCB0aGUgY2FyZWZ1bCB0aW1lIGxvZ2ljIGdldHMgbWFuZ2xlZCwgYmVjYXVzZSB0aGUgcHJvbWlzZXMgYXJlIHN0b3JlZCBpbiB0aGUgY29tcG9uZW50IG9iamVjdC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICB2YXIgbWV0aG9kQ2FsbCA9IHRoaXNbbWV0aG9kXS5iaW5kKHRoaXMsIHZyKTtcbiAgICAgICAgdmFyIHRpbWluZyA9IHRoaXMucGFnZS5nZXRCZWZvcmUodGhpcy5uYW1lLCBzdGFnZSk7XG4gICAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgICB0aW1pbmcuZm9yRWFjaChmdW5jdGlvbih0YXNrKSB7XG4gICAgICAgICAgICB2YXIgcHJldl9uYW1lID0gdGFza1swXTtcbiAgICAgICAgICAgIHZhciBwcmV2X3N0YWdlID0gdGFza1sxXTtcbiAgICAgICAgICAgIHZhciBwcmV2X2NvbXBvbmVudCA9IHRoaXMucGFnZS5nZXRDb21wb25lbnQocHJldl9uYW1lKTtcbiAgICAgICAgICAgIGlmIChwcmV2X2NvbXBvbmVudC5oYXNWYXJpYW50KHZyKSkge1xuICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2gocHJldl9jb21wb25lbnQuX3N0YWdlW3ZyXVtwcmV2X3N0YWdlXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB0aGlzLl9zdGFnZVt2cl1bc3RhZ2VdID0gJC53aGVuLmFwcGx5KCQsIHByb21pc2VzKS50aGVuKG1ldGhvZENhbGwpO1xuICAgIH0sXG4gICAgZW5zdXJlOiBmdW5jdGlvbih2ciwgc3RhZ2UsIG1ldGhvZCkge1xuICAgICAgICAvKiBmdW5jdGlvbiB0byBwcm9taXNlIHRoYXQgbWV0aG9kIGZ1biB3aWxsIGJlIGV4ZWN1dGVkIG9uY2UgYW5kIG9uY2Ugb25seSBvciBtdWx0aXBsZSB0aW1lcyxcbiAgICAgICAgICogYnV0IG9ubHkgaWYgdGhlIGJlZm9yZSBhY3Rpb25zIGhhdmUgYmVlbiBjb21wbGV0ZWRcbiAgICAgICAgICovXG4gICAgICAgIGlmIChzdGFnZSBpbiB0aGlzLnBhZ2Uuc3RhZ2VzKSB7XG4gICAgICAgICAgICAvKiBpZiB0aGUgY29tcG9uZW50IHdvcmtzIHBlciBpZCwgdGhlIG9uY2Ugc2V0dGluZyBvZiB0aGUgc3RhZ2UgaXMgaWdub3JlZFxuICAgICAgICAgICAgICogYmVjYXVzZSB3ZSBoYXZlIHRvIGxvb2sgd2hldGhlciB3ZSBzaG91bGQgZXhlY3V0ZSB0aGF0IHN0YWdlIGZvciBuZXcgaWRlbnRpZmllcnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIG9uY2UgPSB0aGlzLnBhZ2Uuc3RhZ2VzW3N0YWdlXSAmJiAhdGhpcy5zcGVjcy5ieV9pZDtcbiAgICAgICAgICAgIGlmICghb25jZSB8fCB0aGlzLm5lZWQodnIsIHN0YWdlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlZWQodnIsIHN0YWdlLCBtZXRob2QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvKiBoZXJlIGFyZSB0aGUgaW1wbGVtZW50YXRpb25zIG9mIHRoZSBmdW5jdGlvbnMgdGhhdCBhcmUgdG8gYmUgd3JhcHBlZCBhcyBwcm9taXNlc1xuICAgICAqIFRoZXkgY2FuIGZvY3VzIG9uIHRoZSB3b3JrLCBtYXkgb3IgbWF5IG5vdCB5aWVsZCBhIHByb21pc2VcbiAgICAgKi8gICAgXG4gICAgaGFzVmFyaWFudDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgcmV0dXJuICh2ciBpbiB0aGlzLnZhcmlhbnRzKTtcbiAgICB9LFxuICAgIF92aXNpYmlsaXR5OiBmdW5jdGlvbih2ciwgb24pIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzVmFyaWFudCh2cikpIHtcbiAgICAgICAgICAgIGlmICh2ciBpbiB0aGlzLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGlmIChvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lclt2cl0uc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJbdnJdLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF9mZXRjaDogZnVuY3Rpb24odnIsIGlkc190b19mZXRjaCkgeyAvLyBnZXQgdGhlIG1hdGVyaWFsIGJ5IEFKQVggaWYgbmVlZGVkXG4gICAgICAgIHZhciBmZXRjaF91cmwgPSB1cmxfdHBsLnJlcGxhY2UoL19jXy8sIGBkYXRhYCkucmVwbGFjZSgvX2ZfLywgYCR7dGhpcy5zcGVjcy5mZXRjaF91cmx9XyR7dnJ9YCkrYC5qc29uYDtcbiAgICAgICAgdGhpcy5tc2dbdnJdLm1zZyhgZmV0Y2hpbmcgZGF0YSAuLi5gKTtcbiAgICAgICAgdmFyIHBvc3RGZXRjaCA9IHRoaXMuX3Bvc3RGZXRjaC5iaW5kKHRoaXMsIHZyKTtcbiAgICAgICAgaWYgKCEoaWRzX3RvX2ZldGNoID09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgICAgIGZldGNoX3VybCArPSBgP2lkcz0ke2lkc190b19mZXRjaC5qb2luKCcsJyl9YDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IGBQT1NUYCxcbiAgICAgICAgICAgIHVybDogZmV0Y2hfdXJsLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IGBhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PXV0Zi04YCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBganNvbmAsXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oanNvbikge1xuICAgICAgICAgICAgcG9zdEZldGNoKGpzb24sIGlkc190b19mZXRjaCk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgX3Bvc3RGZXRjaDogZnVuY3Rpb24odnIsIGpzb24sIGlkc190b19mZXRjaCkgeyAvLyByZWNlaXZlIG1hdGVyaWFsIGFmdGVyIEFKQVggY2FsbFxuICAgICAgICB0aGlzLm1zZ1t2cl0uY2xlYXIoKTtcbiAgICAgICAganNvbi5tc2dzLmZvckVhY2goZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgdGhpcy5tc2dbdnJdLm1zZyhtKTtcbiAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIGlmIChqc29uLmdvb2QpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVt2cl0gPSBqc29uLmRhdGE7XG4gICAgICAgICAgICBpZiAodGhpcy5zcGVjcy5ieV9pZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpzb24uZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYHJlbHZhbHNgIGluIGpzb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGF0ZWRfdmFsdWVzW3ZyXSA9IGpzb24ucmVsdmFscztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNwZWNzLmJ5X2lkKSB7XG4gICAgICAgICAgICAgICAgaWRzX3RvX2ZldGNoLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZHNfZmV0Y2hlZFtpZF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW1wbGVtZW50YXRpb24ud2VsZCh2cik7XG4gICAgfSxcbiAgICBfd2VsZDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdGhpcy5fZHN0ID0gdGhpcy5wYWdlLmdldENvbnRhaW5lcih0aGlzLnNwZWNzLmRlc3QsIHRoaXMudmFyaWFudHMpO1xuICAgICAgICBpZiAoISh0aGlzLnNwZWNzLmJ5X2lkKSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJbdnJdID0gJChgIyR7dGhpcy5uYW1lfV8ke3ZyfWApO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyW3ZyXS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuX2RzdFt2cl07XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYXBwZW5kKGA8ZGl2IGlkPVwibXNnXyR7dGhpcy5uYW1lfV8ke3ZyfVwiPjwvZGl2PmApO1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFwcGVuZChgPGRpdiBpZD1cIiR7dGhpcy5uYW1lfV8ke3ZyfVwiIGNsYXNzPVwiY29tcG9uZW50XCI+PC9kaXY+YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJbdnJdID0gJChgIyR7dGhpcy5uYW1lfV8ke3ZyfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tc2dbdnJdID0gbmV3IE1zZyhgbXNnXyR7dGhpcy5uYW1lfV8ke3ZyfWApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCEodnIgaW4gdGhpcy5tc2cpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5fZHN0W3ZyXTtcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5wcmVwZW5kKGA8ZGl2IGlkPVwibXNnXyR7dGhpcy5uYW1lfV8ke3ZyfVwiPjwvZGl2PmApO1xuICAgICAgICAgICAgICAgIHRoaXMubXNnW3ZyXSA9IG5ldyBNc2coYG1zZ18ke3RoaXMubmFtZX1fJHt2cn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zcGVjcy5mZXRjaF91cmwgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGlkc190b19mZXRjaCA9IFtdO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3BlY3MuYnlfaWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRzX2Fza2VkX2ZvciA9IGcuZnJvbV9zdHIodGhpcy5zdGF0ZS5nZXRTdGF0ZShgJHt0aGlzLnNwZWNzLmZldGNoX3VybH1fJHt2cn1gKSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWQgaW4gaWRzX2Fza2VkX2Zvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShpZCBpbiB0aGlzLmlkc19mZXRjaGVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWRzX3RvX2ZldGNoLnB1c2goaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBpZHMgdG8gZmV0Y2ggJHt0aGlzLm5hbWV9IC0gJHt2cn1gLCBpZHNfdG9fZmV0Y2gpO1xuICAgICAgICAgICAgICAgIGlmIChpZHNfdG9fZmV0Y2gubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZldGNoKHZyLCBpZHNfdG9fZmV0Y2gpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9mZXRjaCh2cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmltcGxlbWVudGF0aW9uLndlbGQodnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfd2lyZTogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvbi53aXJlKHZyKTsgLy8gcGVyZm9ybSB3aXJlIGFjdGlvbnMgdGhhdCBhcmUgc3BlY2lmaWMgdG8gdGhpcyBjb21wb25lbnRcbiAgICB9LFxuICAgIF93b3JrOiBmdW5jdGlvbih2cikge1xuICAgICAgICB0aGlzLl92aXNpYmlsaXR5KHZyLCB0cnVlKTtcbiAgICAgICAgdGhpcy5pbXBsZW1lbnRhdGlvbi53b3JrKHZyKTsgLy8gcGVyZm9ybSB3b3JrIGFjdGlvbnMgdGhhdCBhcmUgc3BlY2lmaWMgdG8gdGhpcyBjb21wb25lbnRcbiAgICB9LFxuICAgIHdlbGQ6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc1ZhcmlhbnQodnIpICYmIHRoaXMuaW1wbGVtZW50YXRpb24uc2hvdyh2cikpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlKHZyLCBgd2VsZGAsIGBfd2VsZGApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB3aXJlOiBmdW5jdGlvbih2cikge1xuICAgICAgICBpZiAodGhpcy5oYXNWYXJpYW50KHZyKSAmJiB0aGlzLmltcGxlbWVudGF0aW9uLnNob3codnIpKSB7XG4gICAgICAgICAgICB0aGlzLmVuc3VyZSh2ciwgYHdpcmVgLCBgX3dpcmVgKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgd29yazogZnVuY3Rpb24odnIpIHsgLy8gd29yayAoY2hhbmdlZCkgc3RhdGUgdG8gY3VycmVudCBtYXRlcmlhbFxuICAgICAgICBpZiAodGhpcy5oYXNWYXJpYW50KHZyKSAmJiB0aGlzLmltcGxlbWVudGF0aW9uLnNob3codnIpKSB7IC8vIHNob3cvaGlkZSBkZXBlbmRpbmcgb24gdGhlIHNwZWNpZmljIGNvbmRpdGlvblxuICAgICAgICAgICAgdGhpcy5lbnN1cmUodnIsIGB3b3JrYCwgYF93b3JrYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl92aXNpYmlsaXR5KHZyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb25lbnQ7XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogQ29udHJvbFxuICogVGhpcyBtYW5hZ2VzIHRoZSBjb250cm9scyB0aGF0IGNvcnJlc3BvbmQgdG8gbGlzdHMgb2YgcmVjb3JkcyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBjb2x1bW5cbiAqIENsaWNraW5nIG9uIGEgY29udHJvbCBzaG93cyB0aGUgY29ycmVzcG9uZGluZyBsaXN0IGFuZCBoaWRlcyBhbGwgb3RoZXJzLlxuICovXG5cbmZ1bmN0aW9uIENvbnRyb2woY29tcG9uZW50KSB7XG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdGhpcy53aWRnZXQgPSB7fTtcbiAgICB0aGlzLmN0bCA9IHt9O1xufTtcblxuQ29udHJvbC5wcm90b3R5cGUgPSB7XG4gICAgX2h0bWw6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmNvbnRhaW5lclt2cl0uaHRtbChgPGEgY2xhc3M9XCJjb250cm9sX3RpdGxlXCIgaHJlZj1cIiNcIj4ke3RoaXMuY29tcG9uZW50LnN0YXRlLnNob3dTdGF0ZSgnbGlzdCcsIHZyLCAnc2cnKX08L2E+IGApO1xuICAgIH0sXG4gICAgX2RyZXNzdXA6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuY3RsW3ZyXS5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc3RhdGUuc2V0U3RhdGUoYGxpc3RgLCB2cik7XG4gICAgICAgIH0uYmluZCh0aGlzKSlcbiAgICB9LFxuICAgIF9pc0FjdGl2ZTogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LnN0YXRlLmdldFN0YXRlKGBsaXN0YCkgPT0gdnI7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbih2cikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuICAgIHdlbGQ6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuX2h0bWwodnIpO1xuICAgICAgICB0aGlzLndpZGdldFt2cl0gPSAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXTtcbiAgICAgICAgdGhpcy53aWRnZXRbdnJdLmFkZENsYXNzKGBjb250cm9sX2JpZ2ApO1xuICAgICAgICB0aGlzLmN0bFt2cl0gPSAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5maW5kKGBhYCk7XG4gICAgfSxcbiAgICB3aXJlOiBmdW5jdGlvbih2cikge1xuICAgICAgICB0aGlzLl9kcmVzc3VwKHZyKTtcbiAgICB9LFxuICAgIHdvcms6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0FjdGl2ZSh2cikpIHtcbiAgICAgICAgICAgIHRoaXMuY3RsW3ZyXS5hZGRDbGFzcyhgaXNvbmApO1xuICAgICAgICAgICAgdGhpcy53aWRnZXRbdnJdLmFkZENsYXNzKGBpc29uYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN0bFt2cl0ucmVtb3ZlQ2xhc3MoYGlzb25gKTtcbiAgICAgICAgICAgIHRoaXMud2lkZ2V0W3ZyXS5yZW1vdmVDbGFzcyhgaXNvbmApO1xuICAgICAgICB9XG4gICAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250cm9sO1xuIiwiLyogSU5ESVZJRFVBTCBDT01QT05FTlQ6IGN0eXBlXG4gKiBUaGlzIG1hbmFnZXMgdGhlIGZhY2V0IFwiY29udHJpYnV0aW9uIHR5cGVcIlxuICovXG5cbnZhciBSZWxhdGl2ZSA9IHJlcXVpcmUoJy4vcmVsYXRpdmUuanMnKTtcblxuZnVuY3Rpb24gQ1R5cGUoY29tcG9uZW50KSB7XG4gICAgUmVsYXRpdmUuY2FsbCh0aGlzLCBjb21wb25lbnQsIGB0eXBlYCk7XG59O1xuXG5DVHlwZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlbGF0aXZlLnByb3RvdHlwZSk7XG5DVHlwZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBDVHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBDVHlwZTtcbiIsIi8qIElORElWSURVQUwgQ09NUE9ORU5UOiBFVW1hcFxuICogVGhpcyBtYW5hZ2VzIGEgY2xpY2thYmxlIG1hcCBvZiB0aGUgRVUgY291bnRyaWVzXG4gKiBTZWUgaHR0cDovL2p2ZWN0b3JtYXAuY29tL2RvY3VtZW50YXRpb24vamF2YXNjcmlwdC1hcGkvanZtLW1hcC9cbiAqL1xuXG52YXIgZyA9IHJlcXVpcmUoJy4vZ2VuZXJpYy5qcycpO1xudmFyIFJlbGF0aXZlID0gcmVxdWlyZSgnLi9yZWxhdGl2ZS5qcycpO1xuXG5mdW5jdGlvbiBFVW1hcChjb21wb25lbnQpIHtcbiAgICBSZWxhdGl2ZS5jYWxsKHRoaXMsIGNvbXBvbmVudCwgYGNvdW50cnlgKTtcbiAgICB0aGlzLl9tYXBfb2JqZWN0ID0ge307XG4gICAgdGhpcy5fbWFwX2NvbnRhaW5lciA9IHt9O1xuICAgIHRoaXMuX21hcmtlciA9IHt9O1xuICAgIHRoaXMuX3NldHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX25vdF9tYXBwZWQgPSB7XG4gICAgICAgICctJzogdHJ1ZSxcbiAgICAgICAgQ1k6IHRydWUsXG4gICAgICAgIEtTOiB0cnVlLFxuICAgICAgICBUUjogdHJ1ZSxcbiAgICAgICAgTUM6IHRydWUsXG4gICAgICAgIEdFOiB0cnVlLFxuICAgIH07XG59O1xuXG5FVW1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlbGF0aXZlLnByb3RvdHlwZSk7XG5FVW1hcC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBFVW1hcDtcbkVVbWFwLnByb3RvdHlwZS5fcHJlSHRtbCA9IGZ1bmN0aW9uKHZyKSB7XG4gICAgcmV0dXJuIGA8ZGl2IGlkPVwibWFwLWV1cm9wZV8ke3ZyfVwiIGNsYXNzPVwicG9zaXRpb25cIj48cCBjbGFzcz1cInpvb21cIj48YSBjbGFzcz1cImZhIGZhLWFycm93c1wiIGhyZWY9XCIjXCIgdGl0bGU9XCJ6b29tIHRvIGZpdCBhbGwgY291bnRyaWVzXCIvPjwvcD48L2Rpdj5gO1xufTtcbkVVbWFwLnByb3RvdHlwZS5fbXlEcmVzc3VwID0gZnVuY3Rpb24odnIpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIGNjID0gdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXTtcbiAgICB0aGlzLl9tYXBfY29udGFpbmVyW3ZyXSA9IGNjLmZpbmQoYCNtYXAtZXVyb3BlXyR7dnJ9YCk7XG4gICAgdmFyIGhlaWdodCA9IHRoaXMuX21hcF9jb250YWluZXJbdnJdLndpZHRoKCkqMC42O1xuICAgIHRoaXMuX21hcF9jb250YWluZXJbdnJdLndpZHRoKGAxMDAlYCk7XG4gICAgdGhpcy5fbWFwX2NvbnRhaW5lclt2cl0uaGVpZ2h0KGhlaWdodCk7XG4gICAgdGhpcy5fbWFwX2NvbnRhaW5lclt2cl0udmVjdG9yTWFwKHtcbiAgICAgICAgJ21hcCc6IGBldXJvcGVfbWlsbGAsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogYCNjY2NjZmZgLFxuICAgICAgICByZWdpb25zU2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgbWFya2Vyc1NlbGVjdGFibGU6IHRydWUsXG4gICAgICAgIHJlZ2lvbnNTZWxlY3RhYmxlT25lOiBmYWxzZSxcbiAgICAgICAgbWFya2Vyc1NlbGVjdGFibGVPbmU6IGZhbHNlLFxuICAgICAgICBtYXJrZXJTdHlsZToge1xuICAgICAgICAgICAgaW5pdGlhbDoge1xuICAgICAgICAgICAgICAgIGZpbGw6IGAjMDA4ODAwYCxcbiAgICAgICAgICAgICAgICAnZmlsbC1vcGFjaXR5JzogMC4yLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogYG5vbmVgLFxuICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAwLFxuICAgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDAuMixcbiAgICAgICAgICAgICAgICAncic6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IGBwb2ludGVyYCxcbiAgICAgICAgICAgICAgICBzdHJva2U6IGAjZmZmZjQ0YCxcbiAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMSxcbiAgICAgICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogYCMwMDg4MDBgLFxuICAgICAgICAgICAgICAgICdmaWxsLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIHJlZ2lvblN0eWxlOiB7XG4gICAgICAgICAgICBpbml0aWFsOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogYCNiYmJiYmJgLFxuICAgICAgICAgICAgICAgICdmaWxsLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgICAgIHN0cm9rZTogYG5vbmVgLFxuICAgICAgICAgICAgICAgICdzdHJva2Utd2lkdGgnOiAwLFxuICAgICAgICAgICAgICAgICdzdHJva2Utb3BhY2l0eSc6IDEsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG92ZXI6IHtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IGBwb2ludGVyYCxcbiAgICAgICAgICAgICAgICBzdHJva2U6IGAjZmZmZjQ0YCxcbiAgICAgICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogMyxcbiAgICAgICAgICAgICAgICAnc3Ryb2tlLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGVkOiB7XG4gICAgICAgICAgICAgICAgZmlsbDogYCNkZDg4NDRgLFxuICAgICAgICAgICAgICAgICdmaWxsLW9wYWNpdHknOiAxLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGVkSG92ZXI6IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIG1hcmtlcnM6IHRoaXMuX21hcmtlclt2cl0sXG4gICAgICAgIHNlcmllczoge1xuICAgICAgICAgICAgbWFya2VyczogW3tcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogWzAsMjBdLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVGdW5jdGlvbjogYGxpbmVhcmAsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZTogYHJgLFxuICAgICAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgICAgIG1heDogMTAwLFxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICByZWdpb25zOiBbe1xuICAgICAgICAgICAgICAgICAgICBzY2FsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ291dGRhcmlhaCc6IGAjZmZmZmZmYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbmRhcmlhaCc6IGAjZmZkZGJiYCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlOiBgZmlsbGAsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogdGhpcy5fc2V0dmFsdWVzW3ZyXSxcbiAgICAgICAgICAgIH1dLFxuICAgICAgICB9LFxuICAgICAgICBvblJlZ2lvblRpcFNob3c6IGZ1bmN0aW9uKGUsIGVsLCByZWxhdGVkX3ZhbHVlKSB7XG4gICAgICAgICAgICBlbC5odG1sKGAke3JlbGF0ZWRfdmFsdWV9OiAkeyhyZWxhdGVkX3ZhbHVlIGluIHRoaXMuX3N0YXRpc3RpY3NbdnJdKT90aGlzLl9zdGF0aXN0aWNzW3ZyXVtyZWxhdGVkX3ZhbHVlXTonbm90IGluIERBUklBSCd9YCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgb25NYXJrZXJUaXBTaG93OiBmdW5jdGlvbihlLCBlbCwgcmVsYXRlZF92YWx1ZSkge1xuICAgICAgICAgICAgZWwuaHRtbChgJHtyZWxhdGVkX3ZhbHVlfTogJHsocmVsYXRlZF92YWx1ZSBpbiB0aGlzLl9zdGF0aXN0aWNzW3ZyXSk/dGhpcy5fc3RhdGlzdGljc1t2cl1bcmVsYXRlZF92YWx1ZV06J25vdCBpbiBEQVJJQUgnfWApO1xuICAgICAgICB9LmJpbmQodGhpcyksXG4gICAgICAgIG9uUmVnaW9uQ2xpY2s6IGZ1bmN0aW9uKGUsIHJlbGF0ZWRfdmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghKHJlbGF0ZWRfdmFsdWUgaW4gdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdKSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpLFxuICAgICAgICBvbk1hcmtlckNsaWNrOiBmdW5jdGlvbihlLCByZWxhdGVkX3ZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIShyZWxhdGVkX3ZhbHVlIGluIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2luZGV4W3ZyXSkpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgb25SZWdpb25TZWxlY3RlZDogZnVuY3Rpb24oZSwgcmVsYXRlZF92YWx1ZSwgaSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5nZV9zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnN0YXRlLnNldFN0YXRlKGByZWxfJHt0aGlzLl90eXBlfV8ke3ZyfWAsIGcuYV90b19zdHIoc2VsZWN0ZWQpK3RoaXMuX3VubWFwcGVkX3NlbGVjdGVkKHZyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICAgICAgb25NYXJrZXJTZWxlY3RlZDogZnVuY3Rpb24oZSwgcmVsYXRlZF92YWx1ZSwgaSwgc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYW5nZV9zdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnN0YXRlLnNldFN0YXRlKGByZWxfJHt0aGlzLl90eXBlfV8ke3ZyfWAsIGcuYV90b19zdHIoc2VsZWN0ZWQpK3RoaXMuX3VubWFwcGVkX3NlbGVjdGVkKHZyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSxcbiAgICB9KTtcbiAgICB2YXIgem9vbV9wID0gY2MuZmluZChgcC56b29tYCk7XG4gICAgem9vbV9wLmNzcyhgdG9wYCwgYCR7aGVpZ2h0LTIwfXB4YCk7XG4gICAgem9vbV9wLmNzcyhgbGVmdGAsIGAxMHB4YCk7XG4gICAgdmFyIHpvb21fY29udHJvbCA9IGNjLmZpbmQoYHAuem9vbSBhYCk7XG4gICAgem9vbV9jb250cm9sLmNsaWNrKGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoYXQuX21hcF9vYmplY3RbdnJdLnNldEZvY3VzKHtyZWdpb25zOiBbYEdCYCwgYEdSYF19KTtcbiAgICB9KTtcbiAgICB0aGlzLl9tYXBfb2JqZWN0W3ZyXSA9IHRoaXMuX21hcF9jb250YWluZXJbdnJdLnZlY3Rvck1hcCgnZ2V0JywgJ21hcE9iamVjdCcpO1xuICAgIHRoaXMuX21hcF9vYmplY3RbdnJdLnNldEZvY3VzKHtyZWdpb25zOiBbYEdCYCwgYEdSYF19KTtcbn07XG5FVW1hcC5wcm90b3R5cGUuX3VubWFwcGVkX3NlbGVjdGVkID0gZnVuY3Rpb24odnIpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIHRoaXNfc3RhdGUgPSB0aGlzLl9mcm9tX3N0cih2ciwgdGhpcy5jb21wb25lbnQuc3RhdGUuZ2V0U3RhdGUoYHJlbF8ke3RoaXMuX3R5cGV9XyR7dnJ9YCkpO1xuICAgIHZhciBlbXB0eSA9IHRydWU7XG4gICAgZm9yICh2YXIgcmVsYXRlZF92YWx1ZSBpbiB0aGlzLl9ub3RfbWFwcGVkKSB7XG4gICAgICAgIGlmIChyZWxhdGVkX3ZhbHVlIGluIHRoaXNfc3RhdGUgJiYgdGhpc19zdGF0ZVtyZWxhdGVkX3ZhbHVlXSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmVsYXRlZF92YWx1ZSk7XG4gICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbXB0eT9gYDooYCxgK3Jlc3VsdC5qb2luKCcsJykpO1xufTtcbkVVbWFwLnByb3RvdHlwZS5fbXlTZXRGYWNldCA9IGZ1bmN0aW9uKHZyLCByZWxhdGVkX3ZhbHVlcykge1xuICAgIHRoaXMuY2hhbmdlX3N0YXRlID0gZmFsc2U7XG4gICAgLyogc29tZSBjb3VudHJpZXMgYXJlIG5vdCBvbiB0aGUgbWFwLCB3ZSBkbyBzaG93IHRob3NlIGNvdW50cmllcyBpbiB0aGUgbGlzdCBidXQgbm90IG9uIHRoZSBtYXAuXG4gICAgICogU2FtZSBmb3IgLSwgdGhlIGtleSB0aGF0IGRlbm90ZXMgQUxMIGNvdW50cmllc1xuICAgICAqL1xuICAgIHZhciBtYXBfcmVnaW9ucyA9IHt9O1xuICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gcmVsYXRlZF92YWx1ZXMpIHtcbiAgICAgICAgaWYgKCEocmVsYXRlZF92YWx1ZSBpbiB0aGlzLl9ub3RfbWFwcGVkKSAmJiByZWxhdGVkX3ZhbHVlICE9IHRoaXMuX25vX3ZhbHVlcy52YWx1ZSkge1xuICAgICAgICAgICAgbWFwX3JlZ2lvbnNbcmVsYXRlZF92YWx1ZV0gPSByZWxhdGVkX3ZhbHVlc1tyZWxhdGVkX3ZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9tYXBfb2JqZWN0W3ZyXS5zZXRTZWxlY3RlZFJlZ2lvbnMobWFwX3JlZ2lvbnMpO1xuICAgIHRoaXMuX21hcF9vYmplY3RbdnJdLnNldFNlbGVjdGVkTWFya2VycyhtYXBfcmVnaW9ucyk7XG4gICAgdGhpcy5jaGFuZ2Vfc3RhdGUgPSB0cnVlO1xufTtcbkVVbWFwLnByb3RvdHlwZS5fbXlTdGF0cyA9IGZ1bmN0aW9uKHZyKSB7XG4gICAgdmFyIHRvdGFsID0gdGhpcy5kaXN0aWxsZWRbdnJdLmxlbmd0aDtcbiAgICBpZiAodG90YWwgPT0gMCkge3RvdGFsID0gMX1cbiAgICB2YXIgd2VpZ2h0ZWRfc3RhdGlzdGljcyA9IHt9O1xuICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gdGhpcy5fc3RhdGlzdGljc1t2cl0pIHtcbiAgICAgICAgaWYgKHJlbGF0ZWRfdmFsdWUgIT0gdGhpcy5fbm9fdmFsdWVzLnZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcHIgPSAxMDAgKiB0aGlzLl9zdGF0aXN0aWNzW3ZyXVtyZWxhdGVkX3ZhbHVlXSAvIHRvdGFsO1xuICAgICAgICAgICAgd2VpZ2h0ZWRfc3RhdGlzdGljc1tyZWxhdGVkX3ZhbHVlXSA9ICh0b3RhbCA8IDEwKT9wcjooMTAqTWF0aC5zcXJ0KHByKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fbWFwX29iamVjdFt2cl0uc2VyaWVzLm1hcmtlcnNbMF0uc2V0VmFsdWVzKHdlaWdodGVkX3N0YXRpc3RpY3MpO1xufTtcbkVVbWFwLnByb3RvdHlwZS5fcGxhaW5XZWxkID0gZnVuY3Rpb24odnIpIHt9O1xuRVVtYXAucHJvdG90eXBlLl9teVdlbGQgPSBmdW5jdGlvbih2cikge1xuICAgIHRoaXMuX21hcmtlclt2cl0gPSB7fTtcbiAgICB0aGlzLl9zZXR2YWx1ZXNbdnJdID0ge307XG4gICAgdmFyIHJlbGF0ZWRfdmFsdWVzID0gdGhpcy5jb21wb25lbnQucmVsYXRlZF92YWx1ZXNbdnJdO1xuICAgIGZvciAodmFyIGkgaW4gcmVsYXRlZF92YWx1ZXMpIHtcbiAgICAgICAgdmFyIHJlbGF0ZWRfdmFsdWUgPSByZWxhdGVkX3ZhbHVlc1tpXTtcbiAgICAgICAgaWYgKHJlbGF0ZWRfdmFsdWVbMV0pIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX29mZlt2cl1baV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX29uW3ZyXVtpXSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGVkX3ZhbHVlc19saXN0W3ZyXS5wdXNoKGkpO1xuICAgICAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdW2ldID0gcmVsYXRlZF92YWx1ZVswXTtcbiAgICAgICAgICAgIGlmIChyZWxhdGVkX3ZhbHVlLmxlbmd0aCA+IDMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tYXJrZXJbdnJdW2ldID0ge2xhdExuZzogW3JlbGF0ZWRfdmFsdWVbMl0sIHJlbGF0ZWRfdmFsdWVbM11dLCBuYW1lOiByZWxhdGVkX3ZhbHVlWzBdfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NldHZhbHVlc1t2cl1baV0gPSAnaW5kYXJpYWgnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2V0dmFsdWVzW3ZyXVtpXSA9ICdvdXRkYXJpYWgnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2xpc3RbdnJdLnNvcnQoZnVuY3Rpb24oYSxiKSB7XG4gICAgICAgIHJldHVybiAocmVsYXRlZF92YWx1ZXNbYV0gPCByZWxhdGVkX3ZhbHVlc1tiXSk/LTE6KHJlbGF0ZWRfdmFsdWVzW2FdWzBdID4gcmVsYXRlZF92YWx1ZXNbYl1bMF0pPzE6MDsgXG4gICAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVVbWFwO1xuIiwiLyogSU5ESVZJRFVBTCBDT01QT05FTlQ6IEZhY2V0c1xuICogVGhpcyBzZXRzIHVwIGEgbGlzdCBvZiBmYWNldHMgZm9yIHRoZSBsaXN0cyBvZiByZWNvcmRzIHRvIGJlIGRpc3BsYXllZCBpbiB0aGUgbWlkZGxlIGNvbHVtblxuICogSXQgd2lsbCBob3N0IGluZGl2aWR1YWwgZmFjZXRzXG4gKi9cblxudmFyIGcgPSByZXF1aXJlKCcuL2dlbmVyaWMuanMnKTtcblxuZnVuY3Rpb24gRmFjZXQoY29tcG9uZW50KSB7XG4gICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgdGhpcy5fc3RhdHMgPSB7fTtcbiAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICB0aGlzLnRhYmxlID0ge307XG4gICAgdGhpcy5kaXN0aWxsZWQgPSB7fTtcbiAgICB0aGlzLmVuYWJsZWRfZmFjZXRzID0ge307XG59O1xuXG5GYWNldC5wcm90b3R5cGUgPSB7XG4gICAgX2h0bWw6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHZhciBoID0gYGA7XG4gICAgICAgIGggKz0gYDxwPjxzcGFuIGZjdD1cImFsbFwiPjwvc3Bhbj5GaWx0ZXJpbmcgPHNwYW4gaWQ9XCJmc3RhdHNfJHt2cn1cIj48L3NwYW4+PC9wPmA7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmNvbnRhaW5lclt2cl0uaHRtbChoKTtcbiAgICB9LFxuICAgIHNob3c6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdGF0ZS5nZXRTdGF0ZShgbGlzdGApID09IHZyO1xuICAgIH0sXG4gICAgd2VsZDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jb21wb25lbnQuY2hpbGRyZW47XG4gICAgICAgIHRoaXMuZW5hYmxlZF9mYWNldHNbdnJdID0ge307XG4gICAgICAgIGZvciAodmFyIGZhY2V0X25hbWUgaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHZhciBmYWNldF9jb21wb25lbnQgPSBjaGlsZHJlbltmYWNldF9uYW1lXTtcbiAgICAgICAgICAgIGlmIChmYWNldF9jb21wb25lbnQuaGFzVmFyaWFudCh2cikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZWRfZmFjZXRzW3ZyXVtmYWNldF9uYW1lXSA9IGNoaWxkcmVuW2ZhY2V0X25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2h0bWwodnIpO1xuICAgIH0sXG4gICAgX2Rpc3BsYXk6IGZ1bmN0aW9uKGV4cGFuZF9jb250cm9sLCBtb2RlKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdmFyIGR0ID0gZXhwYW5kX2NvbnRyb2wuY2xvc2VzdChgcGApO1xuICAgICAgICB2YXIgaGlkZWMgPSBkdC5maW5kKGAuaGlkZWNgKTtcbiAgICAgICAgdmFyIG1vcmVjID0gZHQuZmluZChgLm1vcmVjYCk7XG4gICAgICAgIHZhciBzaG93YyA9IGR0LmZpbmQoYC5zaG93Y2ApO1xuICAgICAgICB2YXIgZXhwYW5kZWRfbWF0ZXJpYWwgPSBleHBhbmRfY29udHJvbC5jbG9zZXN0KGBkaXZgKS5maW5kKGB0YWJsZSwuZmx0YCk7XG4gICAgICAgIHZhciBjb25kZW5zZWRfbWF0ZXJpYWwgPSBleHBhbmRfY29udHJvbC5jbG9zZXN0KGBkaXZgKS5maW5kKGAudmFsdWVfbGlzdDIsLmZsdF9jb21wYWN0YCk7XG4gICAgICAgIHZhciBub3RfZXhwYW5kZWRfbWF0ZXJpYWwgPSBleHBhbmRfY29udHJvbC5jbG9zZXN0KGBkaXZgKS5maW5kKGAuZmx0X25vdF9leHBhbmRlZGApO1xuICAgICAgICB2YXIga2V5ID0gYGZjdHhfJHtleHBhbmRfY29udHJvbC5jbG9zZXN0KCdzcGFuJykuYXR0cignZmN0Jyl9YDtcbiAgICAgICAgdmFyIG1vZGVfdW5kZWYgPSBtb2RlID09IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKG1vZGVfdW5kZWYpIHtcbiAgICAgICAgICAgIGlmIChnLmxvY2Fsc3RvcmFnZV92YXJzLmlzU2V0KGtleSkpIHtcbiAgICAgICAgICAgICAgICBtb2RlID0gZy5sb2NhbHN0b3JhZ2VfdmFycy5nZXQoa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vZGUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBhbGxfZmFjZXRzID0ga2V5ID09IGBmY3R4X2FsbGA7XG4gICAgICAgIGlmIChhbGxfZmFjZXRzICYmICFtb2RlX3VuZGVmKSB7XG4gICAgICAgICAgICBleHBhbmRfY29udHJvbC5jbG9zZXN0KGBkaXZgKS5maW5kKGBkaXYuY29tcG9uZW50IHNwYW5bZmN0XWApLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5fZGlzcGxheSgkKHRoaXMpLCBtb2RlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGcubG9jYWxzdG9yYWdlX3ZhcnMuc2V0KGtleSwgbW9kZSk7XG4gICAgICAgIGlmIChtb2RlID09IDApIHtcbiAgICAgICAgICAgIGhpZGVjLnNob3coKTtcbiAgICAgICAgICAgIG1vcmVjLmhpZGUoKTtcbiAgICAgICAgICAgIHNob3djLmhpZGUoKTtcbiAgICAgICAgICAgIGlmICghYWxsX2ZhY2V0cykge1xuICAgICAgICAgICAgICAgIG5vdF9leHBhbmRlZF9tYXRlcmlhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgZXhwYW5kZWRfbWF0ZXJpYWwuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGNvbmRlbnNlZF9tYXRlcmlhbC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PSAxKSB7XG4gICAgICAgICAgICBoaWRlYy5oaWRlKCk7XG4gICAgICAgICAgICBtb3JlYy5zaG93KCk7XG4gICAgICAgICAgICBzaG93Yy5oaWRlKCk7XG4gICAgICAgICAgICBpZiAoIWFsbF9mYWNldHMpIHtcbiAgICAgICAgICAgICAgICBub3RfZXhwYW5kZWRfbWF0ZXJpYWwuc2hvdygpO1xuICAgICAgICAgICAgICAgIGV4cGFuZGVkX21hdGVyaWFsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBjb25kZW5zZWRfbWF0ZXJpYWwuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGlkZWMuaGlkZSgpO1xuICAgICAgICAgICAgbW9yZWMuaGlkZSgpO1xuICAgICAgICAgICAgc2hvd2Muc2hvdygpO1xuICAgICAgICAgICAgaWYgKCFhbGxfZmFjZXRzKSB7XG4gICAgICAgICAgICAgICAgbm90X2V4cGFuZGVkX21hdGVyaWFsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICBleHBhbmRlZF9tYXRlcmlhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgY29uZGVuc2VkX21hdGVyaWFsLmhpZGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgd2lyZTogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgY2MgPSB0aGlzLmNvbXBvbmVudC5jb250YWluZXJbdnJdO1xuICAgICAgICB2YXIgbGMgPSB0aGlzLmNvbXBvbmVudC5wYWdlLmdldENvbXBvbmVudChgbGlzdGApLmNvbnRhaW5lclt2cl07XG4gICAgICAgIHRoaXMuX3N0YXRzW3ZyXSA9IGNjLmZpbmQoYCNmc3RhdHNfJHt2cn1gKTtcbiAgICAgICAgdGhpcy50YWJsZVt2cl0gPSAgbGMuZmluZChgI3RhYmxlXyR7dnJ9YCk7XG4gICAgICAgIHZhciBpbmZvID0gYCBkZXRhaWxzOyBjbGljayB0byBjaGFuZ2UgbGV2ZWwgb2YgZGV0YWlsc2A7XG4gICAgICAgIHZhciBkZXRhaWxjb250cm9scyA9IGA8YSBjbGFzcz1cInNob3djIGZhIGZhLWZ3IGZhLWxpc3QtdWxcIiBocmVmPVwiI1wiIHRpdGxlPVwiZnVsbCR7aW5mb31cIj48L2E+PGEgY2xhc3M9XCJtb3JlYyBmYSBmYS1mdyBmYS1hbGlnbi1sZWZ0XCIgaHJlZj1cIiNcIiB0aXRsZT1cImNvbmRlbnNlZCR7aW5mb31cIj48L2E+PGEgY2xhc3M9XCJoaWRlYyBmYSBmYS1mdyBmYS1taW51c1wiIGhyZWY9XCIjXCIgdGl0bGU9XCJoaWRkZW4ke2luZm99XCI+PC9hPmA7XG4gICAgICAgIGNjLmFkZENsYXNzKGBmYWNldGApO1xuICAgICAgICBjYy5maW5kKGBzcGFuW2ZjdF1gKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5odG1sKGAke2RldGFpbGNvbnRyb2xzfSZuYnNwYCk7XG4gICAgICAgICAgICB0aGF0Ll9kaXNwbGF5KCQodGhpcykpO1xuICAgICAgICB9KTtcbiAgICAgICAgY2MuZmluZChgLmhpZGVjYCkuY2xpY2soZnVuY3Rpb24oZSkge2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoYXQuX2Rpc3BsYXkoJCh0aGlzKSwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYy5maW5kKGAubW9yZWNgKS5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhhdC5fZGlzcGxheSgkKHRoaXMpLCAyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLmZpbmQoYC5zaG93Y2ApLmNsaWNrKGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGF0Ll9kaXNwbGF5KCQodGhpcyksIDApO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHdvcms6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMudGFibGVbdnJdLmZpbmQoYHRyW2lkXWApLmhpZGUoKTtcbiAgICAgICAgdmFyIG1vdGhlcl9saXN0ID0gdGhpcy5jb21wb25lbnQucGFnZS5nZXRDb21wb25lbnQoYGxpc3RgKTtcbiAgICAgICAgdmFyIGRhdGEgPSBtb3RoZXJfbGlzdC5kYXRhW3ZyXTtcbiAgICAgICAgdmFyIGZhY2V0cyA9IHRoaXMuZW5hYmxlZF9mYWNldHNbdnJdO1xuICAgICAgICB0aGlzLmRpc3RpbGxlZFt2cl0gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgZmFjZXRfbmFtZSBpbiBmYWNldHMpIHtcbiAgICAgICAgICAgIHZhciBmYWNldD0gZmFjZXRzW2ZhY2V0X25hbWVdLmltcGxlbWVudGF0aW9uO1xuICAgICAgICAgICAgZmFjZXQuZGlzdGlsbGVkW3ZyXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgICAgICB2YXIgdiA9IHRydWU7IC8vIHdpbGwgaG9sZCB3aGV0aGVyIHRoaXMgcm93IHBhc3NlcyBhbGwgZmFjZXRzXG4vKiBXZSBjb2xsZWN0IGluIHRoZSBkaXN0aWxsZWQgbWVtYmVyIG9mIHRoaXMgZmFjZXQgb2JqZWN0IHRoZSBjb2xsZWN0aXZlIHJlc3VsdHMgb2YgYWxsIGluZGl2aWR1YWwgZmFjZXRzLFxuICogTW9yZW92ZXIsIGZvciBlYWNoIGZhY2V0LCB3ZSBjb2xsZWN0IGluIGl0cyBkaXN0aWxsZWQgbWVtYmVyIHRoZSByZXN1bHRzIHdoZW4gYWxsIGZhY2V0cyBhcmUgYXBwbGllZCBleGNlcHQgdGhlIGZhY2V0IGluIHF1ZXN0aW9uXG4gKiBzbzogXG4gKiAxLiByb3dzIHdpdGggYSBmYWlsdXJlIGZvciAyIG9yIG1vcmUgZmFjZXRzIGFyZSBkaXNjYXJkZWRcbiAqIDIuIHJvd3Mgd2l0aCBhIGZhaWx1cmUgZm9yIGV4YWN0bHkgb25lIGZhY2V0IGFyZSBhZGRlZCB0byB0aGUgZGF0YSBmb3IgdGhhdCBmYWNldFxuICogMy4gcm93cyB3aGljaCBwYXNzIGFsbCBmYWNldHMgYXJlIGFkZGVkIHRvIGFsbCBmYWNldHMsIGFuZCBhbHNvIHRvIHRoZSBmaW5hbCBmaWx0ZXJlZCBzZXRcbiAqL1xuICAgICAgICAgICAgdmFyIHRoZV9mYWxzZSA9IG51bGw7IC8vIHdoaWNoIGZhY2V0IGhhcyB5aWVsZGVkIGZhbHNlIChpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIG9uZSB3ZSdsbCBkaXNjYXJkIHRoZSByb3dcbiAgICAgICAgICAgIHZhciBkaXNjYXJkID0gZmFsc2U7IC8vIGJlY29tZXMgdHJ1ZSB3aGVuIHdlIGhhdmUgZW5jb3VudGVyZCAyIGZhY2V0cyB0aGF0IHlpZWxkIGZhbHNlXG4gICAgICAgICAgICBmb3IgKHZhciBmYWNldF9uYW1lIGluIGZhY2V0cykge1xuICAgICAgICAgICAgICAgIGlmICghZGlzY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZXQgPSBmYWNldHNbZmFjZXRfbmFtZV0uaW1wbGVtZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzX3YgPSBmYWNldC52KHZyLCBkWzBdKTsgLy8gdGhpc192OiB3aGV0aGVyIHRoZSByb3cgcGFzc2VzIHRoaXMgZmFjZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzX3YpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGVfZmFsc2UgPT0gbnVsbCkgeyAvLyB0aGlzIGlzIHRoZSBmaXJzdCBmYWlsdXJlLCB3ZSBzdG9yZSB0aGUgZmFjZXQgbnVtYmVyIGluIHRoZV9mYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9mYWxzZSA9IGZhY2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHdlIGRpc2NhcmQgdGhlIHJvdyBhbHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjYXJkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlzY2FyZCkge1xuICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlzdGlsbGVkW3ZyXS5wdXNoKGRbMF0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlW3ZyXS5maW5kKGB0cltpZD1cInIke2RbMF19XCJdYCkuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhlX2ZhbHNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhlX2ZhbHNlLmRpc3RpbGxlZFt2cl0ucHVzaChkWzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZhY2V0X25hbWUgaW4gZmFjZXRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZXQgPSBmYWNldHNbZmFjZXRfbmFtZV0uaW1wbGVtZW50YXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWNldC5kaXN0aWxsZWRbdnJdLnB1c2goZFswXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBmYWNldF9uYW1lIGluIGZhY2V0cykge1xuICAgICAgICAgICAgdmFyIGZhY2V0ID0gZmFjZXRzW2ZhY2V0X25hbWVdLmltcGxlbWVudGF0aW9uO1xuICAgICAgICAgICAgZmFjZXQuc3RhdHModnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRzW3ZyXS5odG1sKGAke3RoaXMuZGlzdGlsbGVkW3ZyXS5sZW5ndGh9IG9mICR7ZGF0YS5sZW5ndGh9YCk7XG4gICAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRmFjZXQ7XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogRmlsdGVyc1xuICogVGhpcyBpcyBhIGxpc3Qgb2YgZmlsdGVyIGNvbnRyb2xzIGNvcnJlc3BvbmRpbmcgdG8gbGlzdHMgb2YgcmVjb3JkcyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBjb2x1bW5cbiAqIFNldHRpbmcgYSBmaWx0ZXIgY29udHJvbCBmaWx0ZXJzIHRoZSBhc3NvY2lhdGVkIGxpc3QuXG4gKi9cblxuZnVuY3Rpb24gRmlsdGVyKGNvbXBvbmVudCkge1xuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIHRoaXMuX3RhZ3MgPSB7fTtcbiAgICB0aGlzLl9maWx0ZXJfY29udHJvbCA9IHt9O1xuICAgIHRoaXMuX2ZpbHRlcl9jb250cm9sMiA9IHt9O1xuICAgIHRoaXMuX2JveCA9IHt9O1xuICAgIHRoaXMuX2NvbXBsZXRpb25zX2RzdCA9IHt9O1xuICAgIHRoaXMuX3N0YXRzX2RzdCA9IHt9O1xuICAgIHRoaXMuX2NsZWFyX2ZpbHRlcl9jb250cm9sID0ge307XG4gICAgdGhpcy5fd2lyZV9tb2RlID0ge307XG4gICAgdGhpcy5fZGlzdGlsbGVkID0ge307XG4gICAgdGhpcy5kaXN0aWxsZWQgPSB7fTtcbn07XG5cbkZpbHRlci5wcm90b3R5cGUgPSB7XG4gICAgX2h0bWw6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHZhciBoID0gYFxuPGRpdj5cbiAgICA8cCBjbGFzcz1cImRjdHJsXCI+PHNwYW4gZmN0PVwiJHt0aGlzLmNvbXBvbmVudC5uYW1lfS0ke3ZyfVwiPjwvc3Bhbj4gQnkgZnVsbCB0ZXh0IHNlYXJjaFxuICAgICAgICA8YSBocmVmPVwiI1wiIHRpdGxlPVwibW9kaWZ5IGZ1bGwgdGV4dCBmaWx0ZXJcIiBpZD1cImZsdDJfJHt2cn1cIiBjbGFzcz1cImZsdF9ub3RfZXhwYW5kZWQgZmFjZXRfc2luZ2xlIGlzb24gZmx0X3BhdFwiPjwvYT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImNvbnRyb2xfbWVkIGZhIGZhLWNsb3NlIGZpbHRjXCIgaWQ9XCJjbGVhcmZfJHt2cn1cIj48L2E+XG4gICAgPC9wPlxuICAgIDxkaXYgaWQ9XCJmbHR3XyR7dnJ9XCI+XG4gICAgICAgIDxwIGlkPVwiZmJveF8ke3ZyfVwiIGNsYXNzPVwiZmx0IGNvbnRyb2xfbWVkIGZib3ggdWktd2lkZ2V0XCI+XG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJmbHRfJHt2cn1cIiBjbGFzcz1cImZsdCBmbHRfcGF0XCIvPlxuICAgICAgICAgICAgPHNwYW4gZmJveCBjbGFzcz1cInN0YXRzXCIgaWQ9XCJzdGF0c18ke3ZyfVwiPjwvc3Bhbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8ZGl2IGlkPVwiYXV0b2NfJHt2cn1cIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+aGVyZSAke3ZyfTwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YDtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5odG1sKGgpO1xuICAgIH0sXG4gICAgX3NldEZpbHRlcjogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIHRleHRmID0gdGhpcy5jb21wb25lbnQuc3RhdGUuZ2V0U3RhdGUoYGZsdF8ke3ZyfWApO1xuICAgICAgICB0aGlzLl9maWx0ZXJfY29udHJvbDJbdnJdLmh0bWwodGV4dGYpO1xuICAgICAgICB0aGlzLl9maWx0ZXJfY29udHJvbFt2cl0udmFsKHRleHRmKTtcbiAgICAgICAgdGhpcy5fZmlsdGVyX2NvbnRyb2xbdnJdLmF1dG9jb21wbGV0ZShgc2VhcmNoYCwgdGV4dGYpO1xuICAgIH0sXG4gICAgX3Jlc3BvbnNlOiBmdW5jdGlvbih2cikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXZlbnQsIHVpKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXN0aWxsZWRbdnJdID0ge307XG4gICAgICAgICAgICB1aS5jb250ZW50LmZvckVhY2goZnVuY3Rpb24odSwgaSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3RpbGxlZFt2cl1bdS52YWx1ZV0gPSAxO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgICAgICBpZiAoISh0aGlzLl93aXJlX21vZGVbdnJdKSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ZiA9IHRoaXMuX2ZpbHRlcl9jb250cm9sW3ZyXS52YWwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdGF0ZS5zZXRTdGF0ZShgZmx0XyR7dnJ9YCwgdGV4dGYpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgfSxcbiAgICBfc2V0Q2xlYXI6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuX2NsZWFyX2ZpbHRlcl9jb250cm9sW3ZyXS5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5fZmlsdGVyX2NvbnRyb2xbdnJdLnZhbChgYCk7XG4gICAgICAgICAgICB0aGlzLl9maWx0ZXJfY29udHJvbFt2cl0uYXV0b2NvbXBsZXRlKGBzZWFyY2hgLCBgYCk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcbiAgICBzdGF0czogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIHN0YXRfcHJlZml4O1xuICAgICAgICBpZiAodGhpcy5fZmlsdGVyX2NvbnRyb2xbdnJdLnZhbCgpID09IGBgKSB7XG4gICAgICAgICAgICBzdGF0X3ByZWZpeCA9IGBgO1xuICAgICAgICAgICAgdGhpcy5fc3RhdHNfZHN0W3ZyXS5yZW1vdmVDbGFzcyhgaXNvbmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhdF9wcmVmaXggPSBgJHt0aGlzLmZhY2V0LmRpc3RpbGxlZFt2cl0ubGVuZ3RofSBvZiBgO1xuICAgICAgICAgICAgdGhpcy5fc3RhdHNfZHN0W3ZyXS5hZGRDbGFzcyhgaXNvbmApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRzX2RzdFt2cl0uaHRtbChgJHtzdGF0X3ByZWZpeH0ke3RoaXMuZGlzdGlsbGVkW3ZyXS5sZW5ndGh9YCk7XG4gICAgfSxcbiAgICB2OiBmdW5jdGlvbih2ciwgaSkge1xuICAgICAgICByZXR1cm4gKGkgaW4gdGhpcy5fZGlzdGlsbGVkW3ZyXSk7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbih2cikge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29tcG9uZW50LnN0YXRlLmdldFN0YXRlKGBsaXN0YCkgPT0gdnIpO1xuICAgIH0sXG4gICAgd2VsZDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdGhpcy5faHRtbCh2cik7XG4gICAgfSxcbiAgICB3aXJlOiBmdW5jdGlvbih2cikge1xuICAgICAgICBpZiAoIXRoaXMuZmFjZXQpIHtcbiAgICAgICAgICAgIHRoaXMuZmFjZXQgPSB0aGlzLmNvbXBvbmVudC5wYWdlLmdldENvbXBvbmVudChgZmFjZXRgKS5pbXBsZW1lbnRhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGF0YSA9IHRoaXMuY29tcG9uZW50LnBhZ2UuZ2V0Q29tcG9uZW50KGBsaXN0YCkuZGF0YVt2cl07XG4gICAgICAgIHRoaXMuX3RhZ3NbdnJdID0gW107XG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkLCBpKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdzW3ZyXS5wdXNoKHtsYWJlbDogZFsxXSwgdmFsdWU6IGAke2RbMF19YH0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgdGhpcy5fZGlzdGlsbGVkW3ZyXSA9IHt9O1xuICAgICAgICB0aGlzLmRpc3RpbGxlZFt2cl0gPSBbXTtcbiAgICAgICAgdmFyIGNjID0gdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXTtcbiAgICAgICAgdmFyIGNmID0gY2MuZmluZChgI2ZsdHdfJHt2cn1gKTtcbiAgICAgICAgdmFyIGZsdCA9ICQoYCNmbHRfJHt2cn1gKTtcbiAgICAgICAgdGhpcy5fZmlsdGVyX2NvbnRyb2xbdnJdID0gZmx0O1xuICAgICAgICB2YXIgZmx0MiA9ICQoYCNmbHQyXyR7dnJ9YCk7XG4gICAgICAgIHRoaXMuX2ZpbHRlcl9jb250cm9sMlt2cl0gPSBmbHQyO1xuICAgICAgICB0aGlzLl9ib3hbdnJdID0gY2YuZmluZChgI2Zib3hfJHt2cn1gKTtcbiAgICAgICAgdGhpcy5fY29tcGxldGlvbnNfZHN0W3ZyXSA9IGNmLmZpbmQoYCNhdXRvY18ke3ZyfWApO1xuICAgICAgICB0aGlzLl9zdGF0c19kc3RbdnJdID0gY2YuZmluZChgI3N0YXRzXyR7dnJ9YCk7XG4gICAgICAgIHRoaXMuX2NsZWFyX2ZpbHRlcl9jb250cm9sW3ZyXSA9IGNjLmZpbmQoYCNjbGVhcmZfJHt2cn1gKTtcbiAgICAgICAgdGhpcy5fZmlsdGVyX2NvbnRyb2xbdnJdLmF1dG9jb21wbGV0ZSh7XG4gICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5fY29tcGxldGlvbnNfZHN0W3ZyXSxcbiAgICAgICAgICAgIHNvdXJjZTogdGhpcy5fdGFnc1t2cl0sXG4gICAgICAgICAgICByZXNwb25zZTogdGhpcy5fcmVzcG9uc2UodnIpLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICB9KTtcbiAgICAgICAgZmx0Mi5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KGBkaXZgKS5maW5kKGAubW9yZWNgKS5jbGljaygpO1xuICAgICAgICAgICAgZmx0WzBdLmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl93aXJlX21vZGVbdnJdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fc2V0Q2xlYXIodnIpO1xuICAgICAgICB0aGlzLl9zZXRGaWx0ZXIodnIpO1xuICAgICAgICB0aGlzLl93aXJlX21vZGVbdnJdID0gZmFsc2U7XG4gICAgfSxcbiAgICB3b3JrOiBmdW5jdGlvbih2cikge1xuICAgICAgICB2YXIgdGV4dGYgPSB0aGlzLmNvbXBvbmVudC5zdGF0ZS5nZXRTdGF0ZShgZmx0XyR7dnJ9YCk7XG4gICAgICAgIGlmICh0ZXh0ZiA9PSBgYCkge1xuICAgICAgICAgICAgdGhpcy5fYm94W3ZyXS5yZW1vdmVDbGFzcyhgaXNvbmApO1xuICAgICAgICAgICAgdGhpcy5fY2xlYXJfZmlsdGVyX2NvbnRyb2xbdnJdLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2JveFt2cl0uYWRkQ2xhc3MoYGlzb25gKTtcbiAgICAgICAgICAgIHRoaXMuX2NsZWFyX2ZpbHRlcl9jb250cm9sW3ZyXS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlsdGVyX2NvbnRyb2wyW3ZyXS5odG1sKHRleHRmKTtcbiAgICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBGaWx0ZXI7XG4iLCIvKiBHRU5FUklDXG4gKiBTb21lIGZ1bmN0aW9uIGZvciB2ZXJ5IGdlbmVyaWMgcHVycG9zZXNcbiAqL1xuXG52YXIgZXNjYXBlSFRNTCA9IChmdW5jdGlvbiAoKSB7XG4gICAgYHVzZSBzdHJpY3RgO1xuICAgIHZhciBjaHIgPSB7XG4gICAgICAgICcmJzogYCZhbXA7YCwgJzwnOiBgJmx0O2AsICAnPic6IGAmZ3Q7YFxuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoL1smPD5dL2csIGZ1bmN0aW9uIChhKSB7IHJldHVybiBjaHJbYV07IH0pO1xuICAgIH07XG59KCkpO1xuXG52YXIgX1JlcXVlc3QgPSB7XG4gICAgcGFyYW1ldGVyOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcmFtZXRlcnMoKVtuYW1lXTtcbiAgICB9LFxuICAgIHBhcmFtZXRlcnM6IGZ1bmN0aW9uKHVyaSkge1xuICAgICAgICB2YXIgaSwgcGFyYW1ldGVyLCBwYXJhbXMsIHF1ZXJ5LCByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAoIXVyaSkge1xuICAgICAgICAgICAgdXJpID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXJpLmluZGV4T2YoXCI/XCIpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIHF1ZXJ5ID0gdXJpLnNsaWNlKDEpO1xuICAgICAgICBwYXJhbXMgPSBxdWVyeS5zcGxpdChcIiZcIik7XG4gICAgICAgIHBhcmFtcy5mb3JFYWNoKGZ1bmN0aW9uKHAsIGkpIHtcbiAgICAgICAgICAgIHBhcmFtZXRlciA9IHAuc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICAgcmVzdWx0W3BhcmFtZXRlclswXV0gPSBwYXJhbWV0ZXJbMV07XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn07XG5cbnZhciByZXF1ZXN0X3ZhcnMgPSBfUmVxdWVzdC5wYXJhbWV0ZXJzKCk7XG52YXIgX2xvY2Fsc3RvcmFnZSA9ICQuaW5pdE5hbWVzcGFjZVN0b3JhZ2UoYHJlcWApO1xudmFyIGxvY2Fsc3RvcmFnZV92YXJzID0gX2xvY2Fsc3RvcmFnZS5sb2NhbFN0b3JhZ2U7XG5cbmZ1bmN0aW9uIGRlc2VsZWN0VGV4dCgpIHtcbiAgICBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uKSB7XG4gICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuICAgIH1cbiAgICBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICB9XG59O1xuXG5mdW5jdGlvbiBzZWxlY3RUZXh0KGNvbnRhaW5lcmlkKSB7XG4gICAgZGVzZWxlY3RUZXh0KCk7XG4gICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICByYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJpZCkpO1xuICAgICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgICB2YXIgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICByYW5nZS5zZWxlY3ROb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcmlkKSk7XG4gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxufTtcblxuZnVuY3Rpb24gdG9nZ2xlRGV0YWlsKHdpZGdldCwgZGV0YWlsLCBleHRyYSkge1xuICAgIHZhciB0aGVkZXRhaWwgPSAoZGV0YWlsID09IHVuZGVmaW5lZCk/d2lkZ2V0LmNsb3Nlc3QoJ2RpdicpLmZpbmQoJy5kZXRhaWwnKTpkZXRhaWw7XG4gICAgdGhlZGV0YWlsLnRvZ2dsZSgpO1xuICAgIGlmIChleHRyYSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXh0cmEod2lkZ2V0KTtcbiAgICB9XG4gICAgdmFyIHRoaXNjbCwgb3RoZXJjbDtcbiAgICBpZiAod2lkZ2V0Lmhhc0NsYXNzKCdmYS1jaGV2cm9uLXJpZ2h0JykpIHtcbiAgICAgICAgdGhpc2NsID0gJ2ZhLWNoZXZyb24tcmlnaHQnO1xuICAgICAgICBvdGhlcmNsID0gJ2ZhLWNoZXZyb24tZG93bic7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzY2wgPSAnZmEtY2hldnJvbi1kb3duJztcbiAgICAgICAgb3RoZXJjbCA9ICdmYS1jaGV2cm9uLXJpZ2h0JztcbiAgICB9XG4gICAgd2lkZ2V0LnJlbW92ZUNsYXNzKHRoaXNjbCk7XG4gICAgd2lkZ2V0LmFkZENsYXNzKG90aGVyY2wpO1xufTtcblxuZnVuY3Rpb24gY29tcGFjdChjdXRvZmYsIHNpemUsIHRleHQpIHtcbiAgICByZXR1cm4gKHRleHQubGVuZ3RoID4gY3V0b2ZmKT90ZXh0LnJlcGxhY2UoL1teIC1dKy9nLCBmdW5jdGlvbih4KXtyZXR1cm4geC5zdWJzdHIoMCxzaXplKX0pOnRleHQ7XG59O1xuXG5mdW5jdGlvbiBmcm9tX3N0cihzdCkge1xuICAgIHZhciBvYiA9IHt9O1xuICAgIGlmIChzdCAhPT0gbnVsbCAmJiBzdCAhPSB1bmRlZmluZWQgJiYgc3QgIT0gJycpIHtcbiAgICAgICAgdmFyIGFyID0gc3Quc3BsaXQoJywnKTtcbiAgICAgICAgYXIuZm9yRWFjaChmdW5jdGlvbih2KSB7XG4gICAgICAgICAgICBvYlt2XSA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gb2I7XG59O1xuZnVuY3Rpb24gYV90b19zdHIoYXIpIHtcbiAgICByZXR1cm4gYXIuam9pbignLCcpO1xufTtcbmZ1bmN0aW9uIHRvX3N0cihvYikge1xuICAgIHZhciBhciA9IFtdO1xuICAgIGZvciAodmFyIHggaW4gb2IpIHtcbiAgICAgICAgaWYgKG9iW3hdKSB7XG4gICAgICAgICAgICBhci5wdXNoKHgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhci5qb2luKCcsJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5lc2NhcGVIVE1MID0gZXNjYXBlSFRNTDtcbm1vZHVsZS5leHBvcnRzLnJlcXVlc3RfdmFycyA9IHJlcXVlc3RfdmFycztcbm1vZHVsZS5leHBvcnRzLmxvY2Fsc3RvcmFnZV92YXJzID0gbG9jYWxzdG9yYWdlX3ZhcnM7XG5tb2R1bGUuZXhwb3J0cy5zZWxlY3RUZXh0ID0gc2VsZWN0VGV4dDtcbm1vZHVsZS5leHBvcnRzLmRlc2VsZWN0VGV4dCA9IGRlc2VsZWN0VGV4dDtcbm1vZHVsZS5leHBvcnRzLnRvZ2dsZURldGFpbCA9IHRvZ2dsZURldGFpbDtcbm1vZHVsZS5leHBvcnRzLmNvbXBhY3QgPSBjb21wYWN0O1xubW9kdWxlLmV4cG9ydHMuZnJvbV9zdHIgPSBmcm9tX3N0cjtcbm1vZHVsZS5leHBvcnRzLnRvX3N0ciA9IHRvX3N0cjtcbm1vZHVsZS5leHBvcnRzLmFfdG9fc3RyID0gYV90b19zdHI7XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogSXRlbVxuICogVGhpcyBtYW5hZ2VzIHRoZSBhY3R1YWwgcmVjb3JkcyB0byBiZSBkaXNwbGF5ZWQgaW5zaWRlIHRoZSBsaXN0IGluIHRoZSBtaWRkbGUgY29sdW1uLlxuICogVGhlIHN1YmNvbXBvbmVudHMgY29ycmVzcG9uZHMgdG8gdGhlIGluZGl2aWR1YWwgbGlzdHMsIHN1Y2ggYXMgY291bnRyeSwgY291bnRyaWJ1dGlvblxuICogVGhlcmUgaXMgYW4gZXh0cmEgYXJndW1lbnQgdGhhdCBzcGVjaWZpZXMgdGhlIGlkcyBvZiB0aGUgaXRlbXMgdGhhdCBzaG91bGQgYmUgZGlzcGxheWVkLlxuICogQWxsIGZ1bmN0aW9uYWxpdHkgKGV4Y2VwdCBzaG93KSBpcyBkZWxlZ2F0ZWQgdG8gc3BlY2lmaWMgZnVuY3Rpb25zXG4gKi9cblxuZnVuY3Rpb24gSXRlbShjb21wb25lbnQpIHt0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudH07XG5cbkl0ZW0ucHJvdG90eXBlID0ge1xuICAgIF9odG1sOiBmdW5jdGlvbih2ciwgaXQpIHtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5jb21wb25lbnQuX2RzdFt2cl07XG4gICAgICAgIHZhciBkZXN0X3JvdyA9IGRlc3RpbmF0aW9uLmZpbmQoYHRyW2lkPVwiciR7aXRbMF19XCJdYCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGBGaW5kaW5nICR7dnJ9IHJvdyByJHtpdFswXX06YCwgZGVzdF9yb3cpO1xuICAgICAgICB2YXIgaCA9IGA8dHIgaWlkPVwiJHtpdFswXX1cIj5gO1xuXG4gICAgICAgIGlmICh2ciA9PSBgY29udHJpYmApIHtcbiAgICAgICAgICAgIHZhciB0eXBlcyA9IFtdO1xuICAgICAgICAgICAgaXRbNV0uZm9yRWFjaChmdW5jdGlvbih0cCkge1xuICAgICAgICAgICAgICAgIHR5cGVzLnB1c2goYDxhIGhyZWY9XCIjXCIgdGlkPVwiJHt0cFswXX1cIj4ke3RwWzFdfTwvYT5gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaCArPSBgXG48dGQ+XG48Yj5Db250YWN0IHBlcnNvbjo8L2I+ICR7aXRbMl19PGJyLz5cbjxiPkNvdW50cnk6PC9iPiAke2l0WzNdfSA9ICR7aXRbNF19PGJyLz5cbjxiPlR5cGVzOjwvYj4gJHt0eXBlcy5qb2luKGAsIGApfTwvYnI+XG48L3RkPlxuYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh2ciA9PSBgY291bnRyeWApIHtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmRhdGFbdnJdLmZvckVhY2goZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgICAgIGluX2RhcmlhaCA9IChyWzNdID09IDEpP2BkYXJpYWhgOmBgO1xuICAgICAgICAgICAgICAgIGggKz0gYDx0ciBpZD1cInIke3JbMF19XCI+PHRkIGNsYXNzPVwiY291bnRyeV9jb2RlXCI+JHtyWzFdfTx0ZD48dGQgY2xhc3M9XCJjb3VudHJ5X25hbWVcIj4ke3JbMl19PHRkPjx0ZCBjbGFzcz1cImluX2RhcmlhaFwiPiR7aW5fZGFyaWFofTwvdGQ+PHRkIGNsYXNzPVwibGF0bG5nXCI+JHtyWzRdfTwvdGQ+PHRkIGNsYXNzPVwibGF0bG5nXCI+JHtyWzVdfTwvdGQ+PC90cj5gO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodnIgPT0gYHR5cGVgIHx8IHZyID09IGB0YWRpcmFoYWAgfHwgdnIgPT0gYHRhZGlyYWhvYCB8fCB2ciA9PSBgdGFkaXJhaHRgKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5kYXRhW3ZyXS5mb3JFYWNoKGZ1bmN0aW9uKHIpIHtcbiAgICAgICAgICAgICAgICBoICs9IGA8dHIgaWQ9XCJyJHtyWzBdfVwiPjx0ZCBjbGFzcz1cInZhbHVlXCI+JHtyWzFdfTx0ZD48L3RyPmA7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBoICs9IGA8L3RyPmA7XG4gICAgICAgIGNvbnNvbGUubG9nKGgpO1xuICAgICAgICBkZXN0X3Jvdy5hZnRlcihoKTtcbiAgICB9LFxuICAgIHNob3c6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5zdGF0ZS5nZXRTdGF0ZShgbGlzdGApID09IHZyO1xuICAgIH0sXG4gICAgd2VsZDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuZGF0YVt2cl0uZm9yRWFjaChmdW5jdGlvbihpdCkge1xuICAgICAgICAgICAgdGhpcy5faHRtbCh2ciwgaXQpO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9LFxuICAgIHdpcmU6IGZ1bmN0aW9uKHZyKSB7XG4gICAgfSxcbiAgICB3b3JrOiBmdW5jdGlvbih2cikge30sXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEl0ZW07XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogTGlzdFxuICogVGhpcyBtYW5hZ2VzIHRoZSBhY3R1YWwgbGlzdHMgb2YgcmVjb3JkcyB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIG1pZGRsZSBjb2x1bW4uXG4gKiBUaGUgc3ViY29tcG9uZW50cyBjb3JyZXNwb25kcyB0byB0aGUgaW5kaXZpZHVhbCBsaXN0cywgc3VjaCBhcyBjb3VudHJ5LCBjb3VudHJpYnV0aW9uXG4gKiBBbGwgZnVuY3Rpb25hbGl0eSAoZXhjZXB0IHNob3cpIGlzIGRlbGVnYXRlZCB0byBzcGVjaWZpYyBmdW5jdGlvbnNcbiAqL1xuXG52YXIgZyA9IHJlcXVpcmUoJy4vZ2VuZXJpYy5qcycpO1xuZnVuY3Rpb24gTGlzdChjb21wb25lbnQpIHt0aGlzLmNvbXBvbmVudCA9IGNvbXBvbmVudH07XG5cbkxpc3QucHJvdG90eXBlID0ge1xuICAgIF9odG1sOiBmdW5jdGlvbih2cikge1xuICAgICAgICB2YXIgaCA9IGBgO1xuICAgICAgICBoICs9IGA8dGFibGUgaWQ9XCJ0YWJsZV8ke3ZyfVwiPmA7XG4gICAgICAgIHRoaXMuY29tcG9uZW50LmRhdGFbdnJdLmZvckVhY2goZnVuY3Rpb24ocikge1xuICAgICAgICAgICAgdmFyIHJvd3N0YXJ0ID0gYDx0ciByaWQ9XCIke3JbMF19XCI+PHRkPjxhIGNsYXNzPVwic2hvd2MgZmEgZmEtZncgZmEtbGlzdC11bFwiIGhyZWY9XCIjXCIgdGl0bGU9XCJoaWRlIGZpZWxkc1wiPjwvYT48YSBjbGFzcz1cImhpZGVjIGZhIGZhLWZ3IGZhLW1pbnVzXCIgaHJlZj1cIiNcIiB0aXRsZT1cInNob3cgZmllbGRzXCI+PC9hPjwvdGQ+YDtcbiAgICAgICAgICAgIHZhciByb3dlbmQgPSBgPC90cj5gO1xuICAgICAgICAgICAgaWYgKHZyID09IGBjb250cmliYCkge1xuICAgICAgICAgICAgICAgIGggKz0gYCR7cm93c3RhcnR9PHRkPjxhIGhyZWY9XCIjXCIgY2xhc3M9XCJmYSBmYS1mdyBmYS1taW51c1wiPjwvYT4ke3JbMV19PC90ZD4ke3Jvd2VuZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodnIgPT0gYGNvdW50cnlgKSB7XG4gICAgICAgICAgICAgICAgaW5fZGFyaWFoID0gKHJbM10gPT0gMSk/YGRhcmlhaGA6YGA7XG4gICAgICAgICAgICAgICAgaCArPSBgJHtyb3dzdGFydH08dGQgY2xhc3M9XCJjb3VudHJ5X2NvZGVcIj4ke3JbMV19PHRkPjx0ZCBjbGFzcz1cImNvdW50cnlfbmFtZVwiPiR7clsyXX08dGQ+PHRkIGNsYXNzPVwiaW5fZGFyaWFoXCI+JHtpbl9kYXJpYWh9PC90ZD48dGQgY2xhc3M9XCJsYXRsbmdcIj4ke3JbNF19PC90ZD48dGQgY2xhc3M9XCJsYXRsbmdcIj4ke3JbNV19PC90ZD4ke3Jvd2VuZH1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodnIgPT0gYHR5cGVgIHx8IHZyID09IGB0YWRpcmFoYWAgfHwgdnIgPT0gYHRhZGlyYWhvYCB8fCB2ciA9PSBgdGFkaXJhaHRgKSB7XG4gICAgICAgICAgICAgICAgaCArPSBgJHtyb3dzdGFydH08dGQgY2xhc3M9XCJ2YWx1ZVwiPiR7clsxXX08dGQ+JHtyb3dlbmR9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGggKz0gYDwvdGFibGU+YDtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5odG1sKGgpO1xuICAgIH0sXG4gICAgX2Rpc3BsYXk6IGZ1bmN0aW9uKHJvdywgdnIsIG9wZW5faWRzKSB7XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdmFyIGhpZGVjID0gcm93LmZpbmQoYC5oaWRlY2ApO1xuICAgICAgICB2YXIgc2hvd2MgPSByb3cuZmluZChgLnNob3djYCk7XG4gICAgICAgIHZhciByaWQgPSByb3cuYXR0cihgcmlkYCk7XG4gICAgICAgIHZhciBkZXRhaWwgPSB0aGlzLmNvbXBvbmVudC5jb250YWluZXJbdnJdLmZpbmQoYHRyW2lpZD1cIiR7cmlkfVwiXWApO1xuICAgICAgICB2YXIgbW9kZSA9IChyaWQgaW4gb3Blbl9pZHMpICYmIG9wZW5faWRzW3JpZF07XG4gICAgICAgIGlmIChtb2RlKSB7XG4gICAgICAgICAgICBoaWRlYy5zaG93KCk7XG4gICAgICAgICAgICBzaG93Yy5oaWRlKCk7XG4gICAgICAgICAgICBpZiAoZGV0YWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRldGFpbC5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoaWRlYy5oaWRlKCk7XG4gICAgICAgICAgICBzaG93Yy5oaWRlKCk7XG4gICAgICAgICAgICBpZiAoZGV0YWlsLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRldGFpbC5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIF9zZXRfaXQ6IGZ1bmN0aW9uKGNvbnRyb2wsIHZyLCBzdGF0ZSkge1xuICAgICAgICB2YXIgb3Blbl9pZHMgPSBnLmZyb21fc3RyKHRoaXMuc3RhdGUuZ2V0U3RhdGUoa2V5KSk7XG4gICAgICAgIHZhciByaWQgPSBjb250cm9sLmNsb3Nlc3QoYHRyYCkuYXR0cihgcmlkYCk7XG4gICAgICAgIG9wZW5faWRzW3JpZF0gPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0ZShrZXksIGcudG9fc3RyKG9wZW5faWRzKSk7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbih2cikge1xuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQuc3RhdGUuZ2V0U3RhdGUoYGxpc3RgKSA9PSB2cjtcbiAgICB9LFxuICAgIHdlbGQ6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuX2h0bWwodnIpO1xuICAgIH0sXG4gICAgd2lyZTogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgY2MgPSB0aGlzLmNvbXBvbmVudC5jb250YWluZXJbdnJdO1xuICAgICAgICB2YXIga2V5ID0gYCR7dGhpcy5jb21wb25lbnQubmFtZX1fJHt2cn1gO1xuICAgICAgICBjYy5maW5kKGAuaGlkZWNgKS5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhhdC5fc2V0X2l0KCQodGhpcyksIHZyLCB0cnVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLmZpbmQoYC5zaG93Y2ApLmNsaWNrKGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGF0Ll9zZXRfaXQoJCh0aGlzKSwgdnIsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICB3b3JrOiBmdW5jdGlvbih2cikge1xuICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgIHZhciBrZXkgPSBgJHt0aGlzLmNvbXBvbmVudC5uYW1lfV8ke3ZyfWA7XG4gICAgICAgIHZhciBjYyA9IHRoaXMuY29tcG9uZW50LmNvbnRhaW5lclt2cl07XG4gICAgICAgIHZhciBvcGVuX2lkcyA9IGcuZnJvbV9zdHIodGhpcy5jb21wb25lbnQuc3RhdGUuZ2V0U3RhdGUoYCR7dGhpcy5jb21wb25lbnQubmFtZX1fJHt2cn1gKSk7XG4gICAgICAgIGNjLmZpbmQoYHRyW3JpZF1gKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5fZGlzcGxheSgkKHRoaXMpLCB2ciwgb3Blbl9pZHMpO1xuICAgICAgICB9KTtcbiAgICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBMaXN0O1xuIiwiLyogU1RBUlQgUFJPQ0VTU0lOR1xuICogVGhlIGR5bmFtaWMgY29uc3RydWN0aW9uIG9mIHRoZSBwYWdlIHN0YXJ0cyBoZXJlXG4gKi9cblxudmFyIFBhZ2UgPSByZXF1aXJlKCcuL3BhZ2UuanMnKTtcblxuJChmdW5jdGlvbigpIHtuZXcgUGFnZSgpLndvcmsoKX0pO1xuIiwiLyogTUVTU0FHRVNcbiAqIE1zZyBpcyBhIGZ1bmN0aW9uIHRoYXQgaXNzdWVzIG1lc3NhZ2VzIHRvIGEgc3BlY2lmaWVkIGVsZW1lbnQuXG4gKiBJdCBoYXMgYWxzbyBjb250cm9scyBmb3IgY2xlYXJpbmcgYW5kIGhpZGluZyB0aGUgbWVzc2FnZXMuXG4gKi9cblxuZnVuY3Rpb24gTXNnKGRlc3RpbmF0aW9uLCBvbl9jbGVhcikge1xuICAgIHRoaXMuX2Rlc3RpbmF0aW9uID0gJChgIyR7ZGVzdGluYXRpb259YCk7XG4gICAgdGhpcy5fdHJhc2hfY29udHJvbCA9ICQoYCN0cmFzaF8ke2Rlc3RpbmF0aW9ufWApO1xuICAgIHRoaXMuX3RyYXNoX2NvbnRyb2xfcGFyYSA9IHRoaXMuX3RyYXNoX2NvbnRyb2wuY2xvc2VzdChgcGApO1xuICAgIHRoaXMuX3RyYXNoX2NvbnRyb2wuY2xpY2soZnVuY3Rpb24oZSkge2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gICAgdGhpcy5faGlkZSgpO1xuICAgIHRoaXMuX29uX2NsZWFyID0gb25fY2xlYXI7XG59O1xuXG5Nc2cucHJvdG90eXBlID0ge1xuICAgIF9oaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGVzdGluYXRpb24uaGlkZSgpO1xuICAgICAgICB0aGlzLl90cmFzaF9jb250cm9sX3BhcmEuaGlkZSgpO1xuICAgIH0sXG4gICAgX3Nob3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9kZXN0aW5hdGlvbi5zaG93KCk7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0aW5hdGlvbi5odG1sKCkgIT0gYGApIHtcbiAgICAgICAgICAgIHRoaXMuX3RyYXNoX2NvbnRyb2xfcGFyYS5zaG93KCk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGVzdGluYXRpb24uaHRtbChgYCk7XG4gICAgICAgIGlmICh0aGlzLl9vbl9jbGVhciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uX2NsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGlkZSgpO1xuICAgIH0sXG4gICAgbXNnOiBmdW5jdGlvbih0ZXh0LCBraW5kKSB7XG4gICAgICAgIGlmIChraW5kID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2luZCA9IGBpbmZvYDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWVzc2FnZV90ZXh0ID0gdGhpcy5fZGVzdGluYXRpb24uaHRtbCgpO1xuICAgICAgICB0aGlzLl9kZXN0aW5hdGlvbi5odG1sKGAke21lc3NhZ2VfdGV4dH08cCBjbGFzcz1cIiR7a2luZH1cIj4ke3RleHR9PC9wPmApO1xuICAgICAgICB0aGlzLl9zaG93KCk7XG4gICAgfSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTXNnO1xuIiwiLyogVE9QIExFVkVMOiBQQUdFXG4gKiBUaGlzIGlzIHRoZSBwYWdlIGZ1bmN0aW9uLiBcbiAqIEl0IGNyZWF0ZXMgYSBWaWV3U3RhdGUgZnVuY3Rpb24sIHdoaWNoIGNvbnRhaW5zIHRoZSBjdXJyZW50IHN0YXRlLlxuICogVGhlIHN0YXRlIGlzIGNyZWF0ZWQgb24gdGhlIGJhc2lzIG9mIHJlcXVlc3QgdmFyaWFibGVzLCBhbmQgZnJvbSB0aGVuIGl0XG4gKiByZWZsZWN0cyB0aGUgdXNlciBhY3Rpb25zLlxuICogVGhlIHBhZ2Ugc3BlY2lmaWVzIGFsbCBjb21wb25lbnRzIGFuZCBpbml0aWFsaXplcyB0aGVtLlxuICogQSBjb21wb25lbnQgaXMgc3BlY2ZpZWQgYnkgdGhlIGZvbGxvd2luZyBmaWVsZHNcbiAqIC0gZGVzdGluYXRpb246IGxlZnQgPT4gbGVmdCBzaWRlYmFyOyByaWdodCA9PiByaWdodCBzaWRlYmFyOyBtaWRkbGUgPT4gbWlkZGxlIGNvbHVtblxuICogLSBuYW1lOiBhIHN0cmluZyB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlZmVyIHRvIHRoZSBjb21wb25lbnQgbGF0ZXIgb24sIHZpYSBtZXRob2QgZ2V0Q29tcG9uZW50XG4gKiAtIHN1YmNvbXBvbmVudHM6IGEgbGlzdCBvZiBuYW1lcyBmb3Igd2hpY2ggYSBzdWJjb21wb25lbnQgd2lsbCBiZSBtYWRlLiBUaGUgaHRtbCB3aWxsIGJlIGdlbmVyYXRlZCBwZXIgc3ViY29tcG9uZW50LlxuICogLSBmZXRjaDogYm9vbGVhbiB3aGljaCBzYXlzIHdoZXRoZXIgdGhpcyBjb21wb25lbnQgbmVlZHMgZGF0YSBmcm9tIHRoZSBzZXJ2ZXJcbiAqIC0gd29yayBmaXJzdDogYm9vbGVhbiB3aGljaCBzYXlzIHRoYXQgY2hpbGQgY29tcG9uZW50cyBjYW4gb25seSBiZSB3aXJlZCBhZnRlciB3b3JrIG9mIHRoZSBwYXJlbnQgY29tcG9uZW50LlxuICogLSBzcGVjaWZpYzogYW4gb2JqZWN0IHRoYXQgaG9sZHMgdGhlIHNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgb2YgdGhpcyBjb21wb25lbnQuXG4gKiBUaGUgY29udHJvbCBjb21wb25lbnQgaGFzIHdvcmsgZmlyc3QgPSB0cnVlLCBiZWNhdXNlIG9ubHkgYWZ0ZXIgY2hvb3NpbmcgYSBsaXN0LCB0aGUgbGlzdCBjb250cm9sIGNhbiBmZXRjaCB0aGUgc3BlY2lmaWMgbGlzdCBhbmQgd2lyZSBpdHNlbGYuXG4gKiBBbGwgb3RoZXIgY29tcG9uZW50cyBoYXZlIHdvcmsgZmlyc3QgPSBmYWxzZSwgYmVjYXVzZSBpdCBpcyBkZXNpcmFibGUgdGhhdCBjaGlsZCBjb21wb25lbnRzIHN0YXJ0IHdpcmluZyBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICogRm9yIGV4YW1wbGU6IHRoZSBmYWNldCBjb21wb25lbnQgaXMgcGFyZW50IG9mIHRoZSBpbmRpdmlkdWFsIGZhY2V0cy5cbiAqIFdoZW4gZmFjZXQgc3RhcnRzIHdvcmtpbmcsIHRoZSBpbmRpdmlkdWFsIGNvbnRyb2xzIHNob3VsZCBhbHJlYWR5IGJlIHdpcmVkLlxuICogQmVjYXVzZSB3b3JrIGZpcnN0ID0gZmFsc2UsIHdpcmluZyBvZiB0aGUgaW5kaXZpZHVhbCBmYWNldHMgd2lsbCBiZSB0cmlnZ2VyZWQgYWZ0ZXIgd2lyaW5nIG9mIHRoZSBnZW5lcmljIGZhY2V0IGNvbXBvbmVudC5cbiAqIE4uQi4gSW5kaXZpZHVhbCBmYWNldHMgY2FuIG9ubHkgYmUgd2lyZWQgYWZ0ZXIgdGhlIGxpc3QgY29tcG9uZW50ICh0aGVpciBncmFuZGZhdGhlcikgaGFzIGJlZW4gd2lyZWQuXG4gKiBUaGlzIHdpbGwgZ28gT0ssIGJlY2F1c2UgYWZ0ZXIgd2lyaW5nIHRoZSBsaXN0LCB0aGUgZmFjZXQgd2lsbCBiZSB3aXJlZCBhbmQgdGhlbiB0aGUgaW5kaXZpZHVhbCBmYWNldHMuXG4gKiBUaGUgX3JvdXRpbmcgZGljdGlvbmFyeSBzcGVjaWZpZXMgd2hlbiB0aGUgd29yayBtZXRob2RzIG9mIGNvbXBvbmVudHMgc2hvdWxkIGJlIHRyaWdnZXJlZC5cbiAqIEl0cyBrZXlzIGFyZSB0aGUgbGFiZWxzIG9mIGNvbXBvbmVudHMsIGFuZCBmb3IgZXZlcnkgY29tcG9uZW50IGEgbGlzdCBvZiBvdGhlciBjb21wb25lbnQga2V5cyBpcyBnaXZlbi5cbiAqIFRoZXNlIGFyZSB0aGUgY29tcG9uZW50cyB0aGF0IHdpbGwgYmUgYXBwbGllZCAoaW4gdGhhdCBvcmRlcikgYWZ0ZXIgdGhlIGtleSBjb21wb25lbnQuIFxuICogXG4gKiAgd29yayBmcm9tIHBhZ2U6IGlmIHRydWUsIHRoaXMgY29tcG9uZW50J3Mgd29yayBtZXRob2Qgd2lsbCBiZSBjYWxsZWQgZGlyZWN0bHkgYnkgdGhlIHBhZ2UncyB3b3JrIG1ldGhvZDtcbiAqICAgaWYgZmFsc2UsIHRoZSBwYWdlIHdpbGwgc2tpcCB0aGlzIGNvbXBvbmVudCB3aGVuIHdvcmtpbmcuIEl0IGlzIGFzc3VtZWQgdGhhdCB0aGlzIGNvbXBvbmVudCB3aWxsIGJlIGFwcGxpZWQgYnkgYW5vdGhlciBjb21wb25lbnQuXG4gKiAgIFRoaXMgcHJhY3RpY2UgbXVzdCBiZSBmb2xsb3dlZCwgaWYgdGhlIGFwcGxpY2F0aW9uIG9mIHN0YXRlIHRvIGEgY29tcG9uZW50IHNob3VsZCBjb21lIGFmdGVyIGEgZmV0Y2ggb2YgYW5vdGhlciBjb21wb25lbnQuXG4gKiAgIElmIHRoZSBwYWdlIHdvdWxkIHdvcmsgdGhlIHZpZXdzdGF0ZSBkaXJlY3RseSB0byB0aGlzIGNvbXBvbmVudCwgaXQgd291bGQgaGFwcGVuIGJlZm9yZSB0aGUgb3RoZXIncyBjb21wb25lbnRzIGRhdGEgaGFkIGJlZW4gbG9hZGVkLlxuICogICBFeGFtcGxlOiBhIGZpbHRlciBjb21wb25lbnQgRiwgdGhhdCBmaWx0ZXJzIGEgYmlnIGxpc3QgZmV0Y2hlZCBieSBhbm90aGVyIGNvbXBvbmVudCBMLiBMJ3Mgd29yayBzaG91bGQgY2FsbCBGJ3Mgd29yay5cbiAqIEFmdGVyIGV2ZXJ5IHVzZXIgYWN0aW9uLCB0aGUgc3RhdGUgaXMgY2hhbmdlZCwgYW5kIGEgY2FsbCB0byB0aGUgUGFnZSdzIHdvcmsoKSBtZXRob2QgaXMgaXNzdWVkLlxuICogVGhlIHBhZ2Ugd2lsbCBpc3N1ZSB0aGUgd29yayBjYWxsIGZvcnRoIHRvIGFsbCBjb21wb25lbnRzLlxuICovXG5cbnZhciBnID0gcmVxdWlyZSgnLi9nZW5lcmljLmpzJyk7XG52YXIgVmlld1N0YXRlID0gcmVxdWlyZSgnLi92aWV3c3RhdGUuanMnKTtcbnZhciBNc2cgPSByZXF1aXJlKCcuL21lc3NhZ2UuanMnKTtcbnZhciBTaGFyZSA9IHJlcXVpcmUoJy4vc2hhcmUuanMnKTtcbnZhciBDVHlwZSA9IHJlcXVpcmUoJy4vY3R5cGUuanMnKTtcbnZhciBUYWRpcmFoTyA9IHJlcXVpcmUoJy4vdGFkaXJhaG8uanMnKTtcbnZhciBUYWRpcmFoQSA9IHJlcXVpcmUoJy4vdGFkaXJhaGEuanMnKTtcbnZhciBUYWRpcmFoVCA9IHJlcXVpcmUoJy4vdGFkaXJhaHQuanMnKTtcbnZhciBFVW1hcCA9IHJlcXVpcmUoJy4vZXVtYXAuanMnKTtcbnZhciBGaWx0ZXIgPSByZXF1aXJlKCcuL2ZpbHRlci5qcycpO1xudmFyIEZhY2V0ID0gcmVxdWlyZSgnLi9mYWNldC5qcycpO1xudmFyIExpc3QgPSByZXF1aXJlKCcuL2xpc3QuanMnKTtcbnZhciBJdGVtID0gcmVxdWlyZSgnLi9pdGVtLmpzJyk7XG52YXIgQ29udHJvbCA9IHJlcXVpcmUoJy4vY29udHJvbC5qcycpO1xudmFyIENvbXBvbmVudCA9IHJlcXVpcmUoJy4vY29tcG9uZW50cy5qcycpO1xuXG5mdW5jdGlvbiBQYWdlKCkgeyAvLyB0aGUgb25lIGFuZCBvbmx5IHBhZ2Ugb2JqZWN0XG4gICAgdGhpcy5uYW1lID0gYHBhZ2VgO1xuICAgIHRoaXMubXNnID0gbmV3IE1zZyhgbXNnXyR7dGhpcy5uYW1lfWApO1xuICAgIHRoaXMuc3RhdGUgPSBuZXcgVmlld1N0YXRlKHRoaXMpO1xuICAgIHRoaXMuc3RhZ2VzID0ge3dlbGQ6IHRydWUsIHdpcmU6IHRydWUsIHdvcms6IGZhbHNlfTsgLy8gdHJ1ZSBtZWFuczogb25jZSBvbmx5LCBmYWxzZSBtZWFuczogbXkgYmUgcmVwZWF0ZWRcbiAgICB0aGlzLnN0YWdlc19wcmV2ID0ge3dpcmU6IGB3ZWxkYCwgd29yazogYHdpcmVgfTtcbiAgICB2YXIgbWFpbl9saXN0cyA9IHRoaXMuc3RhdGUuZ2V0VmFsdWVzKGBsaXN0YCk7XG4gICAgdmFyIGNvbnRyaWJfbGlzdCA9IHtjb250cmliOiAxfTtcbiAgICB2YXIgZW1wdHlfbGlzdCA9IHsnJzogMX07XG4gICAgdGhpcy5fY29tcG9uZW50X3NwZWNzID0ge1xuICAgICAgICBzaGFyZToge2Rlc3Q6IGBib2R5YCwgdmFyaWFudHM6IGVtcHR5X2xpc3QsIGZldGNoX3VybDogbnVsbCwgc3BlY2lmaWM6IFNoYXJlfSwgXG4gICAgICAgIGNvbnRyb2w6IHtkZXN0OiBgbGVmdGAsIHZhcmlhbnRzOiBtYWluX2xpc3RzLCBmZXRjaF91cmw6IG51bGwsIHNwZWNpZmljOiBDb250cm9sfSwgXG4gICAgICAgIGxpc3Q6IHtkZXN0OiBgbWlkZGxlYCwgdmFyaWFudHM6IG1haW5fbGlzdHMsIGZldGNoX3VybDogYGxpc3RgLCBzcGVjaWZpYzogTGlzdH0sIFxuICAgICAgICBpdGVtOiB7ZGVzdDogYGxpc3RgLCB2YXJpYW50czogbWFpbl9saXN0cywgZmV0Y2hfdXJsOiBgaXRlbWAsIHNwZWNpZmljOiBJdGVtfSwgXG4gICAgICAgIGZhY2V0OiB7ZGVzdDogYGNvbnRyb2xgLCB2YXJpYW50czogbWFpbl9saXN0cywgZmV0Y2hfdXJsOiBudWxsLCBzcGVjaWZpYzogRmFjZXR9LCBcbiAgICAgICAgZmlsdGVyOiB7ZGVzdDogYGZhY2V0YCwgdmFyaWFudHM6IG1haW5fbGlzdHMsIGZldGNoX3VybDogbnVsbCwgc3BlY2lmaWM6IEZpbHRlcn0sIFxuICAgICAgICBldW1hcDoge2Rlc3Q6IGBmYWNldGAsIHZhcmlhbnRzOiBjb250cmliX2xpc3QsIGZldGNoX3VybDogYGNvdW50cnlgLCBzcGVjaWZpYzogRVVtYXB9LCBcbiAgICAgICAgY3R5cGU6IHtkZXN0OiBgZmFjZXRgLCB2YXJpYW50czogY29udHJpYl9saXN0LCBmZXRjaF91cmw6IGB0eXBlYCwgc3BlY2lmaWM6IENUeXBlfSwgXG4gICAgICAgIHRhZGlyYWhhOiB7ZGVzdDogYGZhY2V0YCwgdmFyaWFudHM6IGNvbnRyaWJfbGlzdCwgZmV0Y2hfdXJsOiBgdGFkaXJhaGFgLCBzcGVjaWZpYzogVGFkaXJhaEF9LCBcbiAgICAgICAgdGFkaXJhaG86IHtkZXN0OiBgZmFjZXRgLCB2YXJpYW50czogY29udHJpYl9saXN0LCBmZXRjaF91cmw6IGB0YWRpcmFob2AsIHNwZWNpZmljOiBUYWRpcmFoT30sIFxuICAgICAgICB0YWRpcmFodDoge2Rlc3Q6IGBmYWNldGAsIHZhcmlhbnRzOiBjb250cmliX2xpc3QsIGZldGNoX3VybDogYHRhZGlyYWh0YCwgc3BlY2lmaWM6IFRhZGlyYWhUfSwgXG4gICAgfSxcbiAgICAvKiBzb21lIGNvbXBvbmVudHMgYXJlIGJlaW5nIGRlYWx0IHdpdGggb24gdGhlIGJhc2lzIG9mIGFkZGl0aW9uYWwgaWRlbnRpZmllcnMsIHN1Y2ggYXMgaXRlbVxuICAgICAqIFRob3NlIGNvbXBvbmVudHMgYXJlIHNwZWNpZmllZCBiZWxvdywgYW5kIHRoZSBzcGVjcyBvZiBhbGwgY29tcG9uZW50cyB3aWxsIGdldCBhbiBleHRyYSBhdHRyaWJ1dGVcbiAgICAgKiBieV9pZCwgd2hpY2ggaXMgdHJ1ZSBpZiB0aGUgY29tcG9uZW50IG5lZWRzIGFuIGlkLlxuICAgICAqIFRoZSBhY3R1YWwgaWRzIGNvbWUgZnJvbSBhIHJlcXVlc3QgdmFyaWFibGUgbmFtZV94eHgsIHdoZXJlIG5hbWUgaXMgdGhlIG5hbWUgb2YgdGhlIGNvbXBvbmVudCBhbmQgeHh4IGlzIHRoZSBuYW1lIG9mIGEgbGlzdC5cbiAgICAgKi9cbiAgICB0aGlzLl9ieV9pZCA9IHtcbiAgICAgICAgaXRlbTogdHJ1ZSxcbiAgICB9LFxuICAgIHRoaXMuX2JlZm9yZSA9IHtcbiAgICAgICAgd2VsZDoge1xuICAgICAgICAgICAgaXRlbToge2xpc3Q6IDF9LFxuICAgICAgICAgICAgZmFjZXQ6IHtjb250cm9sOiAxLCBsaXN0OiAxfSxcbiAgICAgICAgICAgIGZpbHRlcjoge2ZhY2V0OiAxfSxcbiAgICAgICAgICAgIGV1bWFwOiB7ZmFjZXQ6IDEsIGZpbHRlcjogMX0sXG4gICAgICAgICAgICBjdHlwZToge2ZhY2V0OiAxLCBldW1hcDogMX0sXG4gICAgICAgICAgICB0YWRpcmFoYToge2ZhY2V0OiAxLCBjdHlwZTogMX0sXG4gICAgICAgICAgICB0YWRpcmFobzoge2ZhY2V0OiAxLCB0YWRpcmFoYTogMX0sXG4gICAgICAgICAgICB0YWRpcmFodDoge2ZhY2V0OiAxLCB0YWRpcmFobzogMX0sXG4gICAgICAgICAgICBzaGFyZToge2ZhY2V0OiAxLCBsaXN0OiAxfSxcbiAgICAgICAgfSxcbiAgICAgICAgd2lyZToge1xuICAgICAgICAgICAgaXRlbToge2xpc3Q6IDF9LFxuICAgICAgICAgICAgZmFjZXQ6IHtmaWx0ZXI6IDEsIGV1bWFwOiAxLCBjdHlwZTogMSwgdGFkaXJhaGE6IDEsIHRhZGlyYWhvOiAxLCB0YWRpcmFodDogMX0sXG4gICAgICAgICAgICBmaWx0ZXI6IHtsaXN0OiAxfSxcbiAgICAgICAgICAgIGV1bWFwOiB7bGlzdDogMX0sXG4gICAgICAgICAgICBjdHlwZToge2xpc3Q6IDF9LFxuICAgICAgICAgICAgdGFkaXJhaGE6IHtsaXN0OiAxfSxcbiAgICAgICAgICAgIHRhZGlyYWhvOiB7bGlzdDogMX0sXG4gICAgICAgICAgICB0YWRpcmFodDoge2xpc3Q6IDF9LFxuICAgICAgICB9LFxuICAgICAgICB3b3JrOiB7XG4gICAgICAgICAgICBmYWNldDoge2ZpbHRlcjogMSwgZXVtYXA6IDEsIGN0eXBlOiAxLCB0YWRpcmFoYTogMSwgdGFkaXJhaG86IDEsIHRhZGlyYWh0OiAxfSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIHRoaXMuX2lnbm9yZSA9IHtcbiAgICAgICAgLy90YWRpcmFodDogMSxcbiAgICAgICAgLy90YWRpcmFobzogMSxcbiAgICAgICAgLy9ldW1hcDogMSxcbiAgICAgICAgLy9maWx0ZXI6IDEsXG4gICAgfSxcbiAgICB0aGlzLmNvbXBvbmVudHMgPSB7fTtcbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuX2NvbXBvbmVudF9zcGVjcykge1xuICAgICAgICBpZiAobmFtZSBpbiB0aGlzLl9pZ25vcmUpIHtjb250aW51ZX1cbiAgICAgICAgdGhpcy5fY29tcG9uZW50X3NwZWNzW25hbWVdLmJ5X2lkID0gKG5hbWUgaW4gdGhpcy5fYnlfaWQpICYmIHRoaXMuX2J5X2lkW25hbWVdO1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gbmV3IENvbXBvbmVudChuYW1lLCB0aGlzLl9jb21wb25lbnRfc3BlY3NbbmFtZV0sIHRoaXMpO1xuICAgICAgICBjb21wb25lbnQuY2hpbGRyZW4gPSB7fTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzW25hbWVdID0gY29tcG9uZW50O1xuICAgIH1cbiAgICBmb3IgKHZhciBuYW1lIGluIHRoaXMuY29tcG9uZW50cykge1xuICAgICAgICB2YXIgY2hpbGRfY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRzW25hbWVdO1xuICAgICAgICB2YXIgZGVzdF9uYW1lID0gdGhpcy5fY29tcG9uZW50X3NwZWNzW25hbWVdLmRlc3Q7XG4gICAgICAgIGlmIChkZXN0X25hbWUgaW4gdGhpcy5jb21wb25lbnRzKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50X2NvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50c1tkZXN0X25hbWVdO1xuICAgICAgICAgICAgcGFyZW50X2NvbXBvbmVudC5jaGlsZHJlbltuYW1lXSA9IGNoaWxkX2NvbXBvbmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLl9yZXNvbHZlVGltaW5nKCk7XG4gICAgdGhpcy5fc2V0SGVpZ2h0KDgwKTtcbiAgICBIaXN0b3J5LkFkYXB0ZXIuYmluZCh3aW5kb3csIGBzdGF0ZWNoYW5nZWAsIHRoaXMuc3RhdGUud29yaygpKTtcbn07XG5cblBhZ2UucHJvdG90eXBlID0ge1xuICAgIF9zZXRIZWlnaHQoc3VidHJhY3QpIHsgLy8gdGhlIGhlaWdodHMgb2YgdGhlIHNpZGViYXJzIGFyZSBzZXQsIGRlcGVuZGluZyBvbiB0aGUgaGVpZ2h0IG9mIHRoZSB3aW5kb3dcbiAgICAgICAgdmFyIHdoID0gYCR7d2luZG93LmlubmVySGVpZ2h0IC0gc3VidHJhY3R9cHhgO1xuICAgICAgICBmb3IgKHZhciB3IGluIHsnbWlkZGxlJzogMSwgJ2xlZnQnOiAxLCAncmlnaHQnOiAxfSkge1xuICAgICAgICAgICAgJChgIyR7d31gKS5jc3MoYGhlaWdodGAsIHdoKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX3Jlc29sdmVUaW1pbmcoKSB7XG4gICAgICAgIC8qIHRoZSB0aW1lIGNvbnN0cmFpbnRzIG11c3QgZm9ybSBhIGRpcmVjdGVkIGFjeWNsaWMgZ3JhcGguXG4gICAgICAgICAqIElmIHRoYXQgaXMgdGhlIGNhc2UsIHdlIG5lZWQgYSBsaW5lYXIgb3JkZXIgaW4gd2hpY2ggd2UgY2FuIG1ha2UgdGhlIHByb21pc2VzXG4gICAgICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCBjYWxjdWxhdGUgdGhhdCBvcmRlciAob2YgY291cnNlLCBzZXZlcmFsIG9yZGVycyBhcmUgcG9zc2libGUpXG4gICAgICAgICAqIEFsZ29yaXRobTpcbiAgICAgICAgICpcbiAgICAgICAgICogQTogbWFrZSBhIGdyYXBoIG9mIGFsbCB0YXNrcywgYSB0YXNrIGlzIHRoZSBjb21iaW5hdGlvbiBvZiBhIGNvbXBvbmVudCB3aXRoIGEgc3RhZ2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEI6IGNvbXB1dGUgc2V0cyBvZiBub2RlcyB0aGF0IGhhdmUgYSBsb25nZXN0IHByZWRlY2Vzc29yIHBhdGggb2YgZml4ZWQgbGVuZ3RoIG5cbiAgICAgICAgICpcbiAgICAgICAgICogMS4gZGV0ZXJtaW5lIGFsbCB0YXNrcyB3aXRob3V0IHByZWRlY2Vzc29ycywgdGhpcyBpcyBTMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXggbGVuZ3RoIG9mIHByZWRlY2Vzc29yIGNoYWluID0gMClcbiAgICAgICAgICogMi4gZGV0ZXJtaW5lIGFsbCB0YXNrcyB3aXRoIGFsbCBwcmVkZWNlc3NvcnMgaW4gUzAsIHRoaXMgaXMgUzEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF4IGxlbmd0aCBvZiBwcmVkZWNlc3NvciBjaGFpbiA9IDEpXG4gICAgICAgICAqIDMuIGRldGVybWluZSBhbGwgdGFza3Mgd2l0aDogYWxsIHByZWRlY2Vzc29ycyBpbiBTMCBvciBTMSwgYXQgbGVhc3Qgb25lIHByZWRlY2Vzc29yIGluIFMxLCB0aGlzIGlzIFMyICAobWF4IGxlbmd0aCBvZiBwcmVkZWNlc3NvciBjaGFpbiA9IDIpXG4gICAgICAgICAqIC4uLlxuICAgICAgICAgKiBuKzEuIGRldGVybWluZSBhbGwgdGFza3Mgd2l0aDogYWxsIHByZWRlY2Vzc29ycyBpbiBTMCwgUzEsIC4uLiwgU24sIGF0IGxlYXN0IGlvbmUgcHJlZGVjZXNzb3IgaW4gU25cbiAgICAgICAgICpcbiAgICAgICAgICogQzogXG4gICAgICAgICAqIFByb3ZlIHRoZW9yZW0gMTogU24gPSB7YWxsIG5vZGVzIHdpdGggbG9uZ2VzdCBjaGFpbiBvZiBwcmVkZWNlc3NvcnMgaGFzIGxlbmd0aCBufS5cbiAgICAgICAgICogUHJvdmUgdGhlb3JlbSAyOiBhbGwgbm9kZXMgb3V0c2lkZSB1bmlvbiBvZiBhbGwgU246IHRoZXkgYXJlIHBhcnQgb2YgYSBjeWNsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogRDogXG4gICAgICAgICAqIFRoZSByZXF1aXJlZCBvcmRlciBpczogZmlyc3QgdGhlIG5vZGVzIG9mIFMwIChpbiBhbnkgb3JkZXIpLCB0aGVuIHRob3NlIG9mIFMxLCB0aGVuIHRob3NlIG9mIFMyLCBhbmQgc28gb24uXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgdGltaW5nX25vZGVzID0gW107XG4gICAgICAgIHZhciB0aW1pbmdfZWRnZXMgPSB7fTsgLy8ga2V5cyBhcmUgbm9kZXMgdGhhdCBtdXN0IGNvbWUgYmVmb3JlIG90aGVyIG5vZGVzXG4gICAgICAgIHZhciB0aW1pbmdfZWRnZXNfaW52ID0ge307IC8vIGtleXMgYXJlIG5vZGVzIHRoYXQgbXVzdCBjb21lIGFmdGVyIG90aGVyIG5vZGVzXG4gICAgICAgIC8vIEE6IGNvbGxlY3QgdGhlIG5vZGVzOiBwYWlycyBvZiBjb21wb25lbnQgbmFtZSBhbmQgc3RhZ2VcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHN0YWdlIGluIHRoaXMuc3RhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGltaW5nX25vZGVzLnB1c2goYCR7bmFtZX0tJHtzdGFnZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb2xsZWN0IHRoZSBlZGdlcyAod2UgbmVlZCB0byBzdG9yZSBldmVyeSBlZGdlIGJvdGggd2F5cylcbiAgICAgICAgZnVuY3Rpb24gYWRkRWRnZShwcmV2X25vZGUsIG5leHRfbm9kZSkge1xuICAgICAgICAgICAgaWYgKCEocHJldl9ub2RlIGluIHRpbWluZ19lZGdlcykpIHtcbiAgICAgICAgICAgICAgICB0aW1pbmdfZWRnZXNbcHJldl9ub2RlXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEobmV4dF9ub2RlIGluIHRpbWluZ19lZGdlc19pbnYpKSB7XG4gICAgICAgICAgICAgICAgdGltaW5nX2VkZ2VzX2ludltuZXh0X25vZGVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1pbmdfZWRnZXNbcHJldl9ub2RlXVtuZXh0X25vZGVdID0gdHJ1ZTtcbiAgICAgICAgICAgIHRpbWluZ19lZGdlc19pbnZbbmV4dF9ub2RlXVtwcmV2X25vZGVdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAxLiBwZXIgY29tcG9uZW50LCB0aGUgc3RhZ2VzIGFyZSBvcmRlcmVkXG4gICAgICAgIGZvciAodmFyIG5leHRfc3RhZ2UgaW4gdGhpcy5zdGFnZXNfcHJldikge1xuICAgICAgICAgICAgdmFyIHByZXZfc3RhZ2UgPSB0aGlzLnN0YWdlc19wcmV2W25leHRfc3RhZ2VdO1xuICAgICAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICBhZGRFZGdlKGAke25hbWV9LSR7cHJldl9zdGFnZX1gLCBgJHtuYW1lfS0ke25leHRfc3RhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gMi4gYWRkIHRoZSBzcGVjaWZpYyBjb25zdHJhaW50cyBmcm9tIHRoaXMuX2JlZm9yZVxuICAgICAgICBmb3IgKHZhciBzdGFnZSBpbiB0aGlzLl9iZWZvcmUpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG5leHRfbmFtZSBpbiB0aGlzLl9iZWZvcmVbc3RhZ2VdKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRfbmFtZSBpbiB0aGlzLl9pZ25vcmUpIHtjb250aW51ZX1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcmV2X25hbWUgaW4gdGhpcy5fYmVmb3JlW3N0YWdlXVtuZXh0X25hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2X25hbWUgaW4gdGhpcy5faWdub3JlKSB7Y29udGludWV9XG4gICAgICAgICAgICAgICAgICAgIGFkZEVkZ2UoYCR7cHJldl9uYW1lfS0ke3N0YWdlfWAsIGAke25leHRfbmFtZX0tJHtzdGFnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQjogY29tcHV0ZSB0aGUgU24gKGluIHN1YnNldClcbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICB2YXIgc3Vic2V0ID0gW107XG4gICAgICAgIHZhciB2aXNpdGVkID0ge307IC8vIGNvbGxlY3QgYWxsIG5vZGVzIHRoYXQgZW5kIHVwIGluIGFuIFNuXG4gICAgICAgIHdoaWxlIChuIDw9IHRpbWluZ19ub2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN1YnNldC5wdXNoKHt9KTtcbiAgICAgICAgICAgIGlmIChuID09IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXJzdCByb3VuZFxuICAgICAgICAgICAgICAgIHRpbWluZ19ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpIHsgICAgICAgICAgICAgICAgICAgLy8gc2VsZWN0IGFsbCBub2RlcyB3aXRob3V0IHByZXZfbm9kZXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEobm9kZSBpbiB0aW1pbmdfZWRnZXNfaW52KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2V0W25dW25vZGVdID0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBzdG9yZSB0aGVtIGluIHN1YnNldFswXSAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHByZXZfbm9kZSBpbiB2aXNpdGVkKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydCB3aXRoIHByZXZfbm9kZXMgaW4gdmlzaXRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldl9ub2RlIGluIHRpbWluZ19lZGdlcykgeyAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgY29uc2lkZXIgdGhlaXIgbmV4dF9ub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dF9ub2RlIGluIHRpbWluZ19lZGdlc1twcmV2X25vZGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmV4dF9ub2RlIGluIHZpc2l0ZWQpKSB7ICAgICAgICAgICAgICAgIC8vIGJ1dCBvbmx5IGlmIHRoZSBuZXh0X25vZGUgaXMgbm90IHlldCB2aXNpdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnb29kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgb3RoZXJfcHJldl9ub2RlIGluIHRpbWluZ19lZGdlc19pbnZbbmV4dF9ub2RlXSkgeyAvLyBjb25zaWRlciB0aGUgb3RoZXIgcHJldiBub2RlcyBvZiB0aGUgbmV4dCBub2Rlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEob3RoZXJfcHJldl9ub2RlIGluIHZpc2l0ZWQpKSB7IC8vIGFuZCByZXF1aXJlIHRoYXQgdGhleSBoYXZlIGJlZW4gdmlzaXRlZCBhbHJlYWR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ29vZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ29vZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2V0W25dW25leHRfbm9kZV0gPSAxOyAgICAgICAgICAgLy8gaWYgYWxsIGlzIHdlbGwsIHdlIGFkZCBuZXh0X25vZGUgdG8gc3Vic2V0W25dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHN1YnNldFtuXSkubGVuZ3RoKSB7ICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbmV3IG5vZGVzLCB0aGUgbmV4dCByb3VuZHMgd2lsbCBhbHNvIG5vdCB5aWVsZCBuZXcgbm9kZXMsXG4gICAgICAgICAgICAgICAgYnJlYWs7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICBzbyB3ZSBhcmUgZG9uZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgbm9kZSBpbiBzdWJzZXRbbl0pIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciBlYWNoIHJvdW5kIHdlIGFkZCB0aGUgc2F2ZWQgbmV4dF9ub2RlcyB0byB0aGUgdmlzaXRlZCBub2Rlc1xuICAgICAgICAgICAgICAgIHZpc2l0ZWRbbm9kZV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gW107XG4gICAgICAgIHRoaXMuX3RpbWluZyA9IHt9O1xuICAgICAgICBpZiAoT2JqZWN0LmtleXModmlzaXRlZCkubGVuZ3RoICE9IHRpbWluZ19ub2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjeWNsZSA9IFtdO1xuICAgICAgICAgICAgdGltaW5nX25vZGVzLmZvckVhY2goZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgICAgIGlmICghKG5vZGUgaW4gdmlzaXRlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3ljbGUucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDaXJjdWxhciB0aW1pbmcgY29uc3RyYWludHMgZGV0ZWN0ZWRgLCBjeWNsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzZXQuZm9yRWFjaChmdW5jdGlvbihub2Rlcywgbikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5vZGUgaW4gbm9kZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdGFza3MucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3RpbWluZyA9IHRpbWluZ19lZGdlc19pbnY7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVGltaW5nIHJlc29sdmVkYCwgdGhpcy5fdGFza3MpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRDb21wb25lbnQ6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50c1tuYW1lXTtcbiAgICB9LFxuICAgIGdldENvbnRhaW5lcjogZnVuY3Rpb24obmFtZSwgdmFyaWFudHMpIHtcbiAgICAgICAgdmFyIGNvbnRhaW5lciA9IHt9O1xuICAgICAgICBpZiAobmFtZSBpbiB0aGlzLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHRoaXMuY29tcG9uZW50c1tuYW1lXS5jb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYWRkdG8gPSAobmFtZSA9PSBgYm9keWApPyQoYGJvZHlgKTokKGAjJHtuYW1lfWApO1xuICAgICAgICAgICAgZm9yICh2YXIgdnIgaW4gdmFyaWFudHMpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJbdnJdID0gYWRkdG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9LFxuICAgIGdldEJlZm9yZTogZnVuY3Rpb24obmFtZSwgc3RhZ2UpIHtcbiAgICAgICAgdmFyIHByZXZfbm9kZXMgPSBbXTtcbiAgICAgICAgdmFyIG5leHRfbm9kZSA9IGAke25hbWV9LSR7c3RhZ2V9YDtcbiAgICAgICAgZm9yICh2YXIgcHJldl9ub2RlIGluICh0aGlzLl90aW1pbmdbbmV4dF9ub2RlXSB8fCB7fSkpIHtcbiAgICAgICAgICAgIHByZXZfbm9kZXMucHVzaChwcmV2X25vZGUuc3BsaXQoYC1gKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByZXZfbm9kZXM7XG4gICAgfSxcbiAgICB3b3JrOiBmdW5jdGlvbigpIHsgXG4gICAgICAgIHRoaXMuX3Rhc2tzLmZvckVhY2goZnVuY3Rpb24odGFzaykge1xuICAgICAgICAgICAgdmFyIHRhc2tfY29tcHMgPSB0YXNrLnNwbGl0KGAtYCk7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRhc2tfY29tcHNbMF07XG4gICAgICAgICAgICB2YXIgc3RhZ2UgPSB0YXNrX2NvbXBzWzFdO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50KG5hbWUpO1xuICAgICAgICAgICAgZm9yICh2YXIgdnIgaW4gY29tcG9uZW50LnZhcmlhbnRzKSB7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50W3N0YWdlXSh2cik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH0sXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2U7XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogZ2VuZXJpYyBmYWNldCBiYXNlZCBvbiByZWxhdGVkIHZhbHVlc1xuICogQ1R5cGUsIFRhZGlyYWhvIGFuZCBFVW1hcCBpbmhlcml0IGZyb20gdGhpcy5cbiAqL1xuXG52YXIgZyA9IHJlcXVpcmUoJy4vZ2VuZXJpYy5qcycpO1xuXG5mdW5jdGlvbiBSZWxhdGl2ZShjb21wb25lbnQsIHJ0eXBlLCBjb2xzLCBjdXRvZmYsIHNob3J0c2l6ZSkge1xuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIHRoaXMuZGlzdGlsbGVkID0ge307XG4gICAgdGhpcy5fbGlzdCA9IHt9O1xuICAgIHRoaXMuX2xpc3QyID0ge307XG4gICAgdGhpcy5fcmVsYXRlZF9zdGF0ZSA9IHt9O1xuICAgIHRoaXMuX2FsbF92YWx1ZXNfY29udHJvbCA9IHt9O1xuICAgIHRoaXMuX3N0YXRpc3RpY3MgPSB7fTtcbiAgICB0aGlzLl9yZWxhdGVkX3ZhbHVlc19saXN0ID0ge307XG4gICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXggPSB7fTtcbiAgICB0aGlzLl9yZWxhdGVkX3ZhbHVlc19vbiA9IHt9O1xuICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX29mZiA9IHt9O1xuICAgIHRoaXMuX25vX3ZhbHVlcyA9IHt2YWx1ZTogYC1gLCBuYW1lOiBgLW5vbmVgfTtcbiAgICB0aGlzLl90eXBlID0gcnR5cGU7XG4gICAgdGhpcy5fY29scyA9IGNvbHMgfHwgMjtcbiAgICB0aGlzLl9jdXRvZmYgPSBjdXRvZmYgfHwgMTQ7XG4gICAgdGhpcy5fc2hvcnRzaXplID0gc2hvcnRzaXplIHx8IDY7XG59O1xuXG5SZWxhdGl2ZS5wcm90b3R5cGUgPSB7XG4gICAgX2h0bWw6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHZhciB0eXBlX3NnID0gdGhpcy5jb21wb25lbnQuc3RhdGUuc2hvd1N0YXRlKGBsaXN0YCwgdGhpcy5fdHlwZSwgYHNnYCk7XG4gICAgICAgIHZhciB0eXBlX3BsID0gdGhpcy5jb21wb25lbnQuc3RhdGUuc2hvd1N0YXRlKGBsaXN0YCwgdGhpcy5fdHlwZSwgYHBsYCk7XG4gICAgICAgIHZhciBoID0gYGA7XG4gICAgICAgIGggKz0gdGhpcy5fcHJlSHRtbCh2cik7XG4gICAgICAgIGggKz0gYFxuPGRpdj5cbiAgICA8cCBjbGFzcz1cImRjdHJsXCI+PHNwYW4gZmN0PVwiJHt0aGlzLmNvbXBvbmVudC5uYW1lfS0ke3ZyfVwiPjwvc3Bhbj4gQnkgJHt0eXBlX3NnfTwvcD5cbiAgICA8cCBjbGFzcz1cImFsbFwiPjxzcGFuIHJ2PVwiX2FsbFwiIGNsYXNzPVwic3RhdHNcIj48L3NwYW4+IDxhIHJ2PVwiX2FsbFwiIGhyZWY9XCIjXCIgY2xhc3M9XCJmYWNldF9zaW5nbGVfYWxsXCI+YWxsICR7dHlwZV9wbH08L2E+PC9wPlxuICAgIDx0YWJsZSBjbGFzcz1cInZhbHVlX2xpc3RcIiBpZD1cImxpc3QtJHt0aGlzLl90eXBlfS12YWxzXyR7dnJ9XCI+XG4gICAgICAgIDx0cj5cbmA7XG4gICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2xpc3RbdnJdLmZvckVhY2goZnVuY3Rpb24ocmVsYXRlZF92YWx1ZSwgaSwgYXIpIHtcbiAgICAgICAgICAgIGlmICgoaSAlIHRoaXMuX2NvbHMgPT0gMCkgJiYgKGkgPiAwKSAmJiAoaSA8IGFyLmxlbmd0aCkpIHtcbiAgICAgICAgICAgICAgICBoICs9IGA8L3RyPjx0cj5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJhd192YWx1ZSA9IHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2luZGV4W3ZyXVtyZWxhdGVkX3ZhbHVlXTtcbiAgICAgICAgICAgIGggKz0gYFxuICAgICAgICAgICAgPHRkPjxzcGFuIHJ2PVwiJHtyZWxhdGVkX3ZhbHVlfVwiIGNsYXNzPVwic3RhdHNcIj48L3NwYW4+PC90ZD5cbiAgICAgICAgICAgIDx0ZD48YSBydj1cIiR7cmVsYXRlZF92YWx1ZX1cIiBocmVmPVwiI1wiIGNsYXNzPVwiZmFjZXRfc2luZ2xlXCI+JHtnLmVzY2FwZUhUTUwocmF3X3ZhbHVlKX08L2E+PC90ZD5cbiAgICAgICAgICAgIGA7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBoICs9IGBcbiAgICAgICAgPC90cj5cbiAgICA8L3RhYmxlPlxuICAgIDxwIGNsYXNzPVwidmFsdWVfbGlzdDJcIiBpZD1cImxpc3QyLSR7dGhpcy5fdHlwZX0tdmFsc18ke3ZyfVwiPlxuYDtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfbGlzdFt2cl0uZm9yRWFjaChmdW5jdGlvbihyZWxhdGVkX3ZhbHVlLCBpLCBhcikge1xuICAgICAgICAgICAgdmFyIHJhd192YWx1ZSA9IHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2luZGV4W3ZyXVtyZWxhdGVkX3ZhbHVlXTtcbiAgICAgICAgICAgIHZhciBjb21wYWN0X3ZhbHVlID0gZy5lc2NhcGVIVE1MKGcuY29tcGFjdCh0aGlzLl9jdXRvZmYsIHRoaXMuX3Nob3J0c2l6ZSwgcmF3X3ZhbHVlKSk7XG4gICAgICAgICAgICBoICs9IGA8YSBocmVmPVwiI1wiIHJ2PVwiJHtyZWxhdGVkX3ZhbHVlfVwiIGNsYXNzPVwicGFzc2l2ZV9zbWFsbFwiIHRpdGxlPVwiJHtnLmVzY2FwZUhUTUwocmF3X3ZhbHVlKX1cIj4ke2NvbXBhY3RfdmFsdWV9PC9hPiBgO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgaCArPSBgXG4gICAgPC9wPlxuPC9kaXY+YDtcbiAgICAgICAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5odG1sKGgpO1xuICAgIH0sXG4gICAgX2RyZXNzdXA6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHZhciBjYyA9IHRoaXMuY29tcG9uZW50LmNvbnRhaW5lclt2cl07XG4gICAgICAgIHRoaXMuX2xpc3RbdnJdID0gY2MuZmluZChgI2xpc3QtJHt0aGlzLl90eXBlfS12YWxzXyR7dnJ9YCk7XG4gICAgICAgIHRoaXMuX2xpc3QyW3ZyXSA9IGNjLmZpbmQoYCNsaXN0Mi0ke3RoaXMuX3R5cGV9LXZhbHNfJHt2cn1gKTtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB0aGlzLl9saXN0W3ZyXS5maW5kKGAuZmFjZXRfc2luZ2xlYCkuY2xpY2soZnVuY3Rpb24oZSkge2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciByZWxhdGVkX3ZhbHVlID0gJCh0aGlzKS5hdHRyKGBydmApO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gdGhhdC5fZnJvbV9zdHIodnIsIHRoYXQuY29tcG9uZW50LnN0YXRlLmdldFN0YXRlKGByZWxfJHt0aGF0Ll90eXBlfV8ke3ZyfWApKTtcbiAgICAgICAgICAgIHNlbGVjdGVkW3JlbGF0ZWRfdmFsdWVdID0gKHJlbGF0ZWRfdmFsdWUgaW4gc2VsZWN0ZWQpPyFzZWxlY3RlZFtyZWxhdGVkX3ZhbHVlXTp0cnVlO1xuICAgICAgICAgICAgdGhhdC5jb21wb25lbnQuc3RhdGUuc2V0U3RhdGUoYHJlbF8ke3RoYXQuX3R5cGV9XyR7dnJ9YCwgZy50b19zdHIoc2VsZWN0ZWQpKTtcbiAgICAgICAgICAgIGNjLmZpbmQoYC5sYXN0X2hhbmRsZWRgKS5yZW1vdmVDbGFzcyhgbGFzdF9oYW5kbGVkYCk7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKGBsYXN0X2hhbmRsZWRgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2xpc3QyW3ZyXS5maW5kKGAucGFzc2l2ZV9zbWFsbGApLmNsaWNrKGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgcmVsYXRlZF92YWx1ZSA9ICQodGhpcykuYXR0cihgcnZgKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9IHRoYXQuX2Zyb21fc3RyKHZyLCB0aGF0LmNvbXBvbmVudC5zdGF0ZS5nZXRTdGF0ZShgcmVsXyR7dGhhdC5fdHlwZX1fJHt2cn1gKSk7XG4gICAgICAgICAgICBzZWxlY3RlZFtyZWxhdGVkX3ZhbHVlXSA9IChyZWxhdGVkX3ZhbHVlIGluIHNlbGVjdGVkKT8hc2VsZWN0ZWRbcmVsYXRlZF92YWx1ZV06dHJ1ZTtcbiAgICAgICAgICAgIHRoYXQuY29tcG9uZW50LnN0YXRlLnNldFN0YXRlKGByZWxfJHt0aGF0Ll90eXBlfV8ke3ZyfWAsIGcudG9fc3RyKHNlbGVjdGVkKSk7XG4gICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoYGRpdmApLmZpbmQoYC5tb3JlY2ApLmNsaWNrKCk7XG4gICAgICAgICAgICB2YXIgbGFzdF9oYW5kbGVkID0gdGhhdC5fbGlzdFt2cl0uZmluZChgYVtydj1cIiR7cmVsYXRlZF92YWx1ZX1cIl1gKTtcbiAgICAgICAgICAgIGNjLmZpbmQoYC5sYXN0X2hhbmRsZWRgKS5yZW1vdmVDbGFzcyhgbGFzdF9oYW5kbGVkYCk7XG4gICAgICAgICAgICBsYXN0X2hhbmRsZWQuYWRkQ2xhc3MoYGxhc3RfaGFuZGxlZGApO1xuICAgICAgICAgICAgJChgI2xlZnRgKVswXS5zY3JvbGxUb3AgPSA1MDtcbiAgICAgICAgICAgIGxhc3RfaGFuZGxlZFswXS5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6IGBzbW9vdGhgLFxuICAgICAgICAgICAgICAgIGFsaWduVG9Ub3A6IGB0cnVlYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fYWxsX3ZhbHVlc19jb250cm9sW3ZyXSA9IHRoaXMuY29tcG9uZW50LmNvbnRhaW5lclt2cl0uZmluZChgW3J2PVwiX2FsbFwiXWApO1xuICAgICAgICB0aGlzLl9hbGxfdmFsdWVzX2NvbnRyb2xbdnJdLmNsaWNrKGZ1bmN0aW9uKGUpIHtlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgaXNvbiA9ICQodGhpcykuaGFzQ2xhc3MoYGlzb25gKTtcbiAgICAgICAgICAgIGlmIChpc29uKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5jb21wb25lbnQuc3RhdGUuc2V0U3RhdGUoYHJlbF8ke3RoYXQuX3R5cGV9XyR7dnJ9YCwgZy50b19zdHIodGhhdC5fcmVsYXRlZF92YWx1ZXNfb2ZmW3ZyXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhhdC5jb21wb25lbnQuc3RhdGUuc2V0U3RhdGUoYHJlbF8ke3RoYXQuX3R5cGV9XyR7dnJ9YCwgZy50b19zdHIodGhhdC5fcmVsYXRlZF92YWx1ZXNfb25bdnJdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgX3NldEZhY2V0OiBmdW5jdGlvbih2ciwgcmVsYXRlZF92YWx1ZXMpIHtcbiAgICAgICAgdmFyIGFsbF9zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdKSB7XG4gICAgICAgICAgICB2YXIgZmFjZXRfY2VsbCA9IHRoaXMuX2xpc3RbdnJdLmZpbmQoYFtydj1cIiR7cmVsYXRlZF92YWx1ZX1cIl1gKTtcbiAgICAgICAgICAgIHZhciBmYWNldF9jZWxsMiA9IHRoaXMuX2xpc3QyW3ZyXS5maW5kKGBbcnY9XCIke3JlbGF0ZWRfdmFsdWV9XCJdYCk7XG4gICAgICAgICAgICBpZiAocmVsYXRlZF92YWx1ZSBpbiByZWxhdGVkX3ZhbHVlcyAmJiByZWxhdGVkX3ZhbHVlc1tyZWxhdGVkX3ZhbHVlXSkge1xuICAgICAgICAgICAgICAgIGZhY2V0X2NlbGwuYWRkQ2xhc3MoYGlzb25gKTtcbiAgICAgICAgICAgICAgICBmYWNldF9jZWxsMi5hZGRDbGFzcyhgaXNvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmFjZXRfY2VsbC5yZW1vdmVDbGFzcyhgaXNvbmApO1xuICAgICAgICAgICAgICAgIGZhY2V0X2NlbGwyLnJlbW92ZUNsYXNzKGBpc29uYCk7XG4gICAgICAgICAgICAgICAgYWxsX3NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFsbF9zZWxlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5fYWxsX3ZhbHVlc19jb250cm9sW3ZyXS5hZGRDbGFzcyhgaXNvbmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fYWxsX3ZhbHVlc19jb250cm9sW3ZyXS5yZW1vdmVDbGFzcyhgaXNvbmApO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfZnJvbV9zdHI6IGZ1bmN0aW9uKHZyLCBzdCkge1xuICAgICAgICB2YXIgb2IgPSB7fTtcbiAgICAgICAgaWYgKHN0ICE9PSBudWxsICYmIHN0ICE9IHVuZGVmaW5lZCAmJiBzdCAhPSAnJykge1xuICAgICAgICAgICAgdmFyIGFyID0gc3Quc3BsaXQoJywnKTtcbiAgICAgICAgICAgIGFyLmZvckVhY2goZnVuY3Rpb24odikge1xuICAgICAgICAgICAgICAgIG9iW3ZdID0gdHJ1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdKSB7XG4gICAgICAgICAgICBpZiAoIShyZWxhdGVkX3ZhbHVlIGluIG9iKSkge1xuICAgICAgICAgICAgICAgIG9iW3JlbGF0ZWRfdmFsdWVdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iO1xuICAgIH0sXG4gICAgc3RhdHM6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuX3N0YXRpc3RpY3NbdnJdID0ge307XG4gICAgICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzW3ZyXVtyZWxhdGVkX3ZhbHVlXSA9IDA7XG4gICAgICAgIH0gXG4gICAgICAgIHZhciByZWxhdGVkX2RhdGEgPSB0aGlzLmNvbXBvbmVudC5kYXRhW3ZyXTtcbiAgICAgICAgZm9yICh2YXIgeCBpbiB0aGlzLmRpc3RpbGxlZFt2cl0pIHtcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5kaXN0aWxsZWRbdnJdW3hdO1xuICAgICAgICAgICAgdmFyIGhhc19yZWxhdGVkX3ZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IgKHZhciByZWxhdGVkX3ZhbHVlIGluIHJlbGF0ZWRfZGF0YVtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NbdnJdW3JlbGF0ZWRfdmFsdWVdICs9IDE7XG4gICAgICAgICAgICAgICAgaGFzX3JlbGF0ZWRfdmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFoYXNfcmVsYXRlZF92YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRpc3RpY3NbdnJdW3RoaXMuX25vX3ZhbHVlcy52YWx1ZV0gKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciByZWxhdGVkX3ZhbHVlIGluIHRoaXMuX3N0YXRpc3RpY3NbdnJdKSB7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jb250YWluZXJbdnJdLmZpbmQoYHNwYW5bcnY9XCIke3JlbGF0ZWRfdmFsdWV9XCJdLnN0YXRzYCkuaHRtbCh0aGlzLl9zdGF0aXN0aWNzW3ZyXVtyZWxhdGVkX3ZhbHVlXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5maW5kKGBzcGFuW3J2PVwiX2FsbFwiXS5zdGF0c2ApLmh0bWwodGhpcy5kaXN0aWxsZWRbdnJdLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuX215U3RhdHModnIpO1xuICAgIH0sXG4gICAgdjogZnVuY3Rpb24odnIsIGkpIHtcbiAgICAgICAgdmFyIHJlbGF0ZWRfZGF0YSA9ICB0aGlzLmNvbXBvbmVudC5kYXRhW3ZyXTtcbiAgICAgICAgdmFyIHJlbGF0ZWRfc3RhdGUgPSB0aGlzLl9mcm9tX3N0cih2ciwgdGhpcy5fcmVsYXRlZF9zdGF0ZVt2cl0pO1xuICAgICAgICBpZiAoKGkgaW4gcmVsYXRlZF9kYXRhKSAmJiAoT2JqZWN0LmtleXMocmVsYXRlZF9kYXRhW2ldKS5sZW5ndGggIT0gMCkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHJlbGF0ZWRfdmFsdWUgaW4gcmVsYXRlZF9kYXRhW2ldKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWxhdGVkX3ZhbHVlIGluIHJlbGF0ZWRfc3RhdGUpICYmIHJlbGF0ZWRfc3RhdGVbcmVsYXRlZF92YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCh0aGlzLl9ub192YWx1ZXMudmFsdWUgaW4gcmVsYXRlZF9zdGF0ZSkgJiYgKHJlbGF0ZWRfc3RhdGVbdGhpcy5fbm9fdmFsdWVzLnZhbHVlXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgICBzaG93OiBmdW5jdGlvbih2cikge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29tcG9uZW50LnN0YXRlLmdldFN0YXRlKGBsaXN0YCkgPT0gdnIpO1xuICAgIH0sXG4gICAgd2VsZDogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfbGlzdFt2cl0gPSBbXTtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdID0ge307XG4gICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX29mZlt2cl0gPSB7fTtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfb25bdnJdID0ge307XG4gICAgICAgIHRoaXMuX3BsYWluV2VsZCh2cik7XG4gICAgICAgIHRoaXMuX215V2VsZCh2cik7XG4gICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2xpc3RbdnJdLnB1c2godGhpcy5fbm9fdmFsdWVzLnZhbHVlKTtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfaW5kZXhbdnJdW3RoaXMuX25vX3ZhbHVlcy52YWx1ZV0gPSB0aGlzLl9ub192YWx1ZXMubmFtZTtcbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfb2ZmW3ZyXVt0aGlzLl9ub192YWx1ZXMudmFsdWVdID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX29uW3ZyXVt0aGlzLl9ub192YWx1ZXMudmFsdWVdID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faHRtbCh2cik7XG4gICAgfSxcbiAgICB3aXJlOiBmdW5jdGlvbih2cikge1xuICAgICAgICB0aGlzLl9teURyZXNzdXAodnIpO1xuICAgICAgICB0aGlzLl9kcmVzc3VwKHZyKTtcbiAgICB9LFxuICAgIHdvcms6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHRoaXMuX3JlbGF0ZWRfc3RhdGVbdnJdID0gdGhpcy5jb21wb25lbnQuc3RhdGUuZ2V0U3RhdGUoYHJlbF8ke3RoaXMuX3R5cGV9XyR7dnJ9YCk7XG4gICAgICAgIHZhciByZWxhdGVkX3ZhbHVlcyA9ICB0aGlzLl9mcm9tX3N0cih2ciwgdGhpcy5fcmVsYXRlZF9zdGF0ZVt2cl0pO1xuICAgICAgICB0aGlzLl9teVNldEZhY2V0KHZyLCByZWxhdGVkX3ZhbHVlcyk7XG4gICAgICAgIHRoaXMuX3NldEZhY2V0KHZyLCByZWxhdGVkX3ZhbHVlcyk7XG4gICAgfSxcbiAgICBfcGxhaW5XZWxkOiBmdW5jdGlvbih2cikge1xuICAgICAgICB2YXIgcmVsYXRlZF92YWx1ZXMgPSB0aGlzLmNvbXBvbmVudC5yZWxhdGVkX3ZhbHVlc1t2cl07XG4gICAgICAgIGZvciAodmFyIGkgaW4gcmVsYXRlZF92YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciByZWxhdGVkX3ZhbHVlID0gcmVsYXRlZF92YWx1ZXNbaV07XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGVkX3ZhbHVlc19vZmZbdnJdW2ldID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9yZWxhdGVkX3ZhbHVlc19vblt2cl1baV0gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfbGlzdFt2cl0ucHVzaChpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbGF0ZWRfdmFsdWVzX2luZGV4W3ZyXVtpXSA9IHJlbGF0ZWRfdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVsYXRlZF92YWx1ZXNfbGlzdFt2cl0uc29ydChmdW5jdGlvbihhLGIpIHtcbiAgICAgICAgICAgIHJldHVybiAocmVsYXRlZF92YWx1ZXNbYV0gPCByZWxhdGVkX3ZhbHVlc1tiXSk/LTE6KHJlbGF0ZWRfdmFsdWVzW2FdID4gcmVsYXRlZF92YWx1ZXNbYl0pPzE6MDsgXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgX215V2VsZDogZnVuY3Rpb24odnIpIHt9LFxuICAgIF9wcmVIdG1sOiBmdW5jdGlvbih2cikge3JldHVybiBgYH0sXG4gICAgX215RHJlc3N1cDogZnVuY3Rpb24odnIpIHt9LFxuICAgIF9teVNldEZhY2V0OiBmdW5jdGlvbih2cikge30sXG4gICAgX215U3RhdHM6IGZ1bmN0aW9uKHZyKSB7fSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gUmVsYXRpdmU7XG4iLCJ2YXIgZyA9IHJlcXVpcmUoJy4vZ2VuZXJpYy5qcycpO1xuXG5mdW5jdGlvbiBTaGFyZShjb21wb25lbnQpIHsgLy8gdGhlIFNIQVJFIGNvbXBvbmVudFxuICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xufTtcblxuU2hhcmUucHJvdG90eXBlID0ge1xuICAgIHNob3c6IGZ1bmN0aW9uKHZyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgd2VsZDogZnVuY3Rpb24odnIpIHtcblx0ICAgIHZhciBoID0gYFxuPHAgaWQ9XCLigKJjaXRlaFwiPkNpdGU8L3A+XG48dGFibGUgYWxpZ249XCJjZW50ZXJcIj5cbiAgICA8dHI+XG4gICAgICAgIDx0ZCBjbGFzcz1cIuKAomNsaXBfcHYgY2xyXCI+XG4gICAgICAgICAgICA8YSBsbms9XCJcIiBocmVmPVwiI1wiIGlkPVwi4oCiY2xpcF9wdl9tZFwiIHRpdGxlPVwibGluayB0byBwYWdlIGNvbnRlbnQgYW5kIGFwcGVhcmFuY2UgKG1hcmtkb3duKVwiIGNsYXNzPVwiY3RybCBmYSBmYS1sZXZlbC1kb3duIGZhLWxnIGZhLWZ3XCI+PC9hPlxuICAgICAgICAgICAgPGEgbG5rPVwiXCIgaHJlZj1cIiNcIiBpZD1cIuKAomNsaXBfcHZfaHRcIiB0aXRsZT1cImxpbmsgdG8gcGFnZSBjb250ZW50IGFuZCBhcHBlYXJhbmNlIChodG1sKVwiIGNsYXNzPVwiY3RybCBmYSBmYS1leHRlcm5hbC1saW5rLXNxdWFyZSBmYS1sZyBmYS1md1wiPjwvYT5cbiAgICAgICAgICAgIDxhIGxuaz1cIlwiIGhyZWY9XCIjXCIgaWQ9XCLigKJjbGlwX3B2X2h0Y1wiIHRpdGxlPVwibGluayB0byBwYWdlIGNvbnRlbnQgKGh0bWwpXCIgY2xhc3M9XCJjdHJsIGZhIGZhLWV4dGVybmFsLWxpbmsgZmEtbGcgZmEtZndcIj48L2E+XG4gICAgICAgICAgICA8YSBsbms9XCJcIiBocmVmPVwiI1wiIGlkPVwi4oCiY2xpcF9wdl9jblwiIHRpdGxlPVwiY29weSBwYWdlIGNvbnRlbnRcIiBjbGFzcz1cImN0cmwgZmEgZmEtZmlsZS10ZXh0LW8gZmEtbGcgZmEtZndcIj48L2E+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHI+XG4gICAgICAgIDx0aCBjbGFzcz1cIuKAomNsaXBfcHZcIiB3aWR0aD1cIjYwcHhcIj5wYWdlIHZpZXc8L3RoPlxuICAgIDwvdHI+XG4gICAgPHRyIGNsYXNzPVwi4oCiY2l0ZXhwbFwiPlxuICAgICAgICA8dGQgY2xhc3M9XCLigKJjbGlwX3B2XCI+PHNwYW4gaWQ9XCLigKJ4Y19wdlwiIGNsYXNzPVwiY3RybCBmYSBmYS1jaGV2cm9uLXJpZ2h0IGZhLWZ3XCI+PC9zcGFuPjxzcGFuIGlkPVwi4oCieF9wdlwiIGNsYXNzPVwi4oCiZGV0YWlsXCI+c2hhcmUgbGluayB0byB0aGlzIHBhZ2Ugd2l0aCBvciB3aXRob3V0IHZpZXcgc2V0dGluZ3MuPC9zcGFuPjwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48cCBpZD1cIuKAomNkaWFncHViXCI+PC9wPlxuPHAgaWQ9XCLigKJjZGlhZ3N0c1wiPjwvcD5cbmA7XHRcbiAgICAgICAgdGhpcy5jb21wb25lbnQuY29udGFpbmVyW3ZyXS5odG1sKGgpO1xuICAgIH0sXG4gICAgd2lyZTogZnVuY3Rpb24odnIpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICB2YXIgY2MgPSB0aGlzLmNvbXBvbmVudC5jb250YWluZXJbdnJdO1xuICAgICAgICB2YXIgc2xpbmsgPSAkKGAjc2VsZl9saW5rYCk7XG4gICAgICAgIHNsaW5rLmhpZGUoKTtcbiAgICAgICAgY2MuYWRkQ2xhc3MoYOKAonNvY2lhbGRyYXdlcmApO1xuICAgICAgICBjYy5maW5kKGAu4oCiZGV0YWlsYCkuaGlkZSgpO1xuICAgICAgICBjYy5maW5kKGAj4oCiY2xpcF9wdl9tZCwj4oCiY2xpcF9wdl9odCwj4oCiY2xpcF9wdl9odGMsI+KAomNsaXBfcHZfbmxgKS5jbGljayhmdW5jdGlvbihlKSB7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgd2luZG93LnByb21wdChgUHJlc3MgPENtZC1DPiBhbmQgdGhlbiA8RW50ZXI+IHRvIGNvcHkgbGluayBvbiBjbGlwYm9hcmRgLCAkKHRoaXMpLmF0dHIoYGxua2ApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLmZpbmQoYCPigKJjbGlwX3B2X2NuYCkuY2xpY2soZnVuY3Rpb24oZSkge2UucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJpZCA9IGBtaWRkbGVgO1xuICAgICAgICAgICAgdmFyIGFwcF91cmxfcmF3ID0gYXBwX3VybF9jaXRlK3RoYXQuY29tcG9uZW50LnN0YXRlLmdldFZhcnModHJ1ZSk7XG4gICAgICAgICAgICBzbGluay5zaG93KCk7XG4gICAgICAgICAgICBzbGluay5hdHRyKGBocmVmYCwgYXBwX3VybF9yYXcpO1xuICAgICAgICAgICAgZy5zZWxlY3RUZXh0KGNvbnRhaW5lcmlkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLmZpbmQoYCPigKJ4Y19wdmApLmNsaWNrKGZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTsgZy50b2dnbGVEZXRhaWwoJCh0aGlzKSwgJChgI+KAonhfcHZgKSl9KTtcbiAgICAgICAgY2MuY2xpY2soZnVuY3Rpb24oZSl7ZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGFwcF91cmxfcmF3ID0gYXBwX3VybF9jaXRlK3RoYXQuY29tcG9uZW50LnN0YXRlLmdldFZhcnModHJ1ZSk7XG4gICAgICAgICAgICB2YXIgYXBwX3VybF9yYXdjID0gYXBwX3VybF9jaXRlK3RoYXQuY29tcG9uZW50LnN0YXRlLmdldFZhcnMoZmFsc2UpO1xuICAgICAgICAgICAgJChgI+KAomNpdGVoYCkuaGlkZSgpO1xuICAgICAgICAgICAgJChgI+KAomNkaWFncHViYCkuaHRtbChgYCk7XG4gICAgICAgICAgICAkKGAj4oCiY2RpYWdzdHNgKS5odG1sKGBgKTtcbiAgICAgICAgICAgICQoYC7igKJjbGlwX3B2LmNsciwj4oCiY2RpYWdwdWIsI+KAomNkaWFnc3RzYCkucmVtb3ZlQ2xhc3MoYGVycm9yIHdhcm5pbmcgZ29vZCBzcGVjaWFsYCk7XG4gICAgICAgICAgICB2YXIgcHZ0aXRsZSA9IGcuZXNjYXBlSFRNTCgkKGB0aXRsZWApLnRleHQoKSk7XG4gICAgICAgICAgICAkKGAj4oCiY2xpcF9wdl9tZGApLmF0dHIoYGxua2AsIGBbJHtwdnRpdGxlfV0oJHthcHBfdXJsX3Jhd30pYCk7XG4gICAgICAgICAgICAkKGAj4oCiY2xpcF9wdl9odGApLmF0dHIoYGxua2AsIGFwcF91cmxfcmF3KTtcbiAgICAgICAgICAgICQoYCPigKJjbGlwX3B2X2h0Y2ApLmF0dHIoYGxua2AsIGFwcF91cmxfcmF3Yyk7XG4gICAgICAgICAgICAkKGAj4oCiY2xpcF9wdl9jbmApLmF0dHIoYGxua2AsIGFwcF91cmxfcmF3KTtcbiAgICAgICAgICAgICQoYCPigKJjbGlwX3B2X2NuYCkuYXR0cihgdGl0YCwgcHZ0aXRsZSk7XG4gICAgICAgICAgICAkKHRoaXMpLmFuaW1hdGUoe2hlaWdodDpgMTAwcHhgLCB3aWR0aDpgMjAwcHhgLCBvcGFjaXR5OiAwLjk1fSwgMzAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLm1vdXNlbGVhdmUoZnVuY3Rpb24oKXsgXG4gICAgICAgICAgICBzbGluay5oaWRlKCk7XG4gICAgICAgICAgICAvL2cuZGVzZWxlY3RUZXh0KCk7XG4gICAgICAgICAgICAkKGAj4oCiY2l0ZWhgKS5zaG93KCk7XG4gICAgICAgICAgICBjYy5hbmltYXRlKHtoZWlnaHQ6YDIwcHhgLCB3aWR0aDogYDQwcHhgLCBvcGFjaXR5OiAuN30sIDMwMCk7IFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHdvcms6IGZ1bmN0aW9uKHZyKSB7fSxcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU2hhcmU7XG4iLCIvKiBJTkRJVklEVUFMIENPTVBPTkVOVDogY3R5cGVcbiAqIFRoaXMgbWFuYWdlcyB0aGUgZmFjZXQgXCJjb250cmlidXRpb24gdHlwZVwiXG4gKi9cblxudmFyIFJlbGF0aXZlID0gcmVxdWlyZSgnLi9yZWxhdGl2ZS5qcycpO1xuXG5mdW5jdGlvbiBUYWRpcmFoQShjb21wb25lbnQpIHtcbiAgICBSZWxhdGl2ZS5jYWxsKHRoaXMsIGNvbXBvbmVudCwgYHRhZGlyYWhhYCk7XG59O1xuXG5UYWRpcmFoQS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFJlbGF0aXZlLnByb3RvdHlwZSk7XG5UYWRpcmFoQS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUYWRpcmFoQTtcblxubW9kdWxlLmV4cG9ydHMgPSBUYWRpcmFoQTtcbiIsIi8qIElORElWSURVQUwgQ09NUE9ORU5UOiBjdHlwZVxuICogVGhpcyBtYW5hZ2VzIHRoZSBmYWNldCBcImNvbnRyaWJ1dGlvbiB0eXBlXCJcbiAqL1xuXG52YXIgUmVsYXRpdmUgPSByZXF1aXJlKCcuL3JlbGF0aXZlLmpzJyk7XG5cbmZ1bmN0aW9uIFRhZGlyYWhPKGNvbXBvbmVudCkge1xuICAgIFJlbGF0aXZlLmNhbGwodGhpcywgY29tcG9uZW50LCBgdGFkaXJhaG9gKTtcbn07XG5cblRhZGlyYWhPLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVsYXRpdmUucHJvdG90eXBlKTtcblRhZGlyYWhPLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRhZGlyYWhPO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhZGlyYWhPO1xuIiwiLyogSU5ESVZJRFVBTCBDT01QT05FTlQ6IGN0eXBlXG4gKiBUaGlzIG1hbmFnZXMgdGhlIGZhY2V0IFwiY29udHJpYnV0aW9uIHR5cGVcIlxuICovXG5cbnZhciBSZWxhdGl2ZSA9IHJlcXVpcmUoJy4vcmVsYXRpdmUuanMnKTtcblxuZnVuY3Rpb24gVGFkaXJhaFQoY29tcG9uZW50KSB7XG4gICAgUmVsYXRpdmUuY2FsbCh0aGlzLCBjb21wb25lbnQsIGB0YWRpcmFodGAsIDEsIDMwKTtcbn07XG5cblRhZGlyYWhULnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoUmVsYXRpdmUucHJvdG90eXBlKTtcblRhZGlyYWhULnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRhZGlyYWhUO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFRhZGlyYWhUO1xuIiwiLyogVklFVyBTVEFURVxuICogQ29udGFpbnMgdGhlIGN1cnJlbnQgc3RhdGUsIGJhc2VkIG9uIHJlcXVlc3QgdmFyaWFibGVzIGFuZCBsb2NhbCBzdG9yYWdlLlxuICogUmVxdWVzdCB2YXJpYWJsZXMgaGF2ZSBwcmVjZWRlbmNlIG92ZXIgbG9jYWwgc3RvcmFnZS5cbiAqIFJlcXVlc3QgdmFyaWFibGVzIGFyZSBjaGVja2VkIGFuZCB2YWxpZGF0ZWQgYW5kIHRyYW5zbGF0ZWQsIHRyYW5zbGF0ZWQgdmFsdWVzIGdvIHRvIGxvY2FsIHN0b3JhZ2UuXG4gKiBUaGVyZSBpcyBhIGxpc3Qgb2YgcmVjb2duaXplZCByZXF1ZXN0IHZhcmlhYmxlcywgd2l0aCB0aGVpciB0eXBlcyBhbmQgYWxsb3dhYmxlIHZhbHVlcy5cbiAqL1xuXG52YXIgZyA9IHJlcXVpcmUoJy4vZ2VuZXJpYy5qcycpO1xuXG5mdW5jdGlvbiBWaWV3U3RhdGUocGFnZSkge1xuICAgIHRoaXMuX2RhdGEgPSB7fTtcbiAgICB0aGlzLnBhZ2UgPSBwYWdlO1xuICAgIHRoaXMubXNnID0gcGFnZS5tc2c7XG4gICAgdGhpcy5fZ2V0SW5pdHN0YXRlKCk7XG4gICAgdGhpcy5fYWRkSGlzdG9yeSgpO1xufTtcblxuVmlld1N0YXRlLnByb3RvdHlwZSA9IHtcbiAgICBfc3BlY3M6IHtcbiAgICAgICAgbGlzdDoge3VybDogdHJ1ZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczoge2NvbnRyaWI6IDEsIGNvdW50cnk6IDEsIHR5cGU6IDEsIHRhZGlyYWhhOiAxLCB0YWRpcmFobzogMSwgdGFkaXJhaHQ6IDF9LCBkZWZhdWx0X3ZhbHVlOiBgY29udHJpYmB9LFxuICAgICAgICBmbHRfY29udHJpYjoge3VybDogZmFsc2UsIHR5cGU6IGBzdHJpbmdgLCB2YWx1ZXM6IG51bGwsIGRlZmF1bHRfdmFsdWU6IGBgfSxcbiAgICAgICAgZmx0X2NvdW50cnk6IHt1cmw6IGZhbHNlLCB0eXBlOiBgc3RyaW5nYCwgdmFsdWVzOiBudWxsLCBkZWZhdWx0X3ZhbHVlOiBgYH0sXG4gICAgICAgIGZsdF90eXBlOiB7dXJsOiBmYWxzZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczogbnVsbCwgZGVmYXVsdF92YWx1ZTogYGB9LFxuICAgICAgICBmbHRfdGFkaXJhaGE6IHt1cmw6IGZhbHNlLCB0eXBlOiBgc3RyaW5nYCwgdmFsdWVzOiBudWxsLCBkZWZhdWx0X3ZhbHVlOiBgYH0sXG4gICAgICAgIGZsdF90YWRpcmFobzoge3VybDogZmFsc2UsIHR5cGU6IGBzdHJpbmdgLCB2YWx1ZXM6IG51bGwsIGRlZmF1bHRfdmFsdWU6IGBgfSxcbiAgICAgICAgZmx0X3RhZGlyYWh0OiB7dXJsOiBmYWxzZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczogbnVsbCwgZGVmYXVsdF92YWx1ZTogYGB9LFxuICAgICAgICByZWxfY291bnRyeV9jb250cmliOiB7dXJsOiBmYWxzZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczogbnVsbCwgZGVmYXVsdF92YWx1ZTogYGB9LFxuICAgICAgICByZWxfdHlwZV9jb250cmliOiB7dXJsOiBmYWxzZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczogbnVsbCwgZGVmYXVsdF92YWx1ZTogYGB9LFxuICAgICAgICByZWxfdGFkaXJhaGFfY29udHJpYjoge3VybDogZmFsc2UsIHR5cGU6IGBzdHJpbmdgLCB2YWx1ZXM6IG51bGwsIGRlZmF1bHRfdmFsdWU6IGBgfSxcbiAgICAgICAgcmVsX3RhZGlyYWhvX2NvbnRyaWI6IHt1cmw6IGZhbHNlLCB0eXBlOiBgc3RyaW5nYCwgdmFsdWVzOiBudWxsLCBkZWZhdWx0X3ZhbHVlOiBgYH0sXG4gICAgICAgIHJlbF90YWRpcmFodF9jb250cmliOiB7dXJsOiBmYWxzZSwgdHlwZTogYHN0cmluZ2AsIHZhbHVlczogbnVsbCwgZGVmYXVsdF92YWx1ZTogYGB9LFxuICAgICAgICBpdGVtX2NvbnRyaWI6IHt1cmw6IHRydWUsIHR5cGU6IGBzdHJpbmdgLCB2YWx1ZXM6IG51bGwsIGRlZmF1bHRfdmFsdWU6IGBgfSxcbiAgICAgICAgaXRlbV9jb3VudHJ5OiB7dXJsOiB0cnVlLCB0eXBlOiBgc3RyaW5nYCwgdmFsdWVzOiBudWxsLCBkZWZhdWx0X3ZhbHVlOiBgYH0sXG4gICAgICAgIHNvcnQ6IHt1cmw6IGZhbHNlLCB0eXBlOiBgYm9vbGVhbmAsIHZhbHVlczoge3Y6IHRydWUsIHg6IGZhbHNlfSwgZGVmYXVsdF92YWx1ZTogdHJ1ZX0sIFxuICAgIH0sXG4gICAgX3Nob3dhczoge1xuICAgICAgICBsaXN0OiB7XG4gICAgICAgICAgICBjb250cmliOiB7c2c6IGBjb250cmlidXRpb25gLCBwbDogYGNvbnRyaWJ1dGlvbnNgfSxcbiAgICAgICAgICAgIGNvdW50cnk6IHtzZzogYGNvdW50cnlgLCBwbDogYGNvdW50cmllc2B9LFxuICAgICAgICAgICAgdHlwZToge3NnOiBgdHlwZWAsIHBsOiBgdHlwZXNgfSxcbiAgICAgICAgICAgIHRhZGlyYWhhOiB7c2c6IGB0YWRpcmFoIGFjdGl2aXR5YCwgcGw6IGB0YWRpcmFoIGFjdGl2aXRpZXNgfSxcbiAgICAgICAgICAgIHRhZGlyYWhvOiB7c2c6IGB0YWRpcmFoIG9iamVjdGAsIHBsOiBgdGFkaXJhaCBvYmplY3RzYH0sXG4gICAgICAgICAgICB0YWRpcmFodDoge3NnOiBgdGFkaXJhaCB0ZWNobmlxdWVgLCBwbDogYHRhZGlyYWggdGVjaG5pcXVlc2B9LFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgX3ZhbGlkYXRlOiBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgICAgICAgdmFyIG5ld3ZhbCwgbWVzc2FnZTtcbiAgICAgICAgaWYgKG5hbWUgaW4gdGhpcy5fc3BlY3MpIHtcbiAgICAgICAgICAgIHZhciBzcGVjID0gdGhpcy5fc3BlY3NbbmFtZV07XG4gICAgICAgICAgICBpZiAoc3BlYy50eXBlID09IGBzdHJpbmdgKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNwZWMudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgaW4gc3BlYy52YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3ZhbCA9IHZhbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld3ZhbCA9IHNwZWMuZGVmYXVsdF92YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXNnLm1zZyhgaWxsZWdhbCBzdHJpbmcgdmFsdWUgZm9yICR7bmFtZX06IFwiJHt2YWx9XCIgaXMgcmVwbGFjZWQgYnkgXCIke3NwZWMuZGVmYXVsdF92YWx1ZX1cImAsIGB3YXJuaW5nYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld3ZhbCA9IHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzcGVjLnR5cGUgPT0gYGludGVnZXJgKSB7XG4gICAgICAgICAgICAgICAgaWYgKC9eKFxcLXxcXCspP1swLTldKyQvLnRlc3QodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXd2YWwgPSBOdW1iZXIodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld3ZhbCA9IHNwZWMuZGVmYXVsdF92YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2cubXNnKGBub3QgYSBudW1iZXIgdmFsdWUgZm9yICR7bmFtZX06IFwiJHt2YWx9XCIgaXMgcmVwbGFjZWQgYnkgXCIke3NwZWMuZGVmYXVsdF92YWx1ZX1cImAsIGB3YXJuaW5nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXd2YWwgPCBzcGVjLmxpbWl0cy5taW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2cubXNnKGBudW1iZXIgdG8gc21hbGwgZm9yICR7bmFtZX06IFwiJHtuZXd2YWx9XCIgaXMgcmVwbGFjZWQgYnkgXCIke3NwZWMubGltaXRzLm1pbn1cImAsIGB3YXJuaW5nYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZXd2YWwgPiBzcGVjLmxpbWl0cy5tYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2cubXNnKGBudW1iZXIgdG8gYmlnIGZvciAke25hbWV9OiBcIiR7bmV3dmFsfVwiIGlzIHJlcGxhY2VkIGJ5IFwiJHtzcGVjLmxpbWl0cy5tYXh9XCJgLCBgd2FybmluZ2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHNwZWMudHlwZSA9PSBgYm9vbGVhbmApIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsIGluIHNwZWMudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld3ZhbCA9IHNwZWMudmFsdWVzW3ZhbF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXd2YWwgPSBzcGVjLmRlZmF1bHRfdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubXNnLm1zZyhgaWxsZWdhbCBib29sZWFuIHZhbHVlIGZvciAke25hbWV9OiBcIiR7dmFsfVwiIGlzIHJlcGxhY2VkIGJ5IFwiJHtzcGVjLmRlZmF1bHRfdmFsdWV9XCJgLCBgd2FybmluZ2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld3ZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1zZy5tc2coYHVua25vd24gcGFyYW1ldGVyOiAke25hbWV9PSR7dmFsfWAsIGB3YXJuaW5nYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld3ZhbDtcbiAgICB9LFxuICAgIGdldFZhcnM6IGZ1bmN0aW9uKGNvbXByZWhlbnNpdmUpIHtcbiAgICAgICAgdmFyIHZhcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICAgICAgICAgIHZhciBzcGVjID0gdGhpcy5fc3BlY3NbbmFtZV07XG4gICAgICAgICAgICBpZiAoY29tcHJlaGVuc2l2ZSB8fCBzcGVjLnVybCkge1xuICAgICAgICAgICAgICAgIGlmIChzcGVjLnR5cGUgPT0gYHN0cmluZ2AgfHwgc3BlYy50eXBlID09IGBpbnRlZ2VyYCkge3ZhcnMucHVzaChgJHtuYW1lfT0ke3ZhbH1gKX1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzcGVjLnR5cGUgPT0gYGJvb2xlYW5gKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZhbGlkX3ZhbCBpbiBzcGVjLnZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwZWMudmFsdWVzW3ZhbGlkX3ZhbF0gPT0gdmFsKSB7dmFycy5wdXNoKGAke25hbWV9PSR7dmFsaWRfdmFsfWApfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YXJzLmpvaW4oYCZgKVxuICAgIH0sXG4gICAgX2dldEluaXRzdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gZy5yZXF1ZXN0X3ZhcnMpIHtcbiAgICAgICAgICAgIGlmICghKG5hbWUgaW4gdGhpcy5fc3BlY3MpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tc2cubXNnKGB1bmtub3duIHBhcmFtZXRlcjogJHtuYW1lfT0ke3ZhbH1gLCBgd2FybmluZ2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5fc3BlY3MpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBudWxsO1xuICAgICAgICAgICAgaWYgKG5hbWUgaW4gZy5yZXF1ZXN0X3ZhcnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmF3X3ZhbCA9IGcucmVxdWVzdF92YXJzW25hbWVdO1xuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuX3ZhbGlkYXRlKG5hbWUsIHJhd192YWwpO1xuICAgICAgICAgICAgICAgIGcubG9jYWxzdG9yYWdlX3ZhcnMuc2V0KG5hbWUsIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChnLmxvY2Fsc3RvcmFnZV92YXJzLmlzU2V0KG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gZy5sb2NhbHN0b3JhZ2VfdmFycy5nZXQobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLl9zcGVjc1tuYW1lXS5kZWZhdWx0X3ZhbHVlO1xuICAgICAgICAgICAgICAgIGcubG9jYWxzdG9yYWdlX3ZhcnMuc2V0KG5hbWUsIHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kYXRhW25hbWVdID0gdmFsO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBfYWRkSGlzdG9yeTogZnVuY3Rpb24odGl0bGUsIHZpZXdfdXJsKSB7XG4gICAgICAgIHZhciB0aXQgPSBgREFSSUFIIGNvbnRyaWJ1dGlvbiB0b29sYDtcbiAgICAgICAgdmFyIHRoaXNfdXJsID0gYCR7YXBwX3VybH0/JHt0aGlzLmdldFZhcnMoZmFsc2UpfWA7XG4gICAgICAgIEhpc3RvcnkucHVzaFN0YXRlKHRoaXMuX2RhdGEsIHRpdCwgdGhpc191cmwpO1xuICAgIH0sXG4gICAgc2V0U3RhdGU6IGZ1bmN0aW9uKG5hbWUsIHZhbCkge1xuICAgICAgICB0aGlzLl9kYXRhW25hbWVdID0gdmFsO1xuICAgICAgICBnLmxvY2Fsc3RvcmFnZV92YXJzLnNldChuYW1lLCB2YWwpO1xuICAgICAgICB0aGlzLl9hZGRIaXN0b3J5KCk7XG4gICAgfSxcbiAgICBnZXRTdGF0ZTogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVtuYW1lXTtcbiAgICB9LFxuICAgIGdldFZhbHVlczogZnVuY3Rpb24obmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3BlY3NbbmFtZV0udmFsdWVzO1xuICAgIH0sXG4gICAgc2hvd1N0YXRlOiBmdW5jdGlvbihuYW1lLCB2YWwsIG1vZGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHZhbDtcbiAgICAgICAgdmFyIG1kID0gKG1vZGUgPT0gdW5kZWZpbmVkKT9gc2dgOm1vZGU7XG4gICAgICAgIGlmICh0aGlzLl9zaG93YXNbbmFtZV0gIT0gdW5kZWZpbmVkICYmIHRoaXMuX3Nob3dhc1tuYW1lXVt2YWxdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5fc2hvd2FzW25hbWVdW3ZhbF1bbW9kZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuICAgIHdvcms6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gSGlzdG9yeS5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgaWYgKHN0YXRlICYmIHN0YXRlLmRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kYXRhID0gc3RhdGUuZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2Uud29yaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcylcbiAgICB9LFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBWaWV3U3RhdGU7XG4iXX0=\n"],"sourceRoot":"/source/"}