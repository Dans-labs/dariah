!function e(t,r,n){function a(i,o){if(!r[i]){if(!t[i]){var u="function"==typeof require&&require;if(!o&&u)return u(i,!0);if(l)return l(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[i].exports}for(var l="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a="/Users/dirk/github/dariah/client/src/js/app/main.jsx",l=e("react"),i=n(l),o=e("react-dom"),u=e("react-router"),s=e("Provider.jsx"),c=n(s),f=e("App.jsx"),d=n(f),m=e("ContribsFiltered.jsx"),p=n(m),h=e("ContribsMy.jsx"),b=n(h),_=e("ContribItemPre.jsx"),v=n(_),y=e("Doc.jsx"),N=n(y),g=e("NotFound.jsx"),j=n(g);(0,o.render)(i["default"].createElement(c["default"],{__source:{fileName:a,lineNumber:62}},i["default"].createElement(u.Router,{history:u.browserHistory,__source:{fileName:a,lineNumber:63}},i["default"].createElement(u.Redirect,{from:"/about",to:"/docs/about.md",__source:{fileName:a,lineNumber:64}}),i["default"].createElement(u.Redirect,{from:"/docs/about",to:"/docs/about.md",__source:{fileName:a,lineNumber:65}}),i["default"].createElement(u.Redirect,{from:"/about.md",to:"/docs/about.md",__source:{fileName:a,lineNumber:66}}),i["default"].createElement(u.Redirect,{from:"/login",to:"/docs/about.md",__source:{fileName:a,lineNumber:67}}),i["default"].createElement(u.Redirect,{from:"/logout",to:"/docs/about.md",__source:{fileName:a,lineNumber:68}}),i["default"].createElement(u.Redirect,{from:"/slogout",to:"/docs/about.md",__source:{fileName:a,lineNumber:69}}),i["default"].createElement(u.Route,{path:"/",component:d["default"],__source:{fileName:a,lineNumber:70}},i["default"].createElement(u.IndexRoute,{component:d["default"],__source:{fileName:a,lineNumber:71}}),i["default"].createElement(u.IndexRedirect,{to:"/docs/about.md",__source:{fileName:a,lineNumber:72}}),i["default"].createElement(u.Route,{path:"contrib",component:p["default"],__source:{fileName:a,lineNumber:73}}),i["default"].createElement(u.Route,{path:"mycontrib",component:b["default"],__source:{fileName:a,lineNumber:74}},i["default"].createElement(u.Route,{path:":contribId",component:v["default"],ownOnly:!0,__source:{fileName:a,lineNumber:75}})),i["default"].createElement(u.Route,{path:"docs/:docFile",component:N["default"],__source:{fileName:a,lineNumber:77}}),i["default"].createElement(u.Route,{path:"tech/docs/gen/:docFile",component:N["default"],__source:{fileName:a,lineNumber:78}}),i["default"].createElement(u.Route,{path:"tech/docs/:docFile",component:N["default"],__source:{fileName:a,lineNumber:79}})),i["default"].createElement(u.Route,{path:"*",component:j["default"],__source:{fileName:a,lineNumber:81}}))),document.getElementById("body"))},{"App.jsx":5,"ContribItemPre.jsx":7,"ContribsFiltered.jsx":22,"ContribsMy.jsx":23,"Doc.jsx":10,"NotFound.jsx":17,"Provider.jsx":4,react:"react","react-dom":"react-dom","react-router":"react-router"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/object/CheckboxI.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=function(e){return!e.allTrue&&!e.allFalse},d=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(){var e=this.props.states;this.dom.indeterminate=f(e)}},{key:"onCheck",value:function(e,t,r){var n=this;return function(a){return e(t,n.dom.indeterminate||!r.allTrue)}}},{key:"setIndeterminate",value:function(e){var t=this.props.states;e&&(this.dom=e,e.indeterminate=f(t))}},{key:"render",value:function(){var e=this.props,t=e.states,r=e.filterId,n=e.updFilter;return c["default"].createElement("input",{ref:this.setIndeterminate.bind(this),type:"checkbox",onChange:this.onCheck(n,r,t).bind(this),checked:t.allTrue,__source:{fileName:o,lineNumber:48}})}}]),t}(s.Component);r["default"]=d},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var c,f,d=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h="/Users/dirk/github/dariah/client/src/js/app/object/EUMap.jsx",b=e("react"),_=n(b),v=e("ByValue.jsx"),y=n(v),N=e("leaflet"),g=n(N),j=e("europe.geo.js"),E=e("hoc.js"),w={HEIGHT:250,MAX_RADIUS:25,LEVEL_OFF:10,ZOOM_INIT:3,MAP_CENTER:[52,12],MAP_BOUNDS:[[30,-20],[70,40]],MARKER_COLOR:(c={},s(c,!0,{color:"#008800",fillColor:"#00cc00"}),s(c,!1,{color:"#888844",fillColor:"#bbbb66"}),c),MARKER_SHAPE:{weight:1,fill:!0,fillOpacity:.8},COUNTRY_STYLE:(f={},s(f,!0,{color:"#884422",weight:2,fill:!0,fillColor:"#aa7766",fillOpacity:1}),s(f,!1,{color:"#777777",weight:1,fill:!0,fillColor:"#bbbbbb",fillOpacity:1}),f)},k=function(e,t,r){var n=r&&r.has(e)?r.get(e):0;if(0==n)return 0;var a=w.MAX_RADIUS*n/t;return t<w.LEVEL_OFF?a:w.LEVEL_OFF*Math.sqrt(a)},x=function(e){function t(e){i(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.features=new Map,r}return u(t,e),p(t,[{key:"setMap",value:function(e){e&&(this.dom=e)}},{key:"render",value:function(){var e=this.props,t=(e.countriesMap,l(e,["countriesMap"]));return _["default"].createElement("div",{__source:{fileName:h,lineNumber:131}},_["default"].createElement("div",{ref:this.setMap.bind(this),style:{height:w.HEIGHT},__source:{fileName:h,lineNumber:132}}),_["default"].createElement(y["default"],m({},t,{__source:{fileName:h,lineNumber:136}})))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.filterSettings,n=t.filteredAmountOthers,l=t.amounts,i=t.countriesMap;this.map=g["default"].map(this.dom,{attributionControl:!1,center:w.MAP_CENTER,zoom:w.ZOOM_INIT,maxBounds:w.MAP_BOUNDS}),this.idFromIso=new Map([].concat(a(i.values())).map(function(e){return[e.iso,e._id]})),g["default"].geoJSON(j.countryBorders,{style:function(t){return w.COUNTRY_STYLE[e.inDariah(t)]},onEachFeature:function(t){if(e.inDariah(t)){var a=t.properties,i=a.iso2,o=e.idFromIso.get(i),u=r.get(o),s=g["default"].circleMarker([a.lat,a.lng],m({},w.MARKER_COLOR[u],{radius:k(o,n,l)},w.MARKER_SHAPE,{pane:"markerPane"})).addTo(e.map);e.features.set(a.iso2,s)}}}).addTo(this.map)}},{key:"inDariah",value:function(e){return this.idFromIso.has(e.properties.iso2)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.filterSettings,r=e.filteredAmountOthers,n=e.amounts,a=!0,l=!1,i=void 0;try{for(var o,u=this.features[Symbol.iterator]();!(a=(o=u.next()).done);a=!0){var s=d(o.value,2),c=s[0],f=s[1],m=this.idFromIso.get(c),p=t.get(m);f.setRadius(k(m,r,n)),f.setStyle(w.MARKER_COLOR[p])}}catch(h){l=!0,i=h}finally{try{!a&&u["return"]&&u["return"]()}finally{if(l)throw i}}}}]),t}(b.Component);r["default"]=(0,E.withContext)(x)},{"ByValue.jsx":6,"europe.geo.js":"europe.geo.js","hoc.js":"hoc.js",leaflet:"leaflet",react:"react"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("react"),s=(n(u),e("store.js")),c=n(s),f=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"getChildContext",value:function(){var e={store:new c["default"],notification:{component:null},userInfo:new Map,usersMap:new Map,countriesMap:new Map,editStatus:{},delCallback:{}};return{globals:e}}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(u.Component);f.childContextTypes={globals:u.PropTypes.object.isRequired},r["default"]=f},{react:"react","store.js":"store.js"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/App.jsx",l=e("react"),i=n(l),o=e("Login.jsx"),u=n(o),s=e("NavLink.jsx"),c=n(s),f=e("Notification.jsx"),d=n(f),m=e("ui.js"),p=function(e){var t=e.children;return i["default"].createElement("div",{__source:{fileName:a,lineNumber:31}},i["default"].createElement(d["default"],{__source:{fileName:a,lineNumber:32}}),i["default"].createElement("p",{className:"nav",style:{paddingRight:"5em"},__source:{fileName:a,lineNumber:33}},i["default"].createElement("img",{style:{marginBottom:"-1em",marginTop:"-1em",height:"3em"},src:"/static/images/inkind_logo_small.png",title:"information about this site",__source:{fileName:a,lineNumber:34}}),i["default"].createElement(u["default"],{__source:{fileName:a,lineNumber:42}})),i["default"].createElement("div",{className:"nav",style:(0,m.columnStyle)("left"),__source:{fileName:a,lineNumber:44}},i["default"].createElement("div",{className:"nav",style:{height:"60%"},__source:{fileName:a,lineNumber:45}},i["default"].createElement("p",{__source:{fileName:a,lineNumber:46}},i["default"].createElement(c["default"],{to:"/contrib",__source:{fileName:a,lineNumber:46}},"Contributions")),i["default"].createElement("p",{__source:{fileName:a,lineNumber:47}},i["default"].createElement(c["default"],{to:"/mycontrib",__source:{fileName:a,lineNumber:47}},"My work")),i["default"].createElement("p",{__source:{fileName:a,lineNumber:48}},i["default"].createElement(c["default"],{to:"/docs/about.md",__source:{fileName:a,lineNumber:48}},"About"))),i["default"].createElement("div",{className:"nav",style:{height:"30%",verticalAlign:"bottom"},__source:{fileName:a,lineNumber:50}},i["default"].createElement("p",{__source:{fileName:a,lineNumber:51}},i["default"].createElement("a",{href:"/api/file/tech/docs/gen/index.html",target:"_blank",__source:{fileName:a,lineNumber:51}},"tech doc")),i["default"].createElement("p",{__source:{fileName:a,lineNumber:52}},i["default"].createElement(c["default"],{to:"/tech/docs/design.pdf",__source:{fileName:a,lineNumber:52}},"diagrams")),i["default"].createElement("p",{__source:{fileName:a,lineNumber:53}},i["default"].createElement(c["default"],{to:"/tech/docs/deploy.md",__source:{fileName:a,lineNumber:53}},"deploy")))),i["default"].createElement("div",{style:(0,m.columnStyle)("right"),__source:{fileName:a,lineNumber:56}},t))};r["default"]=p},{"Login.jsx":26,"NavLink.jsx":16,"Notification.jsx":27,react:"react","ui.js":"ui.js"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="/Users/dirk/github/dariah/client/src/js/app/pure/ByValue.jsx",i=e("react"),o=n(i),u=e("Facet.jsx"),s=n(u),c=e("CheckboxI.jsx"),f=n(c),d=e("Stats.jsx"),m=n(d),p=e("Alternatives.jsx"),h=n(p),b=e("filtering.js"),_=function(e){var t=e.filterId,r=e.filterField,n=e.filterLabel,i=e.fieldValues,u=e.filterSettings,c=e.filteredAmount,d=e.filteredAmountOthers,p=e.amounts,_=e.maxCols,v=e.updFilter,y=e.expanded,N=(0,b.placeFacets)(i,_);return o["default"].createElement("div",{className:"facet",__source:{fileName:l,lineNumber:54}},null===N?o["default"].createElement("p",{__source:{fileName:l,lineNumber:55}}," -no facets "):o["default"].createElement(h["default"],{tag:r,controlPlacement:function(e){return o["default"].createElement("p",{className:"facet",__source:{fileName:l,lineNumber:58}},o["default"].createElement(f["default"],{filterId:t,states:(0,b.testAllChecks)(u),updFilter:v,__source:{fileName:l,lineNumber:59}})," ",n," ",o["default"].createElement(m["default"],{subTotal:c,total:d,__source:{fileName:l,lineNumber:64}})," ",e)},controls:[function(e){return o["default"].createElement("span",{className:"button-small fa fa-chevron-down",onClick:e,__source:{fileName:l,lineNumber:69}})},function(e){return o["default"].createElement("span",{className:"button-small fa fa-chevron-right",onClick:e,__source:{fileName:l,lineNumber:70}})}],initial:y?0:1,alternatives:[o["default"].createElement("table",{__source:{fileName:l,lineNumber:74}},o["default"].createElement("tbody",{__source:{fileName:l,lineNumber:75}},N.map(function(e,r){return o["default"].createElement("tr",{key:r,__source:{fileName:l,lineNumber:77}},e.map(function(e,r){if(null===e)return o["default"].createElement("td",{key:r,__source:{fileName:l,lineNumber:80}});var n=a(e,2),i=n[0],c=n[1];return[o["default"].createElement("td",{key:r,style:r>0?{paddingLeft:"0.5em"}:{},className:"facet",__source:{fileName:l,lineNumber:84}},o["default"].createElement(s["default"],{key:i,filterId:t,valueId:i,valueRep:c,checked:u.get(i),updFilter:v,__source:{fileName:l,lineNumber:89}})),o["default"].createElement("td",{className:"statistic",__source:{fileName:l,lineNumber:98}},o["default"].createElement(m["default"],{subTotal:p.get(i),__source:{fileName:l,lineNumber:99}}))]}))}))),o["default"].createElement("div",{__source:{fileName:l,lineNumber:106}})],__source:{fileName:l,lineNumber:56}}))};r["default"]=_},{"Alternatives.jsx":19,"CheckboxI.jsx":2,"Facet.jsx":13,"Stats.jsx":18,"filtering.js":"filtering.js",react:"react"}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/ContribItemPre.jsx",l=e("react"),i=n(l),o=e("ContribItem.jsx"),u=n(o),s=function(e){var t=e.params,r=e.route,n=t.contribId,l=r.ownOnly;return i["default"].createElement(u["default"],{tag:"contrib_"+n,contribId:n,ownOnly:l,__source:{fileName:a,lineNumber:23}})};r["default"]=s},{"ContribItem.jsx":21,react:"react"}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l="/Users/dirk/github/dariah/client/src/js/app/pure/ContribTitle.jsx",i=e("react"),o=n(i),u=e("Alternatives.jsx"),s=n(u),c=e("ContribItem.jsx"),f=n(c),d=e("NavLink.jsx"),m=n(d),p=e("hoc.js"),h=function(e){var t=e.row,r=e.inplace,n=e.editStatus,i=t._id,u=t.title;return o["default"].createElement("tr",{id:i,__source:{fileName:l,lineNumber:23}},o["default"].createElement("td",{__source:{fileName:l,lineNumber:24}},r?o["default"].createElement(s["default"],{tag:"contrib_"+i,controlPlacement:function(e){return o["default"].createElement("p",{__source:{fileName:l,lineNumber:28}},e,o["default"].createElement("span",{ref:function(e){n[i]=a({},n[i],{prog:e})},__source:{fileName:l,lineNumber:30}})," ",o["default"].createElement("span",{ref:function(e){n[i]=a({},n[i],{title:e})},__source:{fileName:l,lineNumber:31}},u[0]))},controls:[function(e){return o["default"].createElement("a",{className:"fa fa-chevron-down",href:"#",onClick:e,__source:{fileName:l,lineNumber:37}})},function(e){return o["default"].createElement("a",{className:"fa fa-chevron-right",href:"#",onClick:e,__source:{fileName:l,lineNumber:38}})}],alternatives:[o["default"].createElement(f["default"],{tag:"contrib_"+i,contribId:i,__source:{fileName:l,lineNumber:41}}),""],initial:1,__source:{fileName:l,lineNumber:26}}):o["default"].createElement(m["default"],{className:"nav",to:"/mycontrib/"+i,__source:{fileName:l,lineNumber:47}},o["default"].createElement("span",{ref:function(e){n[i]=a({},n[i],{prog:e})},__source:{fileName:l,lineNumber:48}})," ",o["default"].createElement("span",{ref:function(e){n[i]=a({},n[i],{title:e})},__source:{fileName:l,lineNumber:49}},u[0]))))};r["default"]=(0,p.withContext)(h)},{"Alternatives.jsx":19,"ContribItem.jsx":21,"NavLink.jsx":16,"hoc.js":"hoc.js",react:"react"}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Contribs.jsx",l=e("react"),i=n(l),o=e("ContribTitle.jsx"),u=n(o),s=function(e){var t=e.filteredData,r=e.inplace;return i["default"].createElement("div",{__source:{fileName:a,lineNumber:15}},i["default"].createElement("table",{__source:{fileName:a,lineNumber:16}},i["default"].createElement("tbody",{__source:{fileName:a,lineNumber:17}},t.map(function(e){return i["default"].createElement(u["default"],{key:e._id,row:e,inplace:r,__source:{fileName:a,lineNumber:19}})}))))};r["default"]=s},{"ContribTitle.jsx":8,react:"react"}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Doc.jsx",l=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("react"),o=n(i),u=e("DocMd.jsx"),s=n(u),c=e("DocPdf.jsx"),f=n(c),d=e("DocHtml.jsx"),m=n(d),p=e("NotFound.jsx"),h=n(p),b={md:s["default"],pdf:f["default"],html:m["default"]},_=function(e){var t=(e.params,e.route,e.location),r=t.pathname,n=/^(.*)\/([^\/]+)$/g.exec(r),i=l(n,3),u=(i[0],i[1]),s=i[2],c=/^(.*)\.([^.]+)$/g.exec(s),f=l(c,3),d=(f[0],f[1]),m=f[2],p=b[m];return null==p?o["default"].createElement(h["default"],{params:{splat:"document "+r},__source:{fileName:a,lineNumber:41}}):o["default"].createElement(p,{docDir:u,docName:d,docExt:m,tag:d,__source:{fileName:a,lineNumber:43}})};r["default"]=_},{"DocHtml.jsx":11,"DocMd.jsx":24,"DocPdf.jsx":12,"NotFound.jsx":17,react:"react"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/DocHtml.jsx",l=e("react"),i=n(l),o=function(e){var t=e.docDir,r=e.docName,n=e.docExt,l="/api/file"+t+"/"+r+"."+n;return i["default"].createElement("iframe",{height:"100%",width:"100%",src:l,__source:{fileName:a,lineNumber:17}})};r["default"]=o},{react:"react"}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/DocPdf.jsx",l=e("react"),i=n(l),o=function(e){var t=e.docDir,r=e.docName,n=e.docExt,l="/api/file"+t+"/"+r+"."+n,o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return o?i["default"].createElement("p",{__source:{fileName:a,lineNumber:22}},i["default"].createElement("a",{target:"_blank",href:l,__source:{fileName:a,lineNumber:23}},r)," (open pdf in a new tab)"):i["default"].createElement("object",{height:"100%",width:"100%",data:l,type:"application/pdf",__source:{fileName:a,lineNumber:26}},"alt : ",i["default"].createElement("a",{target:"_blank",href:l,__source:{fileName:a,lineNumber:30}},r)," (open pdf in a new tab)")};r["default"]=o},{react:"react"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Facet.jsx",l=e("react"),i=n(l),o=function(e){var t=e.filterId,r=e.valueId,n=e.valueRep,l=e.checked,o=e.updFilter;return i["default"].createElement("span",{__source:{fileName:a,lineNumber:20}},i["default"].createElement("input",{type:"checkbox",onChange:function(e){return o(t,[r,e.target.checked])},checked:l,className:"facet",__source:{fileName:a,lineNumber:21}})," "+n)};r["default"]=o},{react:"react"}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.filterList=void 0;var a="/Users/dirk/github/dariah/client/src/js/app/pure/Filters.jsx",l=e("react"),i=n(l),o=e("FullText.jsx"),u=n(o),s=e("ByValue.jsx"),c=n(s),f=e("EUMap.jsx"),d=n(f),m=r.filterList=[{kind:u["default"],name:"FullText",field:"title",label:"title",maxCols:null,expanded:null},{kind:d["default"],name:"EUMap",field:"country",label:"country",maxCols:3,expanded:!0},{kind:c["default"],name:"ByValue",field:"vcc",label:"vcc",maxCols:2,expanded:!0},{kind:c["default"],name:"ByValue",field:"year",label:"year",maxCols:3,expanded:!1},{kind:c["default"],name:"ByValue",field:"typeContribution",label:"type",maxCols:2,expanded:!0},{kind:c["default"],name:"ByValue",field:"tadirahActivities",label:"research activity",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"tadirahObjects",label:"research object",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"tadirahTechniques",label:"research technique",maxCols:1,expanded:!1},{kind:c["default"],name:"ByValue",field:"disciplines",label:"discipline",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"keywords",label:"keyword",maxCols:1,expanded:!1}],p=function(e){var t=e.fields,r=e.filterSettings,n=e.fieldValues,l=e.filteredAmount,o=e.filteredAmountOthers,u=e.amounts,s=e.updFilter;return i["default"].createElement("div",{__source:{fileName:a,lineNumber:79}},m.filter(function(e){return t[e.field]}).map(function(e,t){var c=e.kind;return i["default"].createElement(c,{key:t,filterId:t,filterField:e.field,filterLabel:e.label,maxCols:e.maxCols,filterSettings:r.get(t),fieldValues:n.get(e.field),filteredAmount:l,filteredAmountOthers:o.get(t),amounts:u.get(t),updFilter:s,expanded:e.expanded,__source:{fileName:a,lineNumber:83}})}))};r["default"]=p},{"ByValue.jsx":6,"EUMap.jsx":3,"FullText.jsx":15,react:"react"}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/FullText.jsx",l=e("react"),i=n(l),o=e("Stats.jsx"),u=n(o),s=function(e,t){return function(r){return e(t,r.target.value)}},c=function(e){var t=e.filterId,r=(e.filterField,e.filterLabel),n=e.filterSettings,l=e.filteredAmount,o=e.filteredAmountOthers,c=e.updFilter;return i["default"].createElement("div",{__source:{fileName:a,lineNumber:31}},i["default"].createElement("p",{__source:{fileName:a,lineNumber:32}},i["default"].createElement("input",{type:"text",className:"search",placeholder:"search in "+r,value:n,onChange:s(c,t),__source:{fileName:a,lineNumber:32}})," ",i["default"].createElement(u["default"],{subTotal:l,total:o,__source:{fileName:a,lineNumber:39}})))};r["default"]=c},{"Stats.jsx":18,react:"react"}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l="/Users/dirk/github/dariah/client/src/js/app/pure/NavLink.jsx",i=e("react"),o=n(i),u=e("react-router"),s=function(e){return o["default"].createElement(u.Link,a({},e,{activeClassName:"active",__source:{fileName:l,lineNumber:13}}))};r["default"]=s},{react:"react","react-router":"react-router"}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/NotFound.jsx",l=e("react"),i=n(l),o=function(e){var t=e.params;return i["default"].createElement("h1",{__source:{fileName:a,lineNumber:14}},"404: ",i["default"].createElement("code",{__source:{fileName:a,lineNumber:14}},t.splat)," not found on this site.")};r["default"]=o},{react:"react"}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Stats.jsx",l=e("react"),i=n(l),o=function(e){var t=e.subTotal,r=e.total;return i["default"].createElement("span",{className:"good-o",__source:{fileName:a,lineNumber:15}},null==t?"":""+t,null==r||null==t?"":" of ",i["default"].createElement("strong",{__source:{fileName:a,lineNumber:18}},null==r?"":""+r))};r["default"]=o},{react:"react"}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/Alternatives.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("hoc.js"),d=e("localstorage.js"),m=function(e){var t=e.tag;return{alt:(0,d.lsGet)(t)}},p=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"next",value:function(e){e.preventDefault();var t=this.props,r=t.tag,n=t.alternatives,a=t.initial,l=null==this.state.alt?null==a?0:a:this.state.alt,i=(l+1)%n.length;(0,d.lsSet)(r,i),this.setState({alt:i})}},{key:"render",value:function(){var e=this.props,t=e.controlPlacement,r=e.controls,n=e.alternatives,a=e.initial,l=this.state.alt,i=null==l?null==a?0:a:l;return c["default"].createElement("div",{__source:{fileName:o,lineNumber:70}},t(r[i](this.next.bind(this))),n[i])}}]),t}(s.Component);r["default"]=(0,f.withContext)((0,f.saveState)(p,"Alternatives",m))},{"hoc.js":"hoc.js","localstorage.js":"localstorage.js",react:"react"}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/ContribField.jsx",d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=e("react"),b=n(h),_=e("react-markdown"),v=n(_),y=e("RelSelect.jsx"),N=n(y),g=e("Alternatives.jsx"),j=n(g),E=e("data.js"),w=e("hoc.js"),k={url:50,
email:30,range:6,datetime:25,text:50,_max:50},x=function(e){return{full:e,text:null==e?"":e.replace(/\.[0-9]+/,"")}},O=function(e){return{full:e,text:null==e?"":e.length>20?e.slice(0,8)+"..."+e.slice(-8):e}},C=function(e){return{url:e.urlFragment.bind(e),email:e.emailFragment.bind(e),textarea:e.textareaFragment.bind(e),_default:e.defaultFragment.bind(e)}},S=function(e){return{rel:e.relEditFragment.bind(e),textarea:e.textareaEditFragment.bind(e),_default:e.defaultEditFragment.bind(e)}},P=function(e){var t=e.initValues,r=null==t?[]:t,n=[].concat(s(r));return{curValues:n,savedValues:r,reasons:{},saving:{},changed:!1,valid:!0,relValues:null}},M=function(e,t){var r=e._id,n=void 0,a=void 0;if(t.has(r)){var l=t.get(r),i=l.firstName||"",o=l.lastName||"",u=l.email||"",s=l.eppn||"",c=l.authority||"",f=l.mayLogin?"yes":"no",d=[i,o].filter(function(e){return e}).join(" ");""==d&&(d=u);var m=d&&u?"["+d+"](mailto:"+u+")":d+u,p=s?" eppn="+s+" ":"",h=c?" authenticated by="+c+" ":"",b=f?" active="+f+" ":"";n=[m,p,h,b].filter(function(e){return e}).join("; "),a=[i,o,s].filter(function(e){return e}).slice(0,2).join(" ")}else n="UNKNOWN",a="??";return{text:a,full:n}},D=function(e,t){var r=e._id,n=void 0,a=void 0;if(t.has(r)){var l=t.get(r);a=l.name,n=l.iso+": "+l.name}else n="UNKNOWN",a="??";return{text:a,full:n}},F=function(e,t,r){var n=!0,a="";if(!r.nonEmpty||null!=e&&""!=e||(a="field may not be empty",n=!1),null!=r.min||null!=r.max)if(isNaN(e))a="value must be a number",n=!1;else{var l=parseInt(e);r.min<=l||(a="value must be at least "+r.min,n=!1),r.max>=e||(a="value must be at most "+r.max,n=!1)}if("datetime"==t){var i=void 0;try{i=Date.parse(e)}catch(o){a="not a valid date/time - "+o,n=!1}isNaN(i)&&(a="not a valid date/time",n=!1)}return{vstatus:n,reason:a}},T=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:"setValToState",value:function(e,t,r,n){var a=this.state.reasons,i=void 0,o=[].concat(s(this.state.curValues));if(null==t)o=o.filter(function(t,r){return r!=e}),i=a;else{var u=this.props,c=u.valType,f=u.validation,d=F(t,c,f),p=(d.vstatus,d.reason),h="rel"==c?"string"!=typeof t?t:{_id:r,value:t}:t,b=e==-1?o.length:e;e==-1?o.push(h):o[e]=h,i=m({},this.state.reasons,l({},b,p))}var _=this.checkForSave({newValues:o,newReasons:i}),v=_.valid,y=_.changed;n&&v&&y?this.toDb(o):this.setState(m({},this.state,{curValues:o,reasons:i,saving:{},valid:v,changed:y}))}},{key:"changeVal",value:function(e,t){t.preventDefault(),this.setValToState(e,t.target.value,null,!1)}},{key:"keyUp",value:function(e,t){13===t.keyCode&&(t.target.blur(),this.setValToState(e,t.target.value,null,!0))}},{key:"changeRelVal",value:function(e,t,r){this.setValToState(e,r,t,!0)}},{key:"removeVal",value:function(e,t,r){r.preventDefault(),this.setValToState(e,null,null,!0)}},{key:"checkForSave",value:function(e){var t=e.newValues,r=e.newReasons,n=this.props,a=(n.rowId,n.name),l=(n.valType,n.validation,n.multiple,n.allowNew,n.updEdit),i=this.state.savedValues,o=Object.keys(r).every(function(e){return!r[e]}),u=!1;if(t.length!=i.length)u=!0;else for(var s in t){var c=t[s],f=i[s];if(null==f)u=!0;else if("object"==("undefined"==typeof c?"undefined":d(c))){var m=!0,p=!1,h=void 0;try{for(var b,_=Object.keys(c)[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var v=b.value;if(c[v]!=f[v]){u=!0;break}}}catch(y){p=!0,h=y}finally{try{!m&&_["return"]&&_["return"]()}finally{if(p)throw h}}}else c!=f&&(u=!0);if(u)break}return l(a,u,o,t),{valid:o,changed:u}}},{key:"saveField",value:function(){var e=this.state,t=e.valid,r=e.changed,n=e.saving;t&&r&&!n.status&&this.toDb()}},{key:"saved",value:function(e){var t=this.props,r=t.name,n=t.updMod,l=t.updEdit;if(null==e)this.setState(m({},this.state,{saving:{status:"error"}}));else{var i=e[r],o=a(e,[r]);this.setState(m({},this.state,{saving:{status:"saved"},savedValues:i,curValues:i,changed:!1,valid:!0})),n(o),l(r,!1,!0,i)}}},{key:"toDb",value:function(e){var t=this.state.curValues,r=this.props,n=r.name,a=r.rowId,l=(r.valType,null==e?t:e);this.setState(m({},this.state,{reasons:{},saving:{status:"saving"}})),(0,E.getData)([{type:"db",path:"/item_contrib?action=update",branch:"save "+n,callback:this.saved.bind(this),data:{_id:a,name:n,values:l}}],this,this.props.notification.component)}},{key:"fullfillSave",value:function(){var e=this.props,t=e.editable,r=e.saveConcern;this.props.name;t&&r&&this.saveField()}},{key:"valueAsString",value:function(e){var t=this.props,r=t.valType,n=t.convert,a=t.usersMap,l=t.countriesMap,i=t.initial;if(null==e)return{text:"",full:"",initial:"rel"==r||i};switch(r){case"rel":switch(n){case"user":return M(e,a);case"country":return D(e,l);default:return O(e.value)}case"datetime":return x(e);default:return{text:e,full:e}}}},{key:"urlFragment",value:function(e,t,r){var n=r.text,a=r.full;return b["default"].createElement("a",{key:e,target:"_blank",href:a,className:"link",__source:{fileName:f,lineNumber:334}},n)}},{key:"emailFragment",value:function(e,t,r){var n=(r.text,r.full);return b["default"].createElement("a",{key:e,target:"_blank",href:"mailto:"+n,className:"link",__source:{fileName:f,lineNumber:338}},n)}},{key:"textareaFragment",value:function(e,t,r){var n=(r.text,r.full);return b["default"].createElement(v["default"],{key:e,source:n,__source:{fileName:f,lineNumber:343}})}},{key:"defaultFragment",value:function(e,t,r){var n=r.text,a=r.full,l=("rel"==t?"tag":"varia")+"-medium";return b["default"].createElement("span",{key:e,className:l,title:a,__source:{fileName:f,lineNumber:353}},n)}},{key:"relOptions",value:function(){var e=this.state.relValues;return e.map(function(e){return[e._id,O(e.value)]})}},{key:"userOptions",value:function(){var e=this,t=this.props.usersMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"countryOptions",value:function(){var e=this,t=this.props.countriesMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"relSelect",value:function(e,t,r,n,a){var l=a.text,i=a.full,o=this.props,u=o.convert,s=o.allowNew,c=o.name,d=o.rowId,m=this.state.valid,p="user"==u?this.userOptions():"country"==u?this.countryOptions():this.relOptions();return b["default"].createElement(N["default"],{tag:"relselect_"+d+"_"+c+"_"+e,key:e,isNew:r,allowNew:s,valid:m,valueList:p,initVal:t,initText:l,initFull:i,onChange:this.changeRelVal.bind(this,e),extraClasses:n,__source:{fileName:f,lineNumber:374}})}},{key:"editValControl",value:function(e,t,r){var n=this.props.multiple;return r||!n?null:b["default"].createElement("span",{className:"button-small fa fa-close",onClick:this.removeVal.bind(this,e,t),__source:{fileName:f,lineNumber:391}})}},{key:"relEditFragment",value:function(e,t,r,n,a,l){var i=l.text,o=l.full,u=this.props.multiple;return!u&&0==e||r?this.relSelect(e,t,r,a,l):b["default"].createElement("span",{key:e,className:"tag-medium",title:o,__source:{fileName:f,lineNumber:404}},i," ",this.editValControl(e,t,r))}},{key:"textareaEditFragment",value:function(e,t,r,n,a,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:10,u=this.props,s=u.rowId,c=u.name,d=(l.text,l.full);return this.saveLater=!0,b["default"].createElement(j["default"],{key:e,tag:"md_"+s+"_"+c,controlPlacement:function(e){return b["default"].createElement("p",{className:"stick",__source:{fileName:f,lineNumber:415}},e)},controls:[function(e){return b["default"].createElement("span",{className:"button-small fa fa-pencil",onClick:e,__source:{fileName:f,lineNumber:417}})},function(e){return b["default"].createElement("span",{className:"button-small fa fa-hand-o-down",onClick:e,__source:{fileName:f,lineNumber:418}})}],alternatives:[b["default"].createElement(v["default"],{source:d,__source:{fileName:f,lineNumber:421}}),b["default"].createElement("span",{__source:{fileName:f,lineNumber:424}},b["default"].createElement("textarea",{className:"input "+n+" "+a.join(" "),value:d,onChange:this.changeVal.bind(this,e),cols:i,rows:o,placeholder:l.initial,wrap:"soft",__source:{fileName:f,lineNumber:425}}),this.editValControl(e,t,r))],initial:0,__source:{fileName:f,lineNumber:414}})}},{key:"defaultEditFragment",value:function(e,t,r,n,a,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,o=(l.text,l.full);return this.saveLater=!0,b["default"].createElement("span",{key:e,__source:{fileName:f,lineNumber:445}},b["default"].createElement("input",{type:"text",className:"input "+n+" "+a.join(" "),value:o,placeholder:l.initial,onChange:this.changeVal.bind(this,e),onKeyUp:this.keyUp.bind(this,e),size:i,__source:{fileName:f,lineNumber:446}}),this.editValControl(e,t,r))}},{key:"progIcon",value:function r(){var e=this.props.editable,r=void 0;if(e){var t=this.state,n=t.saving,a=t.changed,l=t.valid,i=n.status;r="saving"==i?"fa-spinner fa-spin":"saved"==i?"fa-check good":"error"==i?"fa-exclamation error":l?a?"fa-pencil warning":"fa-circle-o hidden":"fa-close error",r+=" fa progress"}else r="fa fa-lock progress info";return b["default"].createElement("span",{key:name,className:r,__source:{fileName:f,lineNumber:476}})}},{key:"valuesAsReadonly",value:function(){var e=this,t=this.state.curValues;this.props.name;if(0==t.length)return b["default"].createElement("span",{className:"warning",__source:{fileName:f,lineNumber:482}},"no value");var r=this.props,n=r.valType,a=r.multiple,l=r.appearance,i=C(this),o=i[n]||i._default,u=l.cutoff,c=[],d=[];d.push(" ");var m=l.reverse?[].concat(s(t)).reverse():t;return m.forEach(function(t,r){var l=!u||r<=u-1?d:c,i=e.valueAsString(t),s=o(r,n,i);(a||0==r)&&l.push(s),a&&l.push(" ")}),this.knead(d,c)}},{key:"valuesAsControls",value:function(){var e=this,t=this.state,r=t.curValues,n=t.reasons,a=(this.state.savedValues,this.props),l=(a.name,a.valType),i=a.multiple,o=(a.validation,a.allowNew,a.appearance),u=S(this),s=u[l]||u._default,d=o.cutoff,m=[],p=[],h=r.map(function(e,t){return[t,e]}),_=r.length,v=o.reverse?h.reverse():h;(i||0==_)&&v.push([_,null]);var y=k[l]||k._max,N=p,g=[];return v.forEach(function(t,r){var a=c(t,2),o=a[0],u=a[1],h=r==_;N=!d||r<=d-1?p:m;var v=e.valueAsString(u),j=null==u?null:u._id;g=[];var E=n[o]||"";""!=E&&g.push("error");var w=s(o,j,h,l,g,v,y);(i||0==r)&&(N.push(w),""!=E&&(N.push(" "),N.push(b["default"].createElement("span",{key:"r_"+o,className:"reason",__source:{fileName:f,lineNumber:535}},E))),N.push(" "))}),this.knead(p,m)}},{key:"knead",value:function(e,t){var r=this.props,n=r.rowId,a=r.name;return 0==t.length?e:b["default"].createElement(j["default"],{tag:"field_"+n+"_"+a,controlPlacement:function(t){return b["default"].createElement("span",{__source:{fileName:f,lineNumber:548}},e," ",t)},controls:[function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:550}},"show more")},function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:551}},"show less")}],alternatives:["",t],initial:0,__source:{fileName:f,lineNumber:547}})}},{key:"render",value:function(){var e=this.state.relValues,t=this.props,r=(t.name,t.label),n=t.editable,a=t.valType,l=t.convert;this.state.curValues;if(n&&null==e&&"rel"==a&&"user"!=l&&"country"!=l)return null;var i=this.progIcon(),o=n?this.valuesAsControls():this.valuesAsReadonly(),u=n&&this.saveLater?{onClick:this.saveField.bind(this)}:{};return b["default"].createElement("tr",{__source:{fileName:f,lineNumber:574}},b["default"].createElement("td",m({className:"label"},u,{__source:{fileName:f,lineNumber:575}}),r),b["default"].createElement("td",m({className:"label"},u,{__source:{fileName:f,lineNumber:576}}),i),b["default"].createElement("td",{__source:{fileName:f,lineNumber:577}},b["default"].createElement("div",{className:"values",__source:{fileName:f,lineNumber:577}},o)))}},{key:"fetchValues",value:function(){var e=(this.props.rowId,this.state.relValues),t=this.props,r=t.valType,n=t.getValues,a=t.convert;t.usersMap,t.countriesMap;"rel"==r&&"user"!=a&&"country"!=a&&null==e&&(0,E.getData)([{type:"db",path:n,branch:"relValues"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchValues(),this.fullfillSave()}},{key:"componentDidUpdate",value:function(){this.fetchValues(),this.fullfillSave()}}]),t}(h.Component);r["default"]=(0,w.withContext)((0,w.saveState)(T,"ContribField",P))},{"Alternatives.jsx":19,"RelSelect.jsx":28,"data.js":"data.js","hoc.js":"hoc.js",react:"react","react-markdown":"react-markdown"}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s="/Users/dirk/github/dariah/client/src/js/app/state/ContribItem.jsx",c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=e("react"),m=n(d),p=e("ContribField.jsx"),h=n(p),b=e("data.js"),_=e("hoc.js"),v=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"updMod",value:function(e){var t={};for(var r in e)t[r]=!1;var n=c({},this.state,{fieldData:c({},this.state.fieldData,{fields:c({},this.state.fieldData.fields,e)})});this.setState(n)}},{key:"progIcon",value:function(e,t){var r=this.props,n=r.editStatus,a=r.contribId,l=e?"info":t?"warning":"error",i=e?"":t?"fa-pencil":"fa-close";n[a].prog.className=l+" fa "+i}},{key:"updEdit",value:function(e,t,r,n){var a=this.props,i=a.editStatus,o=a.contribId,u=this.state;u.saveConcern,u.fieldData;"title"==e&&(i[o].title.innerHTML=n[0]);var s=c({},this.state,{changed:c({},this.state.changed,l({},e,t)),valid:c({},this.state.valid,l({},e,r))}),f=this.saveStatus(s),d=f.noChange,m=f.allValid,p=f.canSave;this.progIcon(d,m),p||(s.saveConcern=!1),this.setState(s)}},{key:"saveAll",value:function(){var e=this.saveStatus(),t=e.canSave;t&&this.setState(c({},this.state,{saveConcern:!0}))}},{key:"parseFields",value:function(){var e=this.state.fieldData,t=e.row,r=e.fields,n=e.fieldSpecs,l=e.fieldOrder,i=e.perm,o=[],u=!1,f=!0,d=!1,p=void 0;try{for(var b,_=l[Symbol.iterator]();!(f=(b=_.next()).done);f=!0){var v=b.value,y=n[v],N=y.label,g=y.initial,j=a(y,["label","initial"]);if(null!=r[v]){var E=!!i.update[v];E&&(u=!0);var w=t._id;o.push(m["default"].createElement(h["default"],c({key:v,tag:"field_"+w+"_"+v,initValues:t[v],rowId:w,editable:E,name:v,label:N,initial:g,saveConcern:this.state.saveConcern,updMod:this.updMod.bind(this),updEdit:this.updEdit.bind(this)},j,{__source:{fileName:s,lineNumber:87}})))}}}catch(k){d=!0,p=k}finally{try{!f&&_["return"]&&_["return"]()}finally{if(d)throw p}}return{fragments:o,hasEditable:u}}},{key:"saveStatus",value:function(e){var t=null==e?this.state:e,r=(t.fieldData,t.changed),n=t.valid,a=Object.keys(r).every(function(e){return!r[e]}),l=Object.keys(n).every(function(e){return n[e]}),i=!Object.keys(r).every(function(e){return!r[e]||!n[e]});return{noChange:a,allValid:l,canSave:i}}},{key:"render",value:function(){var e=this.state,t=e.fieldData,r=(e.changed,e.valid,this.props.delCallback);if(null==t||null==t.row)return m["default"].createElement("div",{__source:{fileName:s,lineNumber:118}});var n=this.saveStatus(),a=n.noChange,l=n.allValid,i=n.canSave,o=a?"info":l?"warning":"error",u=a?"all saved":l?"save changes":"make corrections",c=t.row,f=t.perm,d=c._id,p=this.parseFields(),h=p.fragments,b=p.hasEditable;return m["default"].createElement("div",{className:"widget-medium",__source:{fileName:s,lineNumber:127}},m["default"].createElement("p",{__source:{fileName:s,lineNumber:128}},b?[i?m["default"].createElement("span",{key:"1",className:"button-large "+o,onClick:this.saveAll.bind(this),__source:{fileName:s,lineNumber:131}},u):m["default"].createElement("span",{key:"1",className:"save "+o,__source:{fileName:s,lineNumber:137}},u),f["delete"]?m["default"].createElement("span",{key:"2",className:"fa fa-trash button-large delete",onClick:r.contrib.bind(null,d),title:"delete this contribution",__source:{fileName:s,lineNumber:143}}):null]:null),m["default"].createElement("table",{__source:{fileName:s,lineNumber:152}},m["default"].createElement("tbody",{__source:{fileName:s,lineNumber:153}},h)))}},{key:"fetchRow",value:function(){var e=this.state.fieldData,t=this.props,r=t.contribId,n=t.ownOnly;null==e&&(0,b.getData)([{type:"db",path:"/item_contrib?id="+r+(n?"&own=true":""),branch:"fieldData"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchRow()}},{key:"componentDidUpdate",value:function(){this.fetchRow()}}]),t}(d.Component);r["default"]=(0,_.withContext)((0,_.saveState)(v,"ContribItem",{fieldData:null,changed:{},valid:{},saveConcern:!1}))},{"ContribField.jsx":20,"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/ContribsFiltered.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("FilterCompute.jsx"),d=n(f),m=e("Filters.jsx"),p=e("filtering.js"),h=e("data.js"),b=e("hoc.js"),_=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=this.props,l=a.usersMap,i=a.countriesMap;if(null==t||null==r||null==n)return c["default"].createElement("div",{__source:{fileName:o,lineNumber:53}});var u=t.contribs,s=t.fields,f=(0,p.compileFiltering)(u,s,m.filterList),h=f.fieldValues,b=f.filterInit,_=!0,v=!1,y=void 0;try{for(var N,g=n[Symbol.iterator]();!(_=(N=g.next()).done);_=!0){var j=N.value;l.set(j._id,j)}}catch(E){v=!0,y=E}finally{try{!_&&g["return"]&&g["return"]()}finally{if(v)throw y}}var w=!0,k=!1,x=void 0;try{for(var O,C=r[Symbol.iterator]();!(w=(O=C.next()).done);w=!0){var S=O.value;i.set(S._id,S)}}catch(E){k=!0,x=E}finally{try{!w&&C["return"]&&C["return"]()}finally{if(k)throw x}}return c["default"].createElement(d["default"],{contribs:u,fields:s,fieldValues:h,filterInit:b,__source:{fileName:o,lineNumber:59}})}},{key:"componentDidMount",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users;null!=t&&null!=r&&null!=n||(0,h.getData)([{type:"db",path:"/list_contrib",branch:"contribData"},{type:"db",path:"/member_country",branch:"countries"},{type:"db",path:"/users",branch:"users"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,b.withContext)((0,b.saveState)(_,"ContribsFiltered",{contribs:null,countries:null,users:null}))},{"FilterCompute.jsx":25,"Filters.jsx":14,"data.js":"data.js","filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react"}],23:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/ContribsMy.jsx",u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),f=n(c),d=e("Contribs.jsx"),m=n(d),p=e("ContribItemPre.jsx"),h=(n(p),e("data.js")),b=e("hoc.js"),_=e("ui.js"),v=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"inserted",value:function(e){if(this.setState(u({},this.state,{inserted:e})),null!=e){var t=this.props.router;t.push("/mycontrib/"+e)}}},{key:"insertRow",value:function(e){e.preventDefault(),(0,h.getData)([{type:"db",path:"/item_contrib?action=insert",branch:"insert",callback:this.inserted.bind(this)},{type:"db",path:"/my_contribs",branch:"contribData"}],this,this.props.notification.component)}},{key:"deleted",value:function(e){if(this.setState(u({},this.state,{deleted:e})),null!=e){var t=this.props.router;t.push("/mycontrib/")}}},{key:"deleteRow",value:function(e,t){t.preventDefault(),(0,h.getData)([{type:"db",path:"/item_contrib?action=delete",branch:"delete",callback:this.deleted.bind(this),data:{_id:e}},{type:"db",path:"/my_contribs",branch:"contribData"}],this,this.props.notification.component)}},{key:"render",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=this.props,l=a.usersMap,i=a.countriesMap,u=a.children,s=a.delCallback;if(null==t||null==r||null==n)return f["default"].createElement("div",{__source:{fileName:o,lineNumber:94}});var c=t.contribs,d=(t.fields,t.perm),p=!0,h=!1,b=void 0;try{for(var v,y=n[Symbol.iterator]();!(p=(v=y.next()).done);p=!0){var N=v.value;l.set(N._id,N)}}catch(g){h=!0,b=g}finally{try{!p&&y["return"]&&y["return"]()}finally{if(h)throw b}}var j=!0,E=!1,w=void 0;try{for(var k,x=r[Symbol.iterator]();!(j=(k=x.next()).done);j=!0){var O=k.value;i.set(O._id,O)}}catch(g){E=!0,w=g}finally{try{!j&&x["return"]&&x["return"]()}finally{if(E)throw w}}return s.contrib=this.deleteRow.bind(this),f["default"].createElement("div",{__source:{fileName:o,lineNumber:101}},f["default"].createElement("div",{className:"nav",style:(0,_.columnStyle)("rightLeftNav"),__source:{fileName:o,lineNumber:102}},f["default"].createElement("p",{__source:{fileName:o,lineNumber:103}},c.length," contributions"," ",null!=d&&d.insert?f["default"].createElement("span",{className:"fa fa-plus button-large insert",title:"New contribution",onClick:this.insertRow.bind(this),__source:{fileName:o,lineNumber:107}}):null),f["default"].createElement(m["default"],{filteredData:c,inplace:!1,__source:{fileName:o,lineNumber:114}})),f["default"].createElement("div",{style:(0,_.columnStyle)("rightRightBody"),__source:{fileName:o,lineNumber:116}},u))}},{key:"componentDidMount",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=e.inserted,l=e.deleted;null==t||null==r||null==n?(0,h.getData)([{type:"db",path:"/my_contribs",branch:"contribData"},{type:"db",path:"/member_country",branch:"countries"},{type:"db",path:"/users",branch:"users"}],this,this.props.notification.component):a&&l&&(newState={},a&&(newState.inserted=null),l&&(newState.deleted=null),this.setState(u({},this.state,newState)),(0,h.getData)([{type:"db",path:"/my_contribs",branch:"contribData"}],this,this.props.notification.component))}}]),t}(c.Component);r["default"]=(0,b.withContext)((0,b.saveState)(v,"ContribsMy",{contribs:null,countries:null,users:null,inserted:null}))},{"ContribItemPre.jsx":7,"Contribs.jsx":9,"data.js":"data.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],24:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u="/Users/dirk/github/dariah/client/src/js/app/state/DocMd.jsx",s=e("react"),c=n(s),f=e("react-markdown"),d=n(f),m=e("react-router"),p=e("Alternatives.jsx"),h=n(p),b=e("data.js"),_=e("hoc.js"),v=function(e){var t=e.children,r=e.href;return r.match(/^(https?:)?\/\//)?c["default"].createElement("a",{href:r,__source:{fileName:u,lineNumber:26}},t):c["default"].createElement(m.Link,{to:r,__source:{fileName:u,lineNumber:27}},t)},y=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.props.docName,t=this.state.md;return null==t?c["default"].createElement("div",{__source:{fileName:u,lineNumber:50}}):c["default"].createElement("div",{style:{paddingLeft:"0.5em"},__source:{fileName:u,lineNumber:53}},c["default"].createElement(h["default"],{tag:e,controlPlacement:function(e){return c["default"].createElement("p",{style:{"float":"right"},__source:{fileName:u,lineNumber:56}},e)},controls:[function(e){return c["default"].createElement("a",{ref:"toSrc",className:"control fa fa-hand-o-down",href:"#",onClick:e,title:"markdown source",__source:{fileName:u,lineNumber:59}})},function(e){return c["default"].createElement("a",{ref:"toFrm",className:"control fa fa-file-code-o",href:"#",onClick:e,title:"formatted",__source:{fileName:u,lineNumber:60}})}],alternatives:[c["default"].createElement("div",{__source:{fileName:u,lineNumber:63}},c["default"].createElement(d["default"],{source:t,renderers:{Link:v},__source:{fileName:u,lineNumber:64}})),c["default"].createElement("div",{__source:{fileName:u,lineNumber:69}},c["default"].createElement("pre",{className:"md-source",__source:{fileName:u,lineNumber:70}},t))],__source:{fileName:u,lineNumber:54}}))}},{key:"fetchText",value:function(){var e=this.props,t=e.docDir,r=e.docName,n=e.docExt;null==this.state.md&&(0,b.getData)([{type:"json",path:t+"/"+r+"."+n,branch:"md"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchText()}},{key:"componentDidUpdate",value:function(){this.fetchText()}}]),t}(s.Component);r["default"]=(0,_.withContext)((0,_.saveState)(y,"DocMd",{md:null}))},{"Alternatives.jsx":19,"data.js":"data.js","hoc.js":"hoc.js",react:"react","react-markdown":"react-markdown","react-router":"react-router"}],25:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/FilterCompute.jsx",u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),f=n(c),d=e("Contribs.jsx"),m=n(d),p=e("Filters.jsx"),h=n(p),b=e("filtering.js"),_=e("ui.js"),v=e("hoc.js"),y=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"updFilter",value:function(e,t){var r=this.state.filterSettings;"string"==typeof t&&(0,b.setf)(e,"",t),"boolean"==typeof t?(0,b.setf)(e,"",t):(0,b.setf)(e,t[0],t[1]),this.setState(u({},this.state,{filterSettings:(0,b.newFilterSettings)(r,e,t)}))}},{key:"render",value:function(){var e=this.state.filterSettings,t=this.props,r=t.contribs,n=t.fields,a=t.fieldValues,l=(0,b.computeFiltering)(r,n,p.filterList,a,e),i=l.filteredData,u=l.filteredAmountOthers,s=l.amounts;return f["default"].createElement("div",{__source:{fileName:o,lineNumber:63}},f["default"].createElement("div",{style:(0,_.columnStyle)("rightLeft"),__source:{fileName:o,lineNumber:64}},f["default"].createElement("p",{__source:{fileName:o,lineNumber:65}},"Total ",f["default"].createElement("span",{className:"good-o",__source:{fileName:o,lineNumber:65}},r.length)),f["default"].createElement(h["default"],{fields:n,fieldValues:a,filteredAmount:i.length,filteredAmountOthers:u,amounts:s,filterSettings:e,updFilter:this.updFilter.bind(this),__source:{fileName:o,lineNumber:66}})),f["default"].createElement("div",{style:(0,_.columnStyle)("rightRight"),__source:{fileName:o,lineNumber:76}},f["default"].createElement(m["default"],{filteredData:i,inplace:!0,__source:{fileName:o,lineNumber:77}})))}}]),t}(c.Component);r["default"]=(0,v.withContext)((0,v.saveState)(y,"FilterCompute",function(e){var t=e.filterInit;return{filterSettings:t}}))},{"Contribs.jsx":9,"Filters.jsx":14,"filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],26:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{
constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/Login.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("hoc.js"),d=e("data.js"),m=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.state.user,t=this.props.userInfo;t.clear();var r=!0,n=!1,a=void 0;try{for(var l,i=Object.keys(e)[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var u=l.value;t.set(u,e[u])}}catch(s){n=!0,a=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(n)throw a}}return c["default"].createElement("span",{className:"login",__source:{fileName:o,lineNumber:38}},e.eppn&&Object.keys(e).length>0?c["default"].createElement("span",{__source:{fileName:o,lineNumber:40}},c["default"].createElement("strong",{className:"fa fa-user",title:e.eppn,__source:{fileName:o,lineNumber:41}},e.eppn.split("@")[0]),c["default"].createElement("span",{className:"fa fa-hashtag",__source:{fileName:o,lineNumber:42}}),e.authority," ",c["default"].createElement("em",{__source:{fileName:o,lineNumber:43}},e.groupDesc||"not authenticated"),c["default"].createElement("a",{href:"/logout",className:"control fa fa-user-times",__source:{fileName:o,lineNumber:44}}," logout"),c["default"].createElement("a",{href:"/slogout",className:"control fa fa-users",__source:{fileName:o,lineNumber:45}}," quit ")):c["default"].createElement("a",{href:"/login",className:"control fa fa-user-plus",__source:{fileName:o,lineNumber:48}}," login"))}},{key:"componentDidMount",value:function(){(0,d.getData)([{type:"db",path:"/who/ami",branch:"user"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,f.withContext)((0,f.saveState)(m,"Login",{user:{}}))},{"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],27:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/Notification.jsx",s=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=e("react"),d=n(f),m=e("hoc.js"),p=[],h=function(e){function t(e){l(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.notification.component=r,r.msgs=[],r.visible=!1,r.dom={},r}return o(t,e),c(t,[{key:"notify",value:function(e){this.msgs.push(e),this.setState({msgs:[].concat(a(this.msgs))})}},{key:"clear",value:function(){this.msgs=[],this.setState({msgs:[]})}},{key:"computeProgress",value:function(){var e=this.msgs.length-1,t=-1,r="info",n=0;this.msgs.forEach(function(e,a){"error"==e.kind?(t=a,r="error"):"warning"==e.kind&&"error"!=r&&(t=a,r="warning"),n+=e.busy||0}),n<0&&(console.warn("SHOULD NOT HAPPEN: negative value for busy "+n),n=0);var a=this.visible||t>-1;return[e,t,r,n,a]}},{key:"refDom",value:function(e,t){t&&(this.dom[e]=t)}},{key:"render",value:function(){var e=this,t=this.computeProgress(),r=s(t,5);this.lastMsg=r[0],this.lastNote=r[1],this.lastKind=r[2],this.busy=r[3],this.visible=r[4];var n=new Array(this.busy).fill(1);return d["default"].createElement("div",{__source:{fileName:u,lineNumber:85}},d["default"].createElement("p",{className:"msg-spinner",__source:{fileName:u,lineNumber:86}},d["default"].createElement("span",{title:"show/hide notifications and progress messages",className:this.lastNote>-1?"spin-"+this.lastKind:"spin-ok",onClick:function(t){t.preventDefault(),e.setView(!e.visible)},__source:{fileName:u,lineNumber:87}},n.map(function(e,t){return d["default"].createElement("span",{key:t,className:"msg-dot fa fa-circle",__source:{fileName:u,lineNumber:92}})}),d["default"].createElement("span",{className:"fa fa-"+(0==this.busy?"circle-o":"spinner fa-spin"),__source:{fileName:u,lineNumber:93}}))),d["default"].createElement("div",{ref:this.refDom.bind(this,"notbox"),className:"msg-box",onClick:function(t){t.preventDefault(),e.setView(!1)},__source:{fileName:u,lineNumber:96}},(this.msgs||p).map(function(t,r){return d["default"].createElement("p",{key:r,ref:e.refDom.bind(e,"m"+r),className:"msg-line "+[t.kind]+"-o "+("info"!=t.kind?"msg-high":""),__source:{fileName:u,lineNumber:103}},t.text)}),d["default"].createElement("p",{className:"msg-dismiss",__source:{fileName:u,lineNumber:110}},"(click panel to hide)"),d["default"].createElement("p",{className:"msg-trash",__source:{fileName:u,lineNumber:113}},d["default"].createElement("a",{href:"#",title:"clear messages",className:"control fa fa-trash",onClick:function(t){t.preventDefault(),e.clear()},__source:{fileName:u,lineNumber:114}}))))}},{key:"componentDidMount",value:function(){this.setView()}},{key:"componentDidUpdate",value:function(){this.setView()}},{key:"setView",value:function(e){null!=e&&(this.visible=e),this.dom.notbox.style.display=this.visible?"block":"none",this.setScroll()}},{key:"setScroll",value:function(){this.visible&&(this.lastNote>-1?this.dom["m"+this.lastNote].scrollIntoView():this.lastMsg>-1&&this.dom["m"+this.lastMsg].scrollIntoView())}}]),t}(f.Component);r["default"]=(0,m.withContext)((0,m.saveState)(h,"Notification",{msgs:null}))},{"hoc.js":"hoc.js",react:"react"}],28:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){a=!0,l=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/RelSelect.jsx",d=e("react"),m=n(d),p=e("hoc.js"),h=function(e){var t=e.valId,r=e.value,n=e.selected,a=e.onHit;return m["default"].createElement("p",{className:"option "+n,onClick:function(e){return a(t,r.text,r.full)},__source:{fileName:f,lineNumber:6}},r.text)},b=function(e){var t=e.initVal,r=e.initText,n=e.initFull;return{poppedUp:!1,search:"",selVal:t,selText:r,selFull:n}},_=function(e){function t(){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"popUp",value:function(){var e=this.state.poppedUp;e=!e,this.setState(s({},this.state,{poppedUp:e}))}},{key:"updSearch",value:function(e){var t=e.target.value;this.setState(s({},this.state,{search:t}))}},{key:"changeSel",value:function(e,t,r,n){this.setState(s({},this.state,{poppedUp:!1,selVal:t,selText:r,selFull:n})),e(t,r,n)}},{key:"addVal",value:function(e,t){var r=null;this.setState(s({},this.state,a({poppedUp:!1,selVal:r,selText:t},"selText",t))),e(null,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.isNew,n=t.allowNew,a=t.valid,l=t.valueList,i=t.onChange,o=t.extraClasses,s=this.state,c=s.poppedUp,d=s.search,p=s.selVal,b=s.selText,_=s.selFull,v=d.toLowerCase(),y=c?r?"minus":"arrow-up":r?"plus":"arrow-down",N=o.join(" ");return m["default"].createElement("div",{className:"select",__source:{fileName:f,lineNumber:48}},m["default"].createElement("p",{className:"option-head tag-medium",__source:{fileName:f,lineNumber:49}},r?null:m["default"].createElement("span",{className:N,title:_,__source:{fileName:f,lineNumber:50}},b),m["default"].createElement("span",{className:"button-small fa fa-"+y,onClick:this.popUp.bind(this),__source:{fileName:f,lineNumber:51}})),c||!a?m["default"].createElement("div",{__source:{fileName:f,lineNumber:57}},m["default"].createElement("p",{className:"option-type",__source:{fileName:f,lineNumber:58}},m["default"].createElement("input",{type:"text",placeholder:"search...",onChange:this.updSearch.bind(this),value:d,className:N,__source:{fileName:f,lineNumber:59}}),n&&""!=d?m["default"].createElement("span",{className:"button-small fa fa-plus-square",onClick:this.addVal.bind(this,i,d),__source:{fileName:f,lineNumber:66}}):null),m["default"].createElement("div",{className:"options",__source:{fileName:f,lineNumber:72}},l.map(function(t){var r=u(t,2),n=r[0],a=r[1];return null==v||""==v||null==a||null==a.full||a.full.toLowerCase().indexOf(v)!==-1?m["default"].createElement(h,{key:null==n?"null":n,valId:n,value:a,selected:n==p,onHit:e.changeSel.bind(e,i),__source:{fileName:f,lineNumber:75}}):null}))):null)}}]),t}(d.Component);r["default"]=(0,p.withContext)((0,p.saveState)(_,"RelSelect",b))},{"hoc.js":"hoc.js",react:"react"}]},{},[1]);