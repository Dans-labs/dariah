!function e(t,r,n){function a(l,o){if(!r[l]){if(!t[l]){var u="function"==typeof require&&require;if(!o&&u)return u(l,!0);if(i)return i(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[l]={exports:{}};t[l][0].call(c.exports,function(e){var r=t[l][1][e];return a(r?r:e)},c,c.exports,e,t,r,n)}return r[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)a(n[l]);return a}({1:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a="/Users/dirk/github/dariah/client/src/js/app/main.jsx",i=e("react"),l=n(i),o=e("react-dom"),u=e("react-router"),s=e("Provider.jsx"),c=n(s),f=e("App.jsx"),d=n(f),m=e("ContribsFiltered.jsx"),p=n(m),h=e("ContribsMy.jsx"),b=n(h),v=e("ContribItemPre.jsx"),_=n(v),y=e("Doc.jsx"),N=n(y),j=e("NotFound.jsx"),g=n(j);(0,o.render)(l["default"].createElement(c["default"],{__source:{fileName:a,lineNumber:62}},l["default"].createElement(u.Router,{history:u.browserHistory,__source:{fileName:a,lineNumber:63}},l["default"].createElement(u.Redirect,{from:"/about",to:"/docs/about.md",__source:{fileName:a,lineNumber:64}}),l["default"].createElement(u.Redirect,{from:"/docs/about",to:"/docs/about.md",__source:{fileName:a,lineNumber:65}}),l["default"].createElement(u.Redirect,{from:"/about.md",to:"/docs/about.md",__source:{fileName:a,lineNumber:66}}),l["default"].createElement(u.Redirect,{from:"/login",to:"/docs/about.md",__source:{fileName:a,lineNumber:67}}),l["default"].createElement(u.Redirect,{from:"/logout",to:"/docs/about.md",__source:{fileName:a,lineNumber:68}}),l["default"].createElement(u.Redirect,{from:"/slogout",to:"/docs/about.md",__source:{fileName:a,lineNumber:69}}),l["default"].createElement(u.Route,{path:"/",component:d["default"],__source:{fileName:a,lineNumber:70}},l["default"].createElement(u.IndexRoute,{component:d["default"],__source:{fileName:a,lineNumber:71}}),l["default"].createElement(u.IndexRedirect,{to:"/docs/about.md",__source:{fileName:a,lineNumber:72}}),l["default"].createElement(u.Route,{path:"contrib",component:p["default"],__source:{fileName:a,lineNumber:73}}),l["default"].createElement(u.Route,{path:"mycontrib",component:b["default"],__source:{fileName:a,lineNumber:74}},l["default"].createElement(u.Route,{path:":contribId",component:_["default"],ownOnly:!0,__source:{fileName:a,lineNumber:75}})),l["default"].createElement(u.Route,{path:"docs/:docFile",component:N["default"],__source:{fileName:a,lineNumber:77}}),l["default"].createElement(u.Route,{path:"tech/docs/gen/:docFile",component:N["default"],__source:{fileName:a,lineNumber:78}}),l["default"].createElement(u.Route,{path:"tech/docs/:docFile",component:N["default"],__source:{fileName:a,lineNumber:79}})),l["default"].createElement(u.Route,{path:"*",component:g["default"],__source:{fileName:a,lineNumber:81}}))),document.getElementById("body"))},{"App.jsx":5,"ContribItemPre.jsx":7,"ContribsFiltered.jsx":22,"ContribsMy.jsx":23,"Doc.jsx":10,"NotFound.jsx":17,"Provider.jsx":4,react:"react","react-dom":"react-dom","react-router":"react-router"}],2:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/object/CheckboxI.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=function(e){return!e.allTrue&&!e.allFalse},d=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"componentDidUpdate",value:function(){var e=this.props.states;this.dom.indeterminate=f(e)}},{key:"onCheck",value:function(e,t,r){var n=this;return function(a){return e(t,n.dom.indeterminate||!r.allTrue)}}},{key:"setIndeterminate",value:function(e){var t=this.props.states;e&&(this.dom=e,e.indeterminate=f(t))}},{key:"render",value:function(){var e=this.props,t=e.states,r=e.filterId,n=e.updFilter;return c["default"].createElement("input",{ref:this.setIndeterminate.bind(this),type:"checkbox",onChange:this.onCheck(n,r,t).bind(this),checked:t.allTrue,__source:{fileName:o,lineNumber:48}})}}]),t}(s.Component);r["default"]=d},{react:"react"}],3:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var c,f,d=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h="/Users/dirk/github/dariah/client/src/js/app/object/EUMap.jsx",b=e("react"),v=n(b),_=e("ByValue.jsx"),y=n(_),N=e("leaflet"),j=n(N),g=e("europe.geo.js"),E=e("hoc.js"),x={HEIGHT:250,MAX_RADIUS:25,LEVEL_OFF:10,ZOOM_INIT:3,MAP_CENTER:[52,12],MAP_BOUNDS:[[30,-20],[70,40]],MARKER_COLOR:(c={},s(c,!0,{color:"#008800",fillColor:"#00cc00"}),s(c,!1,{color:"#888844",fillColor:"#bbbb66"}),c),MARKER_SHAPE:{weight:1,fill:!0,fillOpacity:.8},COUNTRY_STYLE:(f={},s(f,!0,{color:"#884422",weight:2,fill:!0,fillColor:"#aa7766",fillOpacity:1}),s(f,!1,{color:"#777777",weight:1,fill:!0,fillColor:"#bbbbbb",fillOpacity:1}),f)},w=function(e,t,r){var n=r&&r.has(e)?r.get(e):0;if(0==n)return 0;var a=x.MAX_RADIUS*n/t;return t<x.LEVEL_OFF?a:x.LEVEL_OFF*Math.sqrt(a)},k=function(e){function t(e){l(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.features=new Map,r}return u(t,e),p(t,[{key:"setMap",value:function(e){e&&(this.dom=e)}},{key:"render",value:function(){var e=this.props,t=(e.countriesMap,i(e,["countriesMap"]));return v["default"].createElement("div",{__source:{fileName:h,lineNumber:131}},v["default"].createElement("div",{ref:this.setMap.bind(this),style:{height:x.HEIGHT},__source:{fileName:h,lineNumber:132}}),v["default"].createElement(y["default"],m({},t,{__source:{fileName:h,lineNumber:136}})))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.filterSettings,n=t.filteredAmountOthers,i=t.amounts,l=t.countriesMap;this.map=j["default"].map(this.dom,{attributionControl:!1,center:x.MAP_CENTER,zoom:x.ZOOM_INIT,maxBounds:x.MAP_BOUNDS}),this.idFromIso=new Map([].concat(a(l.values())).map(function(e){return[e.iso,e._id]})),j["default"].geoJSON(g.countryBorders,{style:function(t){return x.COUNTRY_STYLE[e.inDariah(t)]},onEachFeature:function(t){if(e.inDariah(t)){var a=t.properties,l=a.iso2,o=e.idFromIso.get(l),u=r.get(o),s=j["default"].circleMarker([a.lat,a.lng],m({},x.MARKER_COLOR[u],{radius:w(o,n,i)},x.MARKER_SHAPE,{pane:"markerPane"})).addTo(e.map);e.features.set(a.iso2,s)}}}).addTo(this.map)}},{key:"inDariah",value:function(e){return this.idFromIso.has(e.properties.iso2)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.filterSettings,r=e.filteredAmountOthers,n=e.amounts,a=!0,i=!1,l=void 0;try{for(var o,u=this.features[Symbol.iterator]();!(a=(o=u.next()).done);a=!0){var s=d(o.value,2),c=s[0],f=s[1],m=this.idFromIso.get(c),p=t.get(m);f.setRadius(w(m,r,n)),f.setStyle(x.MARKER_COLOR[p])}}catch(h){i=!0,l=h}finally{try{!a&&u["return"]&&u["return"]()}finally{if(i)throw l}}}}]),t}(b.Component);r["default"]=(0,E.withContext)(k)},{"ByValue.jsx":6,"europe.geo.js":"europe.geo.js","hoc.js":"hoc.js",leaflet:"leaflet",react:"react"}],4:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("react"),s=(n(u),e("store.js")),c=n(s),f=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"getChildContext",value:function(){var e={store:new c["default"],notification:{component:null},userInfo:new Map,usersMap:new Map,countriesMap:new Map,editStatus:{}};return{globals:e}}},{key:"render",value:function(){return u.Children.only(this.props.children)}}]),t}(u.Component);f.childContextTypes={globals:u.PropTypes.object.isRequired},r["default"]=f},{react:"react","store.js":"store.js"}],5:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/App.jsx",i=e("react"),l=n(i),o=e("Login.jsx"),u=n(o),s=e("NavLink.jsx"),c=n(s),f=e("Notification.jsx"),d=n(f),m=e("ui.js"),p=function(e){var t=e.children;return l["default"].createElement("div",{__source:{fileName:a,lineNumber:31}},l["default"].createElement(d["default"],{__source:{fileName:a,lineNumber:32}}),l["default"].createElement("p",{className:"nav",style:{paddingRight:"5em"},__source:{fileName:a,lineNumber:33}},l["default"].createElement("img",{style:{marginBottom:"-1em",marginTop:"-1em",height:"3em"},src:"/static/images/inkind_logo_small.png",title:"information about this site",__source:{fileName:a,lineNumber:34}}),l["default"].createElement(u["default"],{__source:{fileName:a,lineNumber:42}})),l["default"].createElement("div",{className:"nav",style:(0,m.columnStyle)("left"),__source:{fileName:a,lineNumber:44}},l["default"].createElement("div",{className:"nav",style:{height:"60%"},__source:{fileName:a,lineNumber:45}},l["default"].createElement("p",{__source:{fileName:a,lineNumber:46}},l["default"].createElement(c["default"],{to:"/contrib",__source:{fileName:a,lineNumber:46}},"Contributions")),l["default"].createElement("p",{__source:{fileName:a,lineNumber:47}},l["default"].createElement(c["default"],{to:"/mycontrib",__source:{fileName:a,lineNumber:47}},"My work")),l["default"].createElement("p",{__source:{fileName:a,lineNumber:48}},l["default"].createElement(c["default"],{to:"/docs/about.md",__source:{fileName:a,lineNumber:48}},"About"))),l["default"].createElement("div",{className:"nav",style:{height:"30%",verticalAlign:"bottom"},__source:{fileName:a,lineNumber:50}},l["default"].createElement("p",{__source:{fileName:a,lineNumber:51}},l["default"].createElement("a",{href:"/api/file/tech/docs/gen/index.html",target:"_blank",__source:{fileName:a,lineNumber:51}},"tech doc")),l["default"].createElement("p",{__source:{fileName:a,lineNumber:52}},l["default"].createElement(c["default"],{to:"/tech/docs/design.pdf",__source:{fileName:a,lineNumber:52}},"diagrams")),l["default"].createElement("p",{__source:{fileName:a,lineNumber:53}},l["default"].createElement(c["default"],{to:"/tech/docs/deploy.md",__source:{fileName:a,lineNumber:53}},"deploy")))),l["default"].createElement("div",{style:(0,m.columnStyle)("right"),__source:{fileName:a,lineNumber:56}},t))};r["default"]=p},{"Login.jsx":26,"NavLink.jsx":16,"Notification.jsx":27,react:"react","ui.js":"ui.js"}],6:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i="/Users/dirk/github/dariah/client/src/js/app/pure/ByValue.jsx",l=e("react"),o=n(l),u=e("Facet.jsx"),s=n(u),c=e("CheckboxI.jsx"),f=n(c),d=e("Stats.jsx"),m=n(d),p=e("Alternatives.jsx"),h=n(p),b=e("filtering.js"),v=function(e){var t=e.filterId,r=e.filterField,n=e.filterLabel,l=e.fieldValues,u=e.filterSettings,c=e.filteredAmount,d=e.filteredAmountOthers,p=e.amounts,v=e.maxCols,_=e.updFilter,y=e.expanded,N=(0,b.placeFacets)(l,v);return o["default"].createElement("div",{className:"facet",__source:{fileName:i,lineNumber:54}},null===N?o["default"].createElement("p",{__source:{fileName:i,lineNumber:55}}," -no facets "):o["default"].createElement(h["default"],{tag:r,controlPlacement:function(e){return o["default"].createElement("p",{className:"facet",__source:{fileName:i,lineNumber:58}},o["default"].createElement(f["default"],{filterId:t,states:(0,b.testAllChecks)(u),updFilter:_,__source:{fileName:i,lineNumber:59}})," ",n," ",o["default"].createElement(m["default"],{subTotal:c,total:d,__source:{fileName:i,lineNumber:64}})," ",e)},controls:[function(e){return o["default"].createElement("span",{className:"button-small fa fa-chevron-down",onClick:e,__source:{fileName:i,lineNumber:69}})},function(e){return o["default"].createElement("span",{className:"button-small fa fa-chevron-right",onClick:e,__source:{fileName:i,lineNumber:70}})}],initial:y?0:1,alternatives:[o["default"].createElement("table",{__source:{fileName:i,lineNumber:74}},o["default"].createElement("tbody",{__source:{fileName:i,lineNumber:75}},N.map(function(e,r){return o["default"].createElement("tr",{key:r,__source:{fileName:i,lineNumber:77}},e.map(function(e,r){if(null===e)return o["default"].createElement("td",{key:r,__source:{fileName:i,lineNumber:80}});var n=a(e,2),l=n[0],c=n[1];return[o["default"].createElement("td",{key:r,style:r>0?{paddingLeft:"0.5em"}:{},className:"facet",__source:{fileName:i,lineNumber:84}},o["default"].createElement(s["default"],{key:l,filterId:t,valueId:l,valueRep:c,checked:u.get(l),updFilter:_,__source:{fileName:i,lineNumber:89}})),o["default"].createElement("td",{className:"statistic",__source:{fileName:i,lineNumber:98}},o["default"].createElement(m["default"],{subTotal:p.get(l),__source:{fileName:i,lineNumber:99}}))]}))}))),o["default"].createElement("div",{__source:{fileName:i,lineNumber:106}})],__source:{fileName:i,lineNumber:56}}))};r["default"]=v},{"Alternatives.jsx":19,"CheckboxI.jsx":2,"Facet.jsx":13,"Stats.jsx":18,"filtering.js":"filtering.js",react:"react"}],7:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/ContribItemPre.jsx",i=e("react"),l=n(i),o=e("ContribItem.jsx"),u=n(o),s=function(e){var t=e.params,r=e.route,n=t.contribId,i=r.ownOnly;return l["default"].createElement(u["default"],{tag:"contrib_"+n,contribId:n,ownOnly:i,__source:{fileName:a,lineNumber:23}})};r["default"]=s},{"ContribItem.jsx":21,react:"react"}],8:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="/Users/dirk/github/dariah/client/src/js/app/pure/ContribTitle.jsx",l=e("react"),o=n(l),u=e("Alternatives.jsx"),s=n(u),c=e("ContribItem.jsx"),f=n(c),d=e("NavLink.jsx"),m=n(d),p=e("hoc.js"),h=function(e){var t=e.row,r=e.inplace,n=e.editStatus,l=t._id,u=t.title;return o["default"].createElement("tr",{id:l,__source:{fileName:i,lineNumber:23}},o["default"].createElement("td",{__source:{fileName:i,lineNumber:24}},r?o["default"].createElement(s["default"],{tag:"contrib_"+l,controlPlacement:function(e){return o["default"].createElement("p",{__source:{fileName:i,lineNumber:28}},e,o["default"].createElement("span",{ref:function(e){n[l]=a({},n[l],{prog:e})},__source:{fileName:i,lineNumber:30}})," ",o["default"].createElement("span",{ref:function(e){n[l]=a({},n[l],{title:e})},__source:{fileName:i,lineNumber:31}},u[0]))},controls:[function(e){return o["default"].createElement("a",{className:"fa fa-chevron-down",href:"#",onClick:e,__source:{fileName:i,lineNumber:37}})},function(e){return o["default"].createElement("a",{className:"fa fa-chevron-right",href:"#",onClick:e,__source:{fileName:i,lineNumber:38}})}],alternatives:[o["default"].createElement(f["default"],{tag:"contrib_"+l,contribId:l,__source:{fileName:i,lineNumber:41}}),""],initial:1,__source:{fileName:i,lineNumber:26}}):o["default"].createElement(m["default"],{className:"nav",to:"/mycontrib/"+l,__source:{fileName:i,lineNumber:47}},o["default"].createElement("span",{ref:function(e){n[l]=a({},n[l],{prog:e})},__source:{fileName:i,lineNumber:48}})," ",o["default"].createElement("span",{ref:function(e){n[l]=a({},n[l],{title:e})},__source:{fileName:i,lineNumber:49}},u[0]))))};r["default"]=(0,p.withContext)(h)},{"Alternatives.jsx":19,"ContribItem.jsx":21,"NavLink.jsx":16,"hoc.js":"hoc.js",react:"react"}],9:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Contribs.jsx",i=e("react"),l=n(i),o=e("ContribTitle.jsx"),u=n(o),s=function(e){var t=e.filteredData,r=e.inplace;return l["default"].createElement("div",{__source:{fileName:a,lineNumber:15}},l["default"].createElement("table",{__source:{fileName:a,lineNumber:16}},l["default"].createElement("tbody",{__source:{fileName:a,lineNumber:17}},t.map(function(e){return l["default"].createElement(u["default"],{key:e._id,row:e,inplace:r,__source:{fileName:a,lineNumber:19}})}))))};r["default"]=s},{"ContribTitle.jsx":8,react:"react"}],10:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Doc.jsx",i=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=e("react"),o=n(l),u=e("DocMd.jsx"),s=n(u),c=e("DocPdf.jsx"),f=n(c),d=e("DocHtml.jsx"),m=n(d),p=e("NotFound.jsx"),h=n(p),b={md:s["default"],pdf:f["default"],html:m["default"]},v=function(e){var t=(e.params,e.route,e.location),r=t.pathname,n=/^(.*)\/([^\/]+)$/g.exec(r),l=i(n,3),u=(l[0],l[1]),s=l[2],c=/^(.*)\.([^.]+)$/g.exec(s),f=i(c,3),d=(f[0],f[1]),m=f[2],p=b[m];return null==p?o["default"].createElement(h["default"],{params:{splat:"document "+r},__source:{fileName:a,lineNumber:41}}):o["default"].createElement(p,{docDir:u,docName:d,docExt:m,tag:d,__source:{fileName:a,lineNumber:43}})};r["default"]=v},{"DocHtml.jsx":11,"DocMd.jsx":24,"DocPdf.jsx":12,"NotFound.jsx":17,react:"react"}],11:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/DocHtml.jsx",i=e("react"),l=n(i),o=function(e){var t=e.docDir,r=e.docName,n=e.docExt,i="/api/file"+t+"/"+r+"."+n;return l["default"].createElement("iframe",{height:"100%",width:"100%",src:i,__source:{fileName:a,lineNumber:17}})};r["default"]=o},{react:"react"}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/DocPdf.jsx",i=e("react"),l=n(i),o=function(e){var t=e.docDir,r=e.docName,n=e.docExt,i="/api/file"+t+"/"+r+"."+n,o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return o?l["default"].createElement("p",{__source:{fileName:a,lineNumber:22}},l["default"].createElement("a",{target:"_blank",href:i,__source:{fileName:a,lineNumber:23}},r)," (open pdf in a new tab)"):l["default"].createElement("object",{height:"100%",width:"100%",data:i,type:"application/pdf",__source:{fileName:a,lineNumber:26}},"alt : ",l["default"].createElement("a",{target:"_blank",href:i,__source:{fileName:a,lineNumber:30}},r)," (open pdf in a new tab)")};r["default"]=o},{react:"react"}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Facet.jsx",i=e("react"),l=n(i),o=function(e){var t=e.filterId,r=e.valueId,n=e.valueRep,i=e.checked,o=e.updFilter;return l["default"].createElement("span",{__source:{fileName:a,lineNumber:20}},l["default"].createElement("input",{type:"checkbox",onChange:function(e){return o(t,[r,e.target.checked])},checked:i,className:"facet",__source:{fileName:a,lineNumber:21}})," "+n)};r["default"]=o},{react:"react"}],14:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0}),r.filterList=void 0;var a="/Users/dirk/github/dariah/client/src/js/app/pure/Filters.jsx",i=e("react"),l=n(i),o=e("FullText.jsx"),u=n(o),s=e("ByValue.jsx"),c=n(s),f=e("EUMap.jsx"),d=n(f),m=r.filterList=[{kind:u["default"],name:"FullText",field:"title",label:"title",maxCols:null,expanded:null},{kind:d["default"],name:"EUMap",field:"country",label:"country",maxCols:3,expanded:!0},{kind:c["default"],name:"ByValue",field:"vcc",label:"vcc",maxCols:2,expanded:!0},{kind:c["default"],name:"ByValue",field:"year",label:"year",maxCols:3,expanded:!1},{kind:c["default"],name:"ByValue",field:"typeContribution",label:"type",maxCols:2,expanded:!0},{kind:c["default"],name:"ByValue",field:"tadirahActivities",label:"research activity",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"tadirahObjects",label:"research object",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"tadirahTechniques",label:"research technique",maxCols:1,expanded:!1},{kind:c["default"],name:"ByValue",field:"disciplines",label:"discipline",maxCols:2,expanded:!1},{kind:c["default"],name:"ByValue",field:"keywords",label:"keyword",maxCols:1,expanded:!1}],p=function(e){var t=e.fields,r=e.filterSettings,n=e.fieldValues,i=e.filteredAmount,o=e.filteredAmountOthers,u=e.amounts,s=e.updFilter;return l["default"].createElement("div",{__source:{fileName:a,lineNumber:79}},m.filter(function(e){return t[e.field]}).map(function(e,t){var c=e.kind;return l["default"].createElement(c,{key:t,filterId:t,filterField:e.field,filterLabel:e.label,maxCols:e.maxCols,filterSettings:r.get(t),fieldValues:n.get(e.field),filteredAmount:i,filteredAmountOthers:o.get(t),amounts:u.get(t),updFilter:s,expanded:e.expanded,__source:{fileName:a,lineNumber:83}})}))};r["default"]=p},{"ByValue.jsx":6,"EUMap.jsx":3,"FullText.jsx":15,react:"react"}],15:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/FullText.jsx",i=e("react"),l=n(i),o=e("Stats.jsx"),u=n(o),s=function(e,t){return function(r){return e(t,r.target.value)}},c=function(e){var t=e.filterId,r=(e.filterField,e.filterLabel),n=e.filterSettings,i=e.filteredAmount,o=e.filteredAmountOthers,c=e.updFilter;return l["default"].createElement("div",{__source:{fileName:a,lineNumber:31}},l["default"].createElement("p",{__source:{fileName:a,lineNumber:32}},l["default"].createElement("input",{type:"text",className:"search",placeholder:"search in "+r,value:n,onChange:s(c,t),__source:{fileName:a,lineNumber:32}})," ",l["default"].createElement(u["default"],{subTotal:i,total:o,__source:{fileName:a,lineNumber:39}})))};r["default"]=c},{"Stats.jsx":18,react:"react"}],16:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i="/Users/dirk/github/dariah/client/src/js/app/pure/NavLink.jsx",l=e("react"),o=n(l),u=e("react-router"),s=function(e){return o["default"].createElement(u.Link,a({},e,{activeClassName:"active",__source:{fileName:i,lineNumber:13}}))};r["default"]=s},{react:"react","react-router":"react-router"}],17:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/NotFound.jsx",i=e("react"),l=n(i),o=function(e){var t=e.params;return l["default"].createElement("h1",{__source:{fileName:a,lineNumber:14}},"404: ",l["default"].createElement("code",{__source:{fileName:a,lineNumber:14}},t.splat)," not found on this site.")};r["default"]=o},{react:"react"}],18:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var a="/Users/dirk/github/dariah/client/src/js/app/pure/Stats.jsx",i=e("react"),l=n(i),o=function(e){var t=e.subTotal,r=e.total;return l["default"].createElement("span",{__source:{fileName:a,lineNumber:15}},null==t?"":""+t,null==r||null==t?"":" of ",l["default"].createElement("strong",{__source:{fileName:a,lineNumber:18}},null==r?"":""+r))};r["default"]=o},{react:"react"}],19:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/Alternatives.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("hoc.js"),d=e("localstorage.js"),m=function(e){var t=e.tag;return{alt:(0,d.lsGet)(t)}},p=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"next",value:function(e){e.preventDefault();var t=this.props,r=t.tag,n=t.alternatives,a=t.initial,i=null==this.state.alt?null==a?0:a:this.state.alt,l=(i+1)%n.length;(0,d.lsSet)(r,l),this.setState({alt:l})}},{key:"render",value:function(){var e=this.props,t=e.controlPlacement,r=e.controls,n=e.alternatives,a=e.initial,i=this.state.alt,l=null==i?null==a?0:a:i;return c["default"].createElement("div",{__source:{fileName:o,lineNumber:70}},t(r[l](this.next.bind(this))),n[l])}}]),t}(s.Component);r["default"]=(0,f.withContext)((0,f.saveState)(p,"Alternatives",m))},{"hoc.js":"hoc.js","localstorage.js":"localstorage.js",react:"react"}],20:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/ContribField.jsx",d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=e("react"),b=n(h),v=e("RelSelect.jsx"),_=n(v),y=e("Alternatives.jsx"),N=n(y),j=e("data.js"),g=e("hoc.js"),E={url:50,email:30,range:6,datetime:25,text:50,_max:50},x=function(e){return{
full:e,text:null==e?"":e.replace(/\.[0-9]+/,"")}},w=function(e){return{full:e,text:null==e?"":e.length>20?e.slice(0,8)+"..."+e.slice(-8):e}},k=function(e){return{url:e.urlFragment.bind(e),email:e.emailFragment.bind(e),textarea:e.textareaFragment.bind(e),_default:e.defaultFragment.bind(e)}},O=function(e){return{rel:e.relEditFragment.bind(e),textarea:e.textareaEditFragment.bind(e),_default:e.defaultEditFragment.bind(e)}},C=function(e){var t=e.initValues,r=null==t?[]:t,n=[].concat(s(r));return{curValues:n,savedValues:r,reasons:{},saving:{},changed:!1,valid:!0,relValues:null}},S=function(e,t){var r=e._id,n=void 0,a=void 0;if(t.has(r)){var i=t.get(r),l=i.firstName||"",o=i.lastName||"",u=i.email||"",s=i.eppn||"",c=i.authority||"",f=i.mayLogin?"yes":"no",d=[l,o].filter(function(e){return e}).join(" ");""==d&&(d=u);var m=d&&u?"["+d+"](mailto:"+u+")":d+u,p=s?" eppn="+s+" ":"",h=c?" authenticated by="+c+" ":"",b=f?" active="+f+" ":"";n=[m,p,h,b].filter(function(e){return e}).join("; "),a=[l,o,s].filter(function(e){return e}).slice(0,2).join(" ")}else n="UNKNOWN",a="??";return{text:a,full:n}},P=function(e,t){var r=e._id,n=void 0,a=void 0;if(t.has(r)){var i=t.get(r);a=i.name,n=i.iso+": "+i.name}else n="UNKNOWN",a="??";return{text:a,full:n}},M=function(e,t,r){var n=!0,a="";if(!r.nonEmpty||null!=e&&""!=e||(a="field may not be empty",n=!1),null!=r.min||null!=r.max)if(isNaN(e))a="value must be a number",n=!1;else{var i=parseInt(e);r.min<=i||(a="value must be at least "+r.min,n=!1),r.max>=e||(a="value must be at most "+r.max,n=!1)}if("datetime"==t){var l=void 0;try{l=Date.parse(e)}catch(o){a="not a valid date/time - "+o,n=!1}isNaN(l)&&(a="not a valid date/time",n=!1)}return{vstatus:n,reason:a}},F=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),p(t,[{key:"setValToState",value:function(e,t,r,n){var a=this.state.reasons,l=void 0,o=[].concat(s(this.state.curValues));if(null==t)o=o.filter(function(t,r){return r!=e}),l=a;else{var u=this.props,c=u.valType,f=u.validation,d=M(t,c,f),p=(d.vstatus,d.reason),h="rel"==c?"string"!=typeof t?t:{_id:r,value:t}:t,b=e==-1?o.length:e;e==-1?o.push(h):o[e]=h,l=m({},this.state.reasons,i({},b,p))}var v=this.checkForSave({newValues:o,newReasons:l}),_=v.valid,y=v.changed;n&&_&&y?this.toDb(o):this.setState(m({},this.state,{curValues:o,reasons:l,saving:{},valid:_,changed:y}))}},{key:"changeVal",value:function(e,t){t.preventDefault(),this.setValToState(e,t.target.value,null,!1)}},{key:"keyUp",value:function(e,t){13===t.keyCode&&(t.target.blur(),this.setValToState(e,t.target.value,null,!0))}},{key:"changeRelVal",value:function(e,t,r){this.setValToState(e,r,t,!0)}},{key:"removeVal",value:function(e,t,r){r.preventDefault(),this.setValToState(e,null,null,!0)}},{key:"checkForSave",value:function(e){var t=e.newValues,r=e.newReasons,n=this.props,a=(n.rowId,n.name),i=(n.valType,n.validation,n.multiple,n.allowNew,n.updEdit),l=this.state.savedValues,o=Object.keys(r).every(function(e){return!r[e]}),u=!1;if(t.length!=l.length)u=!0;else for(var s in t){var c=t[s],f=l[s];if(null==f)u=!0;else if("object"==("undefined"==typeof c?"undefined":d(c))){var m=!0,p=!1,h=void 0;try{for(var b,v=Object.keys(c)[Symbol.iterator]();!(m=(b=v.next()).done);m=!0){var _=b.value;if(c[_]!=f[_]){u=!0;break}}}catch(y){p=!0,h=y}finally{try{!m&&v["return"]&&v["return"]()}finally{if(p)throw h}}}else c!=f&&(u=!0);if(u)break}return i(a,u,o,t),{valid:o,changed:u}}},{key:"saveField",value:function(){var e=this.state,t=e.valid,r=e.changed,n=e.saving;t&&r&&!n.status&&this.toDb()}},{key:"saved",value:function(e){var t=this.props,r=t.name,n=t.updMod,i=t.updEdit;if(null==e)this.setState(m({},this.state,{saving:{status:"error"}}));else{var l=e[r],o=a(e,[r]);this.setState(m({},this.state,{saving:{status:"saved"},savedValues:l,curValues:l,changed:!1,valid:!0})),n(o),i(r,!1,!0,l)}}},{key:"toDb",value:function(e){var t=this.state.curValues,r=this.props,n=r.name,a=r.rowId,i=(r.valType,null==e?t:e);this.setState(m({},this.state,{reasons:{},saving:{status:"saving"}})),(0,j.getData)([{type:"db",path:"/item_contrib?action=update",branch:"save "+n,callback:this.saved.bind(this),data:{_id:a,name:n,values:i}}],this,this.props.notification.component)}},{key:"fullfillSave",value:function(){var e=this.props,t=e.editable,r=e.saveConcern;this.props.name;t&&r&&this.saveField()}},{key:"valueAsString",value:function(e){var t=this.props,r=t.valType,n=t.convert,a=t.usersMap,i=t.countriesMap;switch(r){case"rel":switch(n){case"user":return S(e,a);case"country":return P(e,i);default:return w(e.value)}case"datetime":return x(e);default:return{text:e,full:e}}}},{key:"urlFragment",value:function(e,t,r){var n=r.text,a=r.full;return b["default"].createElement("a",{key:e,target:"_blank",href:a,className:t.join(" "),__source:{fileName:f,lineNumber:330}},n)}},{key:"emailFragment",value:function(e,t,r){var n=(r.text,r.full);return b["default"].createElement("a",{key:e,target:"_blank",href:"mailto:"+n,className:t.join(" "),__source:{fileName:f,lineNumber:334}},n)}},{key:"textareaFragment",value:function(e,t,r){var n=(r.text,r.full);return b["default"].createElement("p",{key:e,className:t.join(" "),__source:{fileName:f,lineNumber:338}},n)}},{key:"defaultFragment",value:function(e,t,r){var n=r.text,a=r.full;return b["default"].createElement("span",{key:e,className:t.join(" "),title:a,__source:{fileName:f,lineNumber:342}},n)}},{key:"relOptions",value:function(){var e=this.state.relValues;return e.map(function(e){return[e._id,w(e.value)]})}},{key:"userOptions",value:function(){var e=this,t=this.props.usersMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"countryOptions",value:function(){var e=this,t=this.props.countriesMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"relSelect",value:function(e,t,r,n,a){var i=a.text,l=a.full,o=this.props,u=o.convert,s=o.allowNew,c=o.name,d=o.rowId,m=this.state.valid,p="user"==u?this.userOptions():"country"==u?this.countryOptions():this.relOptions();return b["default"].createElement(_["default"],{tag:"relselect_"+d+"_"+c+"_"+e,key:e,isNew:e==-1,allowNew:s,valid:m,valueList:p,initVal:t,initText:i,initFull:l,onChange:this.changeRelVal.bind(this,e),classNames:r,extraClasses:n,__source:{fileName:f,lineNumber:363}})}},{key:"relEditFragment",value:function(e,t,r,n,a){var i=a.text,l=a.full,o=this.props.multiple;return o||0!=e?b["default"].createElement("span",{key:e,className:r.join(" "),title:l,__source:{fileName:f,lineNumber:384}},i," ",b["default"].createElement("span",{className:"button-small fa fa-close",onClick:this.removeVal.bind(this,e,t),__source:{fileName:f,lineNumber:385}})):this.relSelect(e,t,r,n,a)}},{key:"textareaEditFragment",value:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:100,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:10,o=(a.text,a.full);return this.saveLater=!0,b["default"].createElement("textarea",{key:e,className:r.concat(n).join(" "),value:o,onChange:this.changeVal.bind(this,e),cols:i,rows:l,placeholder:a.initial,wrap:"soft",__source:{fileName:f,lineNumber:396}})}},{key:"defaultEditFragment",value:function(e,t,r,n,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:50,l=(a.text,a.full);return this.saveLater=!0,b["default"].createElement("input",{key:e,type:"text",className:r.concat(n).join(" "),value:l,placeholder:a.initial,onChange:this.changeVal.bind(this,e),onKeyUp:this.keyUp.bind(this,e),size:i,__source:{fileName:f,lineNumber:411}})}},{key:"progIcon",value:function r(){var e=this.props.editable,r=void 0;if(e){var t=this.state,n=t.saving,a=t.changed,i=t.valid,l=n.status;r="saving"==l?"fa-spinner fa-spin":"saved"==l?"fa-check saved":"error"==l?"fa-exclamation error":i?a?"fa-pencil changed":"fa-pencil":"fa-close invalid",r+=" fa progress"}else r="fa fa-lock progress";return b["default"].createElement("span",{key:name,className:r,__source:{fileName:f,lineNumber:439}})}},{key:"valuesAsReadonly",value:function(){var e=this,t=this.state.curValues;this.props.name;if(0==t.length)return b["default"].createElement("span",{className:"absent",__source:{fileName:f,lineNumber:445}},"no value");var r=this.props,n=r.valType,a=r.multiple,i=r.appearance,l=k(this),o=l[n]||l._default,u=i.cutoff,c=[],d=[];d.push(" ");var m=i.reverse?[].concat(s(t)).reverse():t;return m.forEach(function(t,r){var i=!u||r<=u-1?d:c,l=e.valueAsString(t),s=["value",n],f=o(r,s,l);(a||0==r)&&i.push(f),a&&i.push(" ")}),this.knead(d,c)}},{key:"valuesAsControls",value:function(){var e=this,t=this.state,r=t.curValues,n=t.reasons,a=(this.state.savedValues,this.props),i=(a.name,a.initial),l=a.valType,o=a.multiple,u=(a.validation,a.allowNew,a.appearance),s=O(this),d=s[l]||s._default,m=u.cutoff,p=[],h=[],v=r.map(function(e,t){return[t,e]}),_=u.reverse?v.reverse():v,y=["value",l],N=E[l]||E._max,j=h,g=[];return _.forEach(function(t,r){var a=c(t,2),i=a[0],l=a[1];j=!m||r<=m-1?h:p;var u=e.valueAsString(l),s=l._id;g=[];var v=n[i]||"";""!=v&&g.push("invalid");var _=d(i,s,y,g,u,N);(o||0==r)&&(j.push(_),""!=v&&(j.push(" "),j.push(b["default"].createElement("span",{key:"r_"+i,className:"reason",__source:{fileName:f,lineNumber:495}},v))),j.push(" "))}),(o||0==r.length)&&(j.push(" "),"rel"==l?j.push(this.relSelect(-1,null,y,g,{text:null,full:null})):j.push(d(-1,null,y,g,{text:"",full:"",initial:i},N))),this.knead(h,p)}},{key:"knead",value:function(e,t){var r=this.props,n=r.rowId,a=r.name;return 0==t.length?e:b["default"].createElement(N["default"],{tag:"field_"+n+"_"+a,controlPlacement:function(t){return b["default"].createElement("span",{__source:{fileName:f,lineNumber:519}},e," ",t)},controls:[function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:521}},"show more")},function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:522}},"show less")}],alternatives:["",t],initial:0,__source:{fileName:f,lineNumber:518}})}},{key:"render",value:function(){var e=this.state.relValues,t=this.props,r=(t.name,t.label),n=t.editable,a=t.valType,i=t.convert;this.state.curValues;if(n&&null==e&&"rel"==a&&"user"!=i&&"country"!=i)return null;var l=n?"editable":"readonly",o=this.progIcon(),u=n?this.valuesAsControls():this.valuesAsReadonly(),s=n&&this.saveLater?{onClick:this.saveField.bind(this)}:{};return b["default"].createElement("tr",{__source:{fileName:f,lineNumber:545}},b["default"].createElement("td",m({className:"label"},s,{__source:{fileName:f,lineNumber:546}}),r),b["default"].createElement("td",m({className:"label"},s,{__source:{fileName:f,lineNumber:547}}),o),b["default"].createElement("td",{__source:{fileName:f,lineNumber:548}},b["default"].createElement("div",{className:l,__source:{fileName:f,lineNumber:548}},u)))}},{key:"fetchValues",value:function(){var e=(this.props.rowId,this.state.relValues),t=this.props,r=t.valType,n=t.getValues,a=t.convert;t.usersMap,t.countriesMap;"rel"==r&&"user"!=a&&"country"!=a&&null==e&&(0,j.getData)([{type:"db",path:n,branch:"relValues"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchValues(),this.fullfillSave()}},{key:"componentDidUpdate",value:function(){this.fetchValues(),this.fullfillSave()}}]),t}(h.Component);r["default"]=(0,g.withContext)((0,g.saveState)(F,"ContribField",C))},{"Alternatives.jsx":19,"RelSelect.jsx":28,"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],21:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s="/Users/dirk/github/dariah/client/src/js/app/state/ContribItem.jsx",c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=e("react"),m=n(d),p=e("ContribField.jsx"),h=n(p),b=e("data.js"),v=e("hoc.js"),_=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),f(t,[{key:"updMod",value:function(e){var t={};for(var r in e)t[r]=!1;var n=c({},this.state,{fieldData:c({},this.state.fieldData,{fields:c({},this.state.fieldData.fields,e)})});this.setState(n)}},{key:"progIcon",value:function(e,t){var r=this.props,n=r.editStatus,a=r.contribId,i=["savei"];i.push(t?"valid":"invalid"),i.push(e?"clean":"dirty"),t?e||i.push("fa fa-pencil changed"):i.push("fa fa-close invalid"),n[a].prog.className=i.join(" ")}},{key:"updEdit",value:function(e,t,r,n){var a=this.props,l=a.editStatus,o=a.contribId,u=this.state;u.saveConcern,u.fieldData;"title"==e&&(l[o].title.innerHTML=n[0]);var s=c({},this.state,{changed:c({},this.state.changed,i({},e,t)),valid:c({},this.state.valid,i({},e,r))}),f=this.saveStatus(s),d=f.noChange,m=f.allValid,p=f.canSave;this.progIcon(d,m),p||(s.saveConcern=!1),this.setState(s)}},{key:"saveAll",value:function(){var e=this.saveStatus(),t=e.canSave;t&&this.setState(c({},this.state,{saveConcern:!0}))}},{key:"delete",value:function(){console.log("delete requested")}},{key:"parseFields",value:function(){var e=this.state.fieldData,t=e.row,r=e.fields,n=e.fieldSpecs,i=e.fieldOrder,l=e.perm,o=[],u=!1,f=!0,d=!1,p=void 0;try{for(var b,v=i[Symbol.iterator]();!(f=(b=v.next()).done);f=!0){var _=b.value,y=n[_],N=y.label,j=y.initial,g=a(y,["label","initial"]);if(null!=r[_]){var E=!!l.update[_];E&&(u=!0);var x=t._id;o.push(m["default"].createElement(h["default"],c({key:_,tag:"field_"+x+"_"+_,initValues:t[_],rowId:x,editable:E,name:_,label:N,initial:j,saveConcern:this.state.saveConcern,updMod:this.updMod.bind(this),updEdit:this.updEdit.bind(this)},g,{__source:{fileName:s,lineNumber:94}})))}}}catch(w){d=!0,p=w}finally{try{!f&&v["return"]&&v["return"]()}finally{if(d)throw p}}return{fragments:o,hasEditable:u}}},{key:"saveStatus",value:function(e){var t=null==e?this.state:e,r=(t.fieldData,t.changed),n=t.valid,a=Object.keys(r).every(function(e){return!r[e]}),i=Object.keys(n).every(function(e){return n[e]}),l=!Object.keys(r).every(function(e){return!r[e]||!n[e]});return{noChange:a,allValid:i,canSave:l}}},{key:"render",value:function(){var e=this.state,t=e.fieldData;e.changed,e.valid;if(null==t||null==t.row)return m["default"].createElement("div",{__source:{fileName:s,lineNumber:124}});var r=this.saveStatus(),n=r.noChange,a=r.allValid,i=r.canSave,l=a?"valid":"invalid",o=n?"clean":"dirty",u=n?"all saved":a?"save changes":"make corrections",c=t.perm,f=this.parseFields(),d=f.fragments,p=f.hasEditable;return m["default"].createElement("div",{className:"item",__source:{fileName:s,lineNumber:133}},m["default"].createElement("p",{__source:{fileName:s,lineNumber:134}},p?[i?m["default"].createElement("span",{key:"1",className:"button-large save "+o+" "+l,onClick:this.saveAll.bind(this),__source:{fileName:s,lineNumber:137}},u):m["default"].createElement("span",{key:"1",className:"save "+o+" "+l,__source:{fileName:s,lineNumber:143}},u),c["delete"]?m["default"].createElement("span",{key:"2",className:"fa fa-trash button-large delete",onClick:this["delete"].bind(this),title:"delete this contribution",__source:{fileName:s,lineNumber:149}}):null]:null),m["default"].createElement("table",{__source:{fileName:s,lineNumber:158}},m["default"].createElement("tbody",{__source:{fileName:s,lineNumber:159}},d)))}},{key:"fetchRow",value:function(){var e=this.state.fieldData,t=this.props,r=t.contribId,n=t.ownOnly;null==e&&(0,b.getData)([{type:"db",path:"/item_contrib?id="+r+(n?"&own=true":""),branch:"fieldData"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchRow()}},{key:"componentDidUpdate",value:function(){this.fetchRow()}}]),t}(d.Component);r["default"]=(0,v.withContext)((0,v.saveState)(_,"ContribItem",{fieldData:null,changed:{},valid:{},saveConcern:!1}))},{"ContribField.jsx":20,"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],22:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/ContribsFiltered.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("FilterCompute.jsx"),d=n(f),m=e("Filters.jsx"),p=e("filtering.js"),h=e("data.js"),b=e("hoc.js"),v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=this.props,i=a.usersMap,l=a.countriesMap;if(null==t||null==r||null==n)return c["default"].createElement("div",{__source:{fileName:o,lineNumber:53}});var u=t.contribs,s=t.fields,f=(0,p.compileFiltering)(u,s,m.filterList),h=f.fieldValues,b=f.filterInit,v=!0,_=!1,y=void 0;try{for(var N,j=n[Symbol.iterator]();!(v=(N=j.next()).done);v=!0){var g=N.value;i.set(g._id,g)}}catch(E){_=!0,y=E}finally{try{!v&&j["return"]&&j["return"]()}finally{if(_)throw y}}var x=!0,w=!1,k=void 0;try{for(var O,C=r[Symbol.iterator]();!(x=(O=C.next()).done);x=!0){var S=O.value;l.set(S._id,S)}}catch(E){w=!0,k=E}finally{try{!x&&C["return"]&&C["return"]()}finally{if(w)throw k}}return c["default"].createElement(d["default"],{contribs:u,fields:s,fieldValues:h,filterInit:b,__source:{fileName:o,lineNumber:59}})}},{key:"componentDidMount",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users;null!=t&&null!=r&&null!=n||(0,h.getData)([{type:"db",path:"/list_contrib",branch:"contribData"},{type:"db",path:"/member_country",branch:"countries"},{type:"db",path:"/users",branch:"users"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,b.withContext)((0,b.saveState)(v,"ContribsFiltered",{contribs:null,countries:null,users:null}))},{"FilterCompute.jsx":25,"Filters.jsx":14,"data.js":"data.js","filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react"}],23:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/ContribsMy.jsx",u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),f=n(c),d=e("Contribs.jsx"),m=n(d),p=e("ContribItemPre.jsx"),h=(n(p),e("data.js")),b=e("hoc.js"),v=e("ui.js"),_=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"inserted",value:function(e){if(this.setState(u({},this.state,{inserted:e})),null!=e){var t=this.props.router;t.push("/mycontrib/"+e)}}},{key:"insertRow",value:function(e){e.preventDefault(),(0,h.getData)([{type:"db",path:"/item_contrib?action=insert",branch:"insert",callback:this.inserted.bind(this)},{type:"db",path:"/my_contribs",branch:"contribData"}],this,this.props.notification.component)}},{key:"render",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=this.props,i=a.usersMap,l=a.countriesMap,u=a.children;if(null==t||null==r||null==n)return f["default"].createElement("div",{__source:{fileName:o,lineNumber:65}});var s=t.contribs,c=(t.fields,t.perm),d=!0,p=!1,h=void 0;try{for(var b,_=n[Symbol.iterator]();!(d=(b=_.next()).done);d=!0){var y=b.value;i.set(y._id,y)}}catch(N){p=!0,h=N}finally{try{!d&&_["return"]&&_["return"]()}finally{if(p)throw h}}var j=!0,g=!1,E=void 0;try{for(var x,w=r[Symbol.iterator]();!(j=(x=w.next()).done);j=!0){var k=x.value;l.set(k._id,k)}}catch(N){g=!0,E=N}finally{try{!j&&w["return"]&&w["return"]()}finally{if(g)throw E}}return f["default"].createElement("div",{__source:{fileName:o,lineNumber:71}},f["default"].createElement("div",{className:"nav",style:(0,v.columnStyle)("rightLeftNav"),__source:{fileName:o,lineNumber:72}},f["default"].createElement("p",{__source:{fileName:o,lineNumber:73}},s.length," contributions"," ",null!=c&&c.insert?f["default"].createElement("span",{className:"fa fa-plus button-large insert",title:"New contribution",onClick:this.insertRow.bind(this),__source:{fileName:o,lineNumber:77}}):null),f["default"].createElement(m["default"],{filteredData:s,inplace:!1,__source:{fileName:o,lineNumber:84}})),f["default"].createElement("div",{style:(0,v.columnStyle)("rightRightBody"),__source:{fileName:o,lineNumber:86}},u))}},{key:"componentDidMount",value:function(){var e=this.state,t=e.contribData,r=e.countries,n=e.users,a=e.inserted;null==t||null==r||null==n?(0,h.getData)([{type:"db",path:"/my_contribs",branch:"contribData"},{type:"db",path:"/member_country",branch:"countries"},{type:"db",path:"/users",branch:"users"}],this,this.props.notification.component):a&&(this.setState(u({},this.state,{inserted:null})),(0,h.getData)([{type:"db",path:"/my_contribs",branch:"contribData"}],this,this.props.notification.component))}}]),t}(c.Component);r["default"]=(0,b.withContext)((0,b.saveState)(_,"ContribsMy",{contribs:null,countries:null,users:null,inserted:null}))},{"ContribItemPre.jsx":7,"Contribs.jsx":9,"data.js":"data.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],24:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u="/Users/dirk/github/dariah/client/src/js/app/state/DocMd.jsx",s=e("react"),c=n(s),f=e("react-markdown"),d=n(f),m=e("react-router"),p=e("Alternatives.jsx"),h=n(p),b=e("data.js"),v=e("hoc.js"),_=function(e){var t=e.children,r=e.href;return r.match(/^(https?:)?\/\//)?c["default"].createElement("a",{href:r,__source:{fileName:u,lineNumber:26}},t):c["default"].createElement(m.Link,{to:r,__source:{fileName:u,lineNumber:27}},t)},y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),o(t,[{key:"render",value:function(){var e=this.props.docName,t=this.state.md;return null==t?c["default"].createElement("div",{__source:{fileName:u,lineNumber:50}}):c["default"].createElement("div",{style:{paddingLeft:"0.5em"},__source:{fileName:u,lineNumber:53}},c["default"].createElement(h["default"],{tag:e,controlPlacement:function(e){return c["default"].createElement("p",{style:{"float":"right"},__source:{fileName:u,lineNumber:56}},e)},controls:[function(e){return c["default"].createElement("a",{ref:"toSrc",className:"control fa fa-hand-o-down",href:"#",onClick:e,title:"markdown source",__source:{fileName:u,lineNumber:59}})},function(e){return c["default"].createElement("a",{ref:"toFrm",className:"control fa fa-file-code-o",href:"#",onClick:e,title:"formatted",__source:{fileName:u,lineNumber:60}})}],alternatives:[c["default"].createElement("div",{__source:{fileName:u,lineNumber:63}},c["default"].createElement(d["default"],{source:t,renderers:{Link:_},__source:{fileName:u,lineNumber:64}})),c["default"].createElement("div",{__source:{fileName:u,lineNumber:69}},c["default"].createElement("pre",{className:"md-source",__source:{fileName:u,lineNumber:70}},t))],__source:{fileName:u,lineNumber:54}}))}},{key:"fetchText",value:function(){var e=this.props,t=e.docDir,r=e.docName,n=e.docExt;null==this.state.md&&(0,b.getData)([{type:"json",path:t+"/"+r+"."+n,branch:"md"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchText()}},{key:"componentDidUpdate",value:function(){this.fetchText()}}]),t}(s.Component);r["default"]=(0,v.withContext)((0,v.saveState)(y,"DocMd",{md:null}))},{"Alternatives.jsx":19,"data.js":"data.js","hoc.js":"hoc.js",react:"react","react-markdown":"react-markdown","react-router":"react-router"}],25:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/FilterCompute.jsx",u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=e("react"),f=n(c),d=e("Contribs.jsx"),m=n(d),p=e("Filters.jsx"),h=n(p),b=e("filtering.js"),v=e("ui.js"),_=e("hoc.js"),y=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),s(t,[{key:"updFilter",value:function(e,t){var r=this.state.filterSettings;"string"==typeof t&&(0,b.setf)(e,"",t),"boolean"==typeof t?(0,b.setf)(e,"",t):(0,b.setf)(e,t[0],t[1]),this.setState(u({},this.state,{filterSettings:(0,b.newFilterSettings)(r,e,t)}))}},{key:"render",value:function(){var e=this.state.filterSettings,t=this.props,r=t.contribs,n=t.fields,a=t.fieldValues,i=(0,b.computeFiltering)(r,n,p.filterList,a,e),l=i.filteredData,u=i.filteredAmountOthers,s=i.amounts;return f["default"].createElement("div",{__source:{fileName:o,lineNumber:63}},f["default"].createElement("div",{style:(0,v.columnStyle)("rightLeft"),__source:{fileName:o,lineNumber:64}},f["default"].createElement("p",{__source:{fileName:o,lineNumber:65}},"Total ",r.length),f["default"].createElement(h["default"],{fields:n,fieldValues:a,filteredAmount:l.length,filteredAmountOthers:u,amounts:s,filterSettings:e,updFilter:this.updFilter.bind(this),__source:{fileName:o,lineNumber:66}})),f["default"].createElement("div",{style:(0,v.columnStyle)("rightRight"),__source:{fileName:o,lineNumber:76}},f["default"].createElement(m["default"],{filteredData:l,inplace:!0,__source:{fileName:o,lineNumber:77}})))}}]),t}(c.Component);r["default"]=(0,_.withContext)((0,_.saveState)(y,"FilterCompute",function(e){var t=e.filterInit;return{filterSettings:t}}))},{"Contribs.jsx":9,"Filters.jsx":14,"filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],26:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/Login.jsx",u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("react"),c=n(s),f=e("hoc.js"),d=e("data.js"),m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),u(t,[{key:"render",value:function(){var e=this.state.user,t=this.props.userInfo;t.clear();var r=!0,n=!1,a=void 0;try{for(var i,l=Object.keys(e)[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){var u=i.value;t.set(u,e[u])}}catch(s){n=!0,a=s}finally{try{!r&&l["return"]&&l["return"]()}finally{if(n)throw a}}return c["default"].createElement("span",{className:"login",__source:{fileName:o,lineNumber:38}},e.eppn&&Object.keys(e).length>0?c["default"].createElement("span",{__source:{fileName:o,lineNumber:40}},c["default"].createElement("strong",{className:"fa fa-user",title:e.eppn,__source:{fileName:o,lineNumber:41}},e.eppn.split("@")[0]),c["default"].createElement("span",{className:"fa fa-hashtag",__source:{fileName:o,lineNumber:42}}),e.authority," ",c["default"].createElement("em",{__source:{fileName:o,lineNumber:43}},e.groupDesc||"not authenticated"),c["default"].createElement("a",{
href:"/logout",className:"control fa fa-user-times",__source:{fileName:o,lineNumber:44}}," logout"),c["default"].createElement("a",{href:"/slogout",className:"control fa fa-users",__source:{fileName:o,lineNumber:45}}," quit ")):c["default"].createElement("a",{href:"/login",className:"control fa fa-user-plus",__source:{fileName:o,lineNumber:48}}," login"))}},{key:"componentDidMount",value:function(){(0,d.getData)([{type:"db",path:"/who/ami",branch:"user"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,f.withContext)((0,f.saveState)(m,"Login",{user:{}}))},{"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],27:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/Notification.jsx",s=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=e("react"),d=n(f),m=e("hoc.js"),p=[],h=function(e){function t(e){i(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.notification.component=r,r.msgs=[],r.visible=!1,r.dom={},r}return o(t,e),c(t,[{key:"notify",value:function(e){this.msgs.push(e),this.setState({msgs:[].concat(a(this.msgs))})}},{key:"clear",value:function(){this.msgs=[],this.setState({msgs:[]})}},{key:"computeProgress",value:function(){var e=this.msgs.length-1,t=-1,r="info",n=0;this.msgs.forEach(function(e,a){"error"==e.kind?(t=a,r="error"):"warning"==e.kind&&"error"!=r&&(t=a,r="warning"),n+=e.busy||0}),n<0&&(console.warn("SHOULD NOT HAPPEN: negative value for busy "+n),n=0);var a=this.visible||t>-1;return[e,t,r,n,a]}},{key:"refDom",value:function(e,t){t&&(this.dom[e]=t)}},{key:"render",value:function(){var e=this,t=this.computeProgress(),r=s(t,5);this.lastMsg=r[0],this.lastNote=r[1],this.lastKind=r[2],this.busy=r[3],this.visible=r[4];var n=new Array(this.busy).fill(1);return d["default"].createElement("div",{__source:{fileName:u,lineNumber:85}},d["default"].createElement("p",{className:"msg-spinner",__source:{fileName:u,lineNumber:86}},d["default"].createElement("a",{title:"show/hide notifications and progress messages",href:"#",className:this.lastNote>-1?"spin-"+this.lastKind:"spin-ok",onClick:function(t){t.preventDefault(),e.setView(!e.visible)},__source:{fileName:u,lineNumber:87}},n.map(function(e,t){return d["default"].createElement("span",{key:t,className:"msg-dot fa fa-circle",__source:{fileName:u,lineNumber:93}})}),d["default"].createElement("span",{className:"fa fa-"+(0==this.busy?"circle-o":"spinner fa-spin"),__source:{fileName:u,lineNumber:94}}))),d["default"].createElement("div",{ref:this.refDom.bind(this,"notbox"),className:"msg-box",onClick:function(t){t.preventDefault(),e.setView(!1)},__source:{fileName:u,lineNumber:97}},(this.msgs||p).map(function(t,r){return d["default"].createElement("p",{key:r,ref:e.refDom.bind(e,"m"+r),className:"msg-line msg-"+[t.kind],__source:{fileName:u,lineNumber:104}},t.text)}),d["default"].createElement("p",{className:"msg-dismiss",__source:{fileName:u,lineNumber:111}},"(click panel to hide)"),d["default"].createElement("p",{className:"msg-trash",__source:{fileName:u,lineNumber:114}},d["default"].createElement("a",{href:"#",title:"clear messages",className:"control fa fa-trash",onClick:function(t){t.preventDefault(),e.clear()},__source:{fileName:u,lineNumber:115}}))))}},{key:"componentDidMount",value:function(){this.setView()}},{key:"componentDidUpdate",value:function(){this.setView()}},{key:"setView",value:function(e){null!=e&&(this.visible=e),this.dom.notbox.style.display=this.visible?"block":"none",this.setScroll()}},{key:"setScroll",value:function(){this.visible&&(this.lastNote>-1?this.dom["m"+this.lastNote].scrollIntoView():this.lastMsg>-1&&this.dom["m"+this.lastMsg].scrollIntoView())}}]),t}(f.Component);r["default"]=(0,m.withContext)((0,m.saveState)(h,"Notification",{msgs:null}))},{"hoc.js":"hoc.js",react:"react"}],28:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(n=(l=o.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{!n&&o["return"]&&o["return"]()}finally{if(a)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/RelSelect.jsx",d=e("react"),m=n(d),p=e("hoc.js"),h=function(e){var t=e.valId,r=e.value,n=e.classes,a=e.onHit;return m["default"].createElement("p",{className:"option "+n,onClick:function(e){return a(t,r.text,r.full)},__source:{fileName:f,lineNumber:6}},r.text)},b=function(e){var t=e.initVal,r=e.initText,n=e.initFull;return{poppedUp:!1,search:"",selVal:t,selText:r,selFull:n}},v=function(e){function t(){return i(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"popUp",value:function(){var e=this.state.poppedUp;e=!e,this.setState(s({},this.state,{poppedUp:e}))}},{key:"updSearch",value:function(e){var t=e.target.value;this.setState(s({},this.state,{search:t}))}},{key:"changeSel",value:function(e,t,r,n){this.setState(s({},this.state,{poppedUp:!1,selVal:t,selText:r,selFull:n})),e(t,r,n)}},{key:"addVal",value:function(e,t){var r=null;this.setState(s({},this.state,a({poppedUp:!1,selVal:r,selText:t},"selText",t))),e(null,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.isNew,n=t.allowNew,a=t.valid,i=t.valueList,l=t.onChange,o=t.classNames,s=t.extraClasses,c=this.state,d=c.poppedUp,p=c.search,b=c.selVal,v=c.selText,_=c.selFull,y=p.toLowerCase(),N=d?r?"minus":"arrow-up":r?"plus":"arrow-down",j=o.join(" "),g=o.concat(s).join(" "),E=s.join(" ");return m["default"].createElement("div",{className:"select",__source:{fileName:f,lineNumber:50}},m["default"].createElement("p",{className:"option-head",__source:{fileName:f,lineNumber:51}},r?null:m["default"].createElement("span",{className:g,title:_,__source:{fileName:f,lineNumber:52}},v),m["default"].createElement("span",{className:"button-small fa fa-"+N,onClick:this.popUp.bind(this),__source:{fileName:f,lineNumber:53}})),d||!a?m["default"].createElement("div",{__source:{fileName:f,lineNumber:59}},m["default"].createElement("p",{className:"option-type",__source:{fileName:f,lineNumber:60}},m["default"].createElement("input",{type:"text",placeholder:"search...",onChange:this.updSearch.bind(this),value:p,className:E,__source:{fileName:f,lineNumber:61}}),n&&""!=p?m["default"].createElement("span",{className:"button-small fa fa-plus-square",onClick:this.addVal.bind(this,l,p),__source:{fileName:f,lineNumber:68}}):null),m["default"].createElement("div",{className:"options",__source:{fileName:f,lineNumber:74}},i.map(function(t){var r=u(t,2),n=r[0],a=r[1];return null==y||""==y||null==a||null==a.full||a.full.toLowerCase().indexOf(y)!==-1?m["default"].createElement(h,{key:null==n?"null":n,valId:n,value:a,classes:n==b?j:"",onHit:e.changeSel.bind(e,l),__source:{fileName:f,lineNumber:77}}):null}))):null)}}]),t}(d.Component);r["default"]=(0,p.withContext)((0,p.saveState)(v,"RelSelect",b))},{"hoc.js":"hoc.js",react:"react"}]},{},[1]);