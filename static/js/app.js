!function e(t,r,a){function n(i,u){if(!r[i]){if(!t[i]){var o="function"==typeof require&&require;if(!u&&o)return o(i,!0);if(l)return l(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[i]={exports:{}};t[i][0].call(c.exports,function(e){var r=t[i][1][e];return n(r?r:e)},c,c.exports,e,t,r,a)}return r[i].exports}for(var l="function"==typeof require&&require,i=0;i<a.length;i++)n(a[i]);return n}({1:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var n="/Users/dirk/github/dariah/client/src/js/app/main.jsx",l=e("react"),i=a(l),u=e("react-dom"),o=e("react-router"),s=e("Provider.jsx"),c=a(s),f=e("App.jsx"),d=a(f),m=e("SubApp.jsx"),p=a(m),h=e("Backoffice.jsx"),b=a(h),_=e("ItemFiltered.jsx"),v=a(_),y=e("ItemMy.jsx"),N=a(y),g=e("ItemRecordPre.jsx"),j=a(g),E=e("Doc.jsx"),w=a(E),k=e("NotFound.jsx"),x=a(k);(0,u.render)(i["default"].createElement(c["default"],{__source:{fileName:n,lineNumber:64}},i["default"].createElement(o.Router,{history:o.browserHistory,__source:{fileName:n,lineNumber:65}},i["default"].createElement(o.Redirect,{from:"/about",to:"/docs/about.md",__source:{fileName:n,lineNumber:66}}),i["default"].createElement(o.Redirect,{from:"/docs/about",to:"/docs/about.md",__source:{fileName:n,lineNumber:67}}),i["default"].createElement(o.Redirect,{from:"/about.md",to:"/docs/about.md",__source:{fileName:n,lineNumber:68}}),i["default"].createElement(o.Redirect,{from:"/login",to:"/docs/about.md",__source:{fileName:n,lineNumber:69}}),i["default"].createElement(o.Redirect,{from:"/logout",to:"/docs/about.md",__source:{fileName:n,lineNumber:70}}),i["default"].createElement(o.Redirect,{from:"/slogout",to:"/docs/about.md",__source:{fileName:n,lineNumber:71}}),i["default"].createElement(o.Route,{path:"/",component:d["default"],__source:{fileName:n,lineNumber:72}},i["default"].createElement(o.IndexRoute,{component:d["default"],__source:{fileName:n,lineNumber:73}}),i["default"].createElement(o.IndexRedirect,{to:"/docs/about.md",__source:{fileName:n,lineNumber:74}}),i["default"].createElement(o.Route,{path:"docs/:docFile",component:w["default"],__source:{fileName:n,lineNumber:75}}),i["default"].createElement(o.Route,{path:"tech/docs/gen/:docFile",component:w["default"],__source:{fileName:n,lineNumber:76}}),i["default"].createElement(o.Route,{path:"tech/docs/:docFile",component:w["default"],__source:{fileName:n,lineNumber:77}}),i["default"].createElement(o.Route,{path:":tag",component:p["default"],__source:{fileName:n,lineNumber:78}},i["default"].createElement(o.Route,{path:"list",component:v["default"],__source:{fileName:n,lineNumber:79}}),i["default"].createElement(o.Route,{path:"mylist",component:N["default"],__source:{fileName:n,lineNumber:80}},i["default"].createElement(o.Route,{path:":recordId",component:j["default"],ownOnly:!0,__source:{fileName:n,lineNumber:81}})),i["default"].createElement(o.Route,{path:":func",component:b["default"],__source:{fileName:n,lineNumber:83}}))),i["default"].createElement(o.Route,{path:"*",component:x["default"],__source:{fileName:n,lineNumber:86}}))),document.getElementById("body"))},{"App.jsx":5,"Backoffice.jsx":6,"Doc.jsx":8,"ItemFiltered.jsx":27,"ItemMy.jsx":28,"ItemRecordPre.jsx":16,"NotFound.jsx":19,"Provider.jsx":4,"SubApp.jsx":22,react:"react","react-dom":"react-dom","react-router":"react-router"}],2:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/object/CheckboxI.jsx",o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("react"),c=a(s),f=function(e){return!e.allTrue&&!e.allFalse},d=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"componentDidUpdate",value:function(){var e=this.props.states;this.dom.indeterminate=f(e)}},{key:"onCheck",value:function(e,t,r){var a=this;return function(n){return e(t,a.dom.indeterminate||!r.allTrue)}}},{key:"setIndeterminate",value:function(e){var t=this.props.states;e&&(this.dom=e,e.indeterminate=f(t))}},{key:"render",value:function(){var e=this.props,t=e.states,r=e.filterId,a=e.updFilter;return c["default"].createElement("input",{ref:this.setIndeterminate.bind(this),type:"checkbox",onChange:this.onCheck(a,r,t).bind(this),checked:t.allTrue,__source:{fileName:u,lineNumber:48}})}}]),t}(s.Component);r["default"]=d},{react:"react"}],3:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(r,"__esModule",{value:!0});var c,f,d=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),h="/Users/dirk/github/dariah/client/src/js/app/object/EUMap.jsx",b=e("react"),_=a(b),v=e("ByValue.jsx"),y=a(v),N=e("leaflet"),g=a(N),j=e("europe.geo.js"),E=e("hoc.js"),w={HEIGHT:250,MAX_RADIUS:25,LEVEL_OFF:10,ZOOM_INIT:3,MAP_CENTER:[52,12],MAP_BOUNDS:[[30,-20],[70,40]],MARKER_COLOR:(c={},s(c,!0,{color:"#008800",fillColor:"#00cc00"}),s(c,!1,{color:"#888844",fillColor:"#bbbb66"}),c),MARKER_SHAPE:{weight:1,fill:!0,fillOpacity:.8},COUNTRY_STYLE:(f={},s(f,!0,{color:"#884422",weight:2,fill:!0,fillColor:"#aa7766",fillOpacity:1}),s(f,!1,{color:"#777777",weight:1,fill:!0,fillColor:"#bbbbbb",fillOpacity:1}),f)},k=function(e,t,r){var a=r&&r.has(e)?r.get(e):0;if(0==a)return 0;var n=w.MAX_RADIUS*a/t;return t<w.LEVEL_OFF?n:w.LEVEL_OFF*Math.sqrt(n)},x=function(e){function t(e){i(this,t);var r=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.features=new Map,r}return o(t,e),p(t,[{key:"setMap",value:function(e){e&&(this.dom=e)}},{key:"render",value:function(){var e=this.props,t=(e.countryMap,l(e,["countryMap"]));return _["default"].createElement("div",{__source:{fileName:h,lineNumber:131}},_["default"].createElement("div",{ref:this.setMap.bind(this),style:{height:w.HEIGHT},__source:{fileName:h,lineNumber:132}}),_["default"].createElement(y["default"],m({},t,{__source:{fileName:h,lineNumber:136}})))}},{key:"componentDidMount",value:function(){var e=this,t=this.props,r=t.filterSettings,a=t.filteredAmountOthers,l=t.amounts,i=t.countryMap;this.map=g["default"].map(this.dom,{attributionControl:!1,center:w.MAP_CENTER,zoom:w.ZOOM_INIT,maxBounds:w.MAP_BOUNDS}),this.idFromIso=new Map([].concat(n(i.values())).map(function(e){return[e.iso,e._id]})),g["default"].geoJSON(j.countryBorders,{style:function(t){return w.COUNTRY_STYLE[e.inDariah(t)]},onEachFeature:function(t){if(e.inDariah(t)){var n=t.properties,i=n.iso2,u=e.idFromIso.get(i),o=r.get(u),s=g["default"].circleMarker([n.lat,n.lng],m({},w.MARKER_COLOR[o],{radius:k(u,a,l)},w.MARKER_SHAPE,{pane:"markerPane"})).addTo(e.map);e.features.set(n.iso2,s)}}}).addTo(this.map)}},{key:"inDariah",value:function(e){return this.idFromIso.has(e.properties.iso2)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.filterSettings,r=e.filteredAmountOthers,a=e.amounts,n=!0,l=!1,i=void 0;try{for(var u,o=this.features[Symbol.iterator]();!(n=(u=o.next()).done);n=!0){var s=d(u.value,2),c=s[0],f=s[1],m=this.idFromIso.get(c),p=t.get(m);f.setRadius(k(m,r,a)),f.setStyle(w.MARKER_COLOR[p])}}catch(h){l=!0,i=h}finally{try{!n&&o["return"]&&o["return"]()}finally{if(l)throw i}}}}]),t}(b.Component);r["default"]=(0,E.withContext)(x)},{"ByValue.jsx":7,"europe.geo.js":"europe.geo.js","hoc.js":"hoc.js",leaflet:"leaflet",react:"react"}],4:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o=e("react"),s=(a(o),e("store.js")),c=a(s),f=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"getChildContext",value:function(){var e={store:new c["default"],notification:{component:null},userInfo:new Map,userMap:new Map,countryMap:new Map,editStatus:{},delCallback:{}};return{globals:e}}},{key:"render",value:function(){return o.Children.only(this.props.children)}}]),t}(o.Component);f.childContextTypes={globals:o.PropTypes.object.isRequired},r["default"]=f},{react:"react","store.js":"store.js"}],5:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/App.jsx",l=e("react"),i=a(l),u=e("Login.jsx"),o=a(u),s=e("NavLink.jsx"),c=a(s),f=e("SubApp.jsx"),d=(a(f),e("Static.jsx")),m=a(d),p=e("Notification.jsx"),h=a(p),b=function(e){var t=e.children;return i["default"].createElement("div",{__source:{fileName:n,lineNumber:32}},i["default"].createElement(h["default"],{__source:{fileName:n,lineNumber:33}}),i["default"].createElement("p",{className:"nav",style:{paddingRight:"5em"},__source:{fileName:n,lineNumber:34}},i["default"].createElement("img",{style:{marginBottom:"-1em",marginTop:"-1em",height:"3em"},src:"/static/images/inkind_logo_small.png",title:"information about this site",__source:{fileName:n,lineNumber:35}}),i["default"].createElement(c["default"],{to:"/contrib",__source:{fileName:n,lineNumber:43}},"Contributions"),i["default"].createElement(c["default"],{to:"/backoffice",__source:{fileName:n,lineNumber:44}},"Backoffice"),i["default"].createElement(m["default"],{__source:{fileName:n,lineNumber:45}}),i["default"].createElement(o["default"],{__source:{fileName:n,lineNumber:46}})),i["default"].createElement("div",{__source:{fileName:n,lineNumber:48}},t))};r["default"]=b},{"Login.jsx":30,"NavLink.jsx":18,"Notification.jsx":31,"Static.jsx":21,"SubApp.jsx":22,react:"react"}],6:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Backoffice.jsx",l=e("react"),i=a(l),u=function(e){var t=e.params,r=t.func,a={type:"Contribution types",assess:"Assessment criteria","package":"Assessment packages"},l={type:"Will be implemented",assess:"Will be implemented","package":"Will be implemented"},u=a[r]||"No such function",o=l[r]||"Nothing to wait for";return i["default"].createElement("div",{__source:{fileName:n,lineNumber:35}},i["default"].createElement("h1",{__source:{fileName:n,lineNumber:36}},u),i["default"].createElement("p",{__source:{fileName:n,lineNumber:37}},o))};r["default"]=u},{react:"react"}],7:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l="/Users/dirk/github/dariah/client/src/js/app/pure/ByValue.jsx",i=e("react"),u=a(i),o=e("Facet.jsx"),s=a(o),c=e("CheckboxI.jsx"),f=a(c),d=e("Stat.jsx"),m=a(d),p=e("Alternative.jsx"),h=a(p),b=e("filtering.js"),_=function(e){var t=e.table,r=e.filterId,a=e.filterField,i=e.filterLabel,o=e.fieldValues,c=e.filterSettings,d=e.filteredAmount,p=e.filteredAmountOthers,_=e.amounts,v=e.maxCols,y=e.updFilter,N=e.expanded,g=(0,b.placeFacets)(o,v);return u["default"].createElement("div",{className:"facet",__source:{fileName:l,lineNumber:55}},null===g?u["default"].createElement("p",{__source:{fileName:l,lineNumber:56}}," -no facets "):u["default"].createElement(h["default"],{tag:t+"_"+a,controlPlacement:function(e){return u["default"].createElement("p",{className:"facet",__source:{fileName:l,lineNumber:59}},u["default"].createElement(f["default"],{filterId:r,states:(0,b.testAllChecks)(c),updFilter:y,__source:{fileName:l,lineNumber:60}})," ",i," ",u["default"].createElement(m["default"],{subTotal:d,total:p,__source:{fileName:l,lineNumber:65}})," ",e)},controls:[function(e){return u["default"].createElement("span",{className:"button-small fa fa-chevron-down",onClick:e,__source:{fileName:l,lineNumber:70}})},function(e){return u["default"].createElement("span",{className:"button-small fa fa-chevron-right",onClick:e,__source:{fileName:l,lineNumber:71}})}],initial:N?0:1,alternatives:[u["default"].createElement("table",{__source:{fileName:l,lineNumber:75}},u["default"].createElement("tbody",{__source:{fileName:l,lineNumber:76}},g.map(function(e,t){return u["default"].createElement("tr",{key:t,__source:{fileName:l,lineNumber:78}},e.map(function(e,t){if(null===e)return u["default"].createElement("td",{key:t,__source:{fileName:l,lineNumber:81}});var a=n(e,2),i=a[0],o=a[1];return[u["default"].createElement("td",{key:t,style:t>0?{paddingLeft:"0.5em"}:{},className:"facet",__source:{fileName:l,lineNumber:85}},u["default"].createElement(s["default"],{key:i,filterId:r,valueId:i,valueRep:o,checked:c.get(i),updFilter:y,__source:{fileName:l,lineNumber:90}})),u["default"].createElement("td",{className:"statistic",__source:{fileName:l,lineNumber:99}},u["default"].createElement(m["default"],{subTotal:_.get(i),__source:{fileName:l,lineNumber:100}}))]}))}))),u["default"].createElement("div",{__source:{fileName:l,lineNumber:107}})],__source:{fileName:l,lineNumber:57}}))};r["default"]=_},{"Alternative.jsx":23,"CheckboxI.jsx":2,"Facet.jsx":11,"Stat.jsx":20,"filtering.js":"filtering.js",react:"react"}],8:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Doc.jsx",l=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=e("react"),u=a(i),o=e("DocMd.jsx"),s=a(o),c=e("DocPdf.jsx"),f=a(c),d=e("DocHtml.jsx"),m=a(d),p=e("NotFound.jsx"),h=a(p),b={md:s["default"],pdf:f["default"],html:m["default"]},_=function(e){var t=(e.params,e.route,e.location),r=t.pathname,a=/^(.*)\/([^\/]+)$/g.exec(r),i=l(a,3),o=(i[0],i[1]),s=i[2],c=/^(.*)\.([^.]+)$/g.exec(s),f=l(c,3),d=(f[0],f[1]),m=f[2],p=b[m];return null==p?u["default"].createElement(h["default"],{params:{splat:"document "+r},__source:{fileName:n,lineNumber:41}}):u["default"].createElement(p,{docDir:o,docName:d,docExt:m,tag:d,__source:{fileName:n,lineNumber:43}})};r["default"]=_},{"DocHtml.jsx":9,"DocMd.jsx":24,"DocPdf.jsx":10,"NotFound.jsx":19,react:"react"}],9:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/DocHtml.jsx",l=e("react"),i=a(l),u=function(e){var t=e.docDir,r=e.docName,a=e.docExt,l="/api/file"+t+"/"+r+"."+a;return i["default"].createElement("iframe",{height:"100%",width:"100%",src:l,__source:{fileName:n,lineNumber:17}})};r["default"]=u},{react:"react"}],10:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/DocPdf.jsx",l=e("react"),i=a(l),u=function(e){var t=e.docDir,r=e.docName,a=e.docExt,l="/api/file"+t+"/"+r+"."+a,u=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;return u?i["default"].createElement("p",{__source:{fileName:n,lineNumber:22}},i["default"].createElement("a",{target:"_blank",href:l,__source:{fileName:n,lineNumber:23}},r)," (open pdf in a new tab)"):i["default"].createElement("object",{height:"100%",width:"100%",data:l,type:"application/pdf",__source:{fileName:n,lineNumber:26}},"alt : ",i["default"].createElement("a",{target:"_blank",href:l,__source:{fileName:n,lineNumber:30}},r)," (open pdf in a new tab)")};r["default"]=u},{react:"react"}],11:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Facet.jsx",l=e("react"),i=a(l),u=function(e){var t=e.filterId,r=e.valueId,a=e.valueRep,l=e.checked,u=e.updFilter;return i["default"].createElement("span",{__source:{fileName:n,lineNumber:20}},i["default"].createElement("input",{type:"checkbox",onChange:function(e){return u(t,[r,e.target.checked])},checked:l,className:"facet",__source:{fileName:n,lineNumber:21}})," "+a)};r["default"]=u},{react:"react"}],12:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Filter.jsx",l=e("react"),i=a(l),u=e("FullText.jsx"),o=a(u),s=e("ByValue.jsx"),c=a(s),f=e("EUMap.jsx"),d=a(f),m={FullText:o["default"],EUMap:d["default"],ByValue:c["default"]},p=function(e){var t=e.table,r=e.fields,a=e.fieldValues,l=e.filterList,u=e.filterSettings,o=e.filteredAmount,s=e.filteredAmountOthers,c=e.amounts,f=e.updFilter;return i["default"].createElement("div",{__source:{fileName:n,lineNumber:73}},l.filter(function(e){return r[e.field]}).map(function(e,r){var l=m[e.type];return i["default"].createElement(l,{key:r,table:t,filterId:r,filterField:e.field,filterLabel:e.label,maxCols:e.maxCols,filterSettings:u.get(r),fieldValues:a.get(e.field),filteredAmount:o,filteredAmountOthers:s.get(r),amounts:c.get(r),updFilter:f,expanded:e.expanded,__source:{fileName:n,lineNumber:77}})}))};r["default"]=p},{"ByValue.jsx":7,"EUMap.jsx":3,"FullText.jsx":13,react:"react"}],13:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/FullText.jsx",l=e("react"),i=a(l),u=e("Stat.jsx"),o=a(u),s=function(e,t){return function(r){return e(t,r.target.value)}},c=function(e){var t=e.filterId,r=(e.filterField,e.filterLabel),a=e.filterSettings,l=e.filteredAmount,u=e.filteredAmountOthers,c=e.updFilter;return i["default"].createElement("div",{__source:{fileName:n,lineNumber:31}},i["default"].createElement("p",{__source:{fileName:n,lineNumber:32}},i["default"].createElement("input",{type:"text",className:"search",placeholder:"search in "+r,value:a,onChange:s(c,t),__source:{fileName:n,lineNumber:32}})," ",i["default"].createElement(o["default"],{subTotal:l,total:u,__source:{fileName:n,lineNumber:39}})))};r["default"]=c},{"Stat.jsx":20,react:"react"}],14:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l="/Users/dirk/github/dariah/client/src/js/app/pure/ItemHead.jsx",i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=e("react"),o=a(u),s=e("Alternative.jsx"),c=a(s),f=e("ItemRecord.jsx"),d=a(f),m=e("NavLink.jsx"),p=a(m),h=e("hoc.js"),b=function(e){var t=e.table,r=e.row,a=e.title,u=e.inplace,s=e.editStatus,f=r._id,m=r[a];return null!=m&&(m=m[0]),"object"==("undefined"==typeof m?"undefined":i(m))&&(m=m.value),m||(m="-empty-"),o["default"].createElement("tr",{id:f,__source:{fileName:l,lineNumber:27}},o["default"].createElement("td",{__source:{fileName:l,lineNumber:28}},u?o["default"].createElement(c["default"],{tag:t+"_"+f,controlPlacement:function(e){return o["default"].createElement("p",{__source:{fileName:l,lineNumber:32}},e,o["default"].createElement("span",{ref:function(e){s[t][f]=n({},s[t][f],{prog:e})},__source:{fileName:l,lineNumber:34}})," ",o["default"].createElement("span",{ref:function(e){s[t][f]=n({},s[t][f],{title:e})},__source:{fileName:l,lineNumber:35}},m))},controls:[function(e){return o["default"].createElement("a",{className:"fa fa-chevron-down",href:"#",onClick:e,__source:{fileName:l,lineNumber:41}})},function(e){return o["default"].createElement("a",{className:"fa fa-chevron-right",href:"#",onClick:e,__source:{fileName:l,lineNumber:42}})}],alternatives:[o["default"].createElement(d["default"],{tag:t+"_"+f,table:t,recordId:f,__source:{fileName:l,lineNumber:45}}),""],initial:1,__source:{fileName:l,lineNumber:30}}):o["default"].createElement(p["default"],{className:"nav",to:"/"+t+"/mylist/"+f,__source:{fileName:l,lineNumber:51}},o["default"].createElement("span",{ref:function(e){s[t][f]=n({},s[t][f],{prog:e})},__source:{fileName:l,lineNumber:52}})," ",o["default"].createElement("span",{ref:function(e){s[t][f]=n({},s[t][f],{title:e})},__source:{fileName:l,lineNumber:53}},m))))};r["default"]=(0,h.withContext)(b)},{"Alternative.jsx":23,"ItemRecord.jsx":29,"NavLink.jsx":18,"hoc.js":"hoc.js",react:"react"}],15:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/ItemList.jsx",l=e("react"),i=a(l),u=e("ItemHead.jsx"),o=a(u),s=e("hoc.js"),c=function(e){var t=e.table,r=e.title,a=e.filteredData,l=e.inplace,u=e.editStatus;return null==u[t]&&(u[t]={}),i["default"].createElement("div",{__source:{fileName:n,lineNumber:18}},i["default"].createElement("table",{__source:{fileName:n,lineNumber:19}},i["default"].createElement("tbody",{__source:{fileName:n,lineNumber:20}},a.map(function(e){return i["default"].createElement(o["default"],{key:e._id,table:t,title:r,row:e,inplace:l,__source:{fileName:n,lineNumber:22}})}))))};r["default"]=(0,s.withContext)(c)},{"ItemHead.jsx":14,"hoc.js":"hoc.js",react:"react"}],16:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/ItemRecordPre.jsx",l=e("react"),i=a(l),u=e("ItemRecord.jsx"),o=a(u),s=function(e){var t=e.params,r=e.route,a=t.tag,l=t.recordId,u=r.ownOnly;return i["default"].createElement(o["default"],{tag:a+"_"+l,table:a,recordId:l,ownOnly:u,__source:{fileName:n,lineNumber:23}})};r["default"]=s},{"ItemRecord.jsx":29,react:"react"}],17:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/LocalSettings.jsx",l=e("react"),i=a(l),u=e("localstorage.js"),o=function(){return i["default"].createElement("span",{className:"button-small fa fa-eraser",title:"forget my settings",onClick:function(e){(0,u.lsClear)()},__source:{fileName:n,lineNumber:15}})};r["default"]=o},{"localstorage.js":"localstorage.js",react:"react"}],18:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},l="/Users/dirk/github/dariah/client/src/js/app/pure/NavLink.jsx",i=e("react"),u=a(i),o=e("react-router"),s=function(e){return u["default"].createElement(o.Link,n({},e,{activeClassName:"active",__source:{fileName:l,lineNumber:13}}))};r["default"]=s},{react:"react","react-router":"react-router"}],19:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/NotFound.jsx",l=e("react"),i=a(l),u=function(e){var t=e.params;return i["default"].createElement("h1",{__source:{fileName:n,lineNumber:14}},"404: ",i["default"].createElement("code",{__source:{fileName:n,lineNumber:14}},t.splat)," not found on this site.")};r["default"]=u},{react:"react"}],20:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Stat.jsx",l=e("react"),i=a(l),u=function(e){var t=e.subTotal,r=e.total;return i["default"].createElement("span",{className:"good-o",__source:{fileName:n,lineNumber:15}},null==t?"":""+t,null==r||null==t?"":" of ",i["default"].createElement("strong",{__source:{fileName:n,lineNumber:18}},null==r?"":""+r))};r["default"]=u},{react:"react"}],21:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/Static.jsx",l=e("react"),i=a(l),u=e("NavLink.jsx"),o=a(u),s=(e("ui.js"),function(){return i["default"].createElement("span",{__source:{fileName:n,lineNumber:23}},i["default"].createElement(o["default"],{to:"/docs/about.md",__source:{fileName:n,lineNumber:24}},"About"),i["default"].createElement(o["default"],{to:"/tech/docs/design.pdf",__source:{fileName:n,lineNumber:25}},"diagrams"),i["default"].createElement(o["default"],{to:"/tech/docs/deploy.md",__source:{fileName:n,lineNumber:26}},"deploy"),i["default"].createElement("a",{href:"/api/file/tech/docs/gen/index.html",target:"_blank",__source:{fileName:n,lineNumber:27}},"tech doc"))});r["default"]=s},{"NavLink.jsx":18,react:"react","ui.js":"ui.js"}],22:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(r,"__esModule",{value:!0});var n="/Users/dirk/github/dariah/client/src/js/app/pure/SubApp.jsx",l=e("react"),i=a(l),u=e("NavLink.jsx"),o=a(u),s=e("ui.js"),c=function(e){var t=e.params,r=e.children,a=t.tag;return i["default"].createElement("div",{__source:{fileName:n,lineNumber:25}},i["default"].createElement("div",{className:"nav",style:(0,s.columnStyle)("left"),__source:{fileName:n,lineNumber:26}},"contrib"==a?i["default"].createElement("div",{__source:{fileName:n,lineNumber:28}},i["default"].createElement("p",{__source:{fileName:n,lineNumber:29}},i["default"].createElement(o["default"],{to:"/"+a+"/list",__source:{fileName:n,lineNumber:29}},"All items")),i["default"].createElement("p",{__source:{fileName:n,lineNumber:30}},i["default"].createElement(o["default"],{to:"/"+a+"/mylist",__source:{fileName:n,lineNumber:30}},"My work"))):i["default"].createElement("div",{__source:{fileName:n,lineNumber:33}},i["default"].createElement("p",{__source:{fileName:n,lineNumber:34}},i["default"].createElement(o["default"],{to:"/"+a+"/type",__source:{fileName:n,lineNumber:34}},"Types")),i["default"].createElement("p",{__source:{fileName:n,lineNumber:35}},i["default"].createElement(o["default"],{to:"/"+a+"/assess",__source:{fileName:n,lineNumber:35}},"Criteria")),i["default"].createElement("p",{__source:{fileName:n,lineNumber:36}},i["default"].createElement(o["default"],{to:"/"+a+"/package",__source:{fileName:n,lineNumber:36}},"Packages")))),i["default"].createElement("div",{__source:{fileName:n,lineNumber:40}},i["default"].createElement("div",{style:(0,s.columnStyle)("right"),__source:{fileName:n,lineNumber:41}},r)))};r["default"]=c},{"NavLink.jsx":18,react:"react","ui.js":"ui.js"}],23:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/Alternative.jsx",o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("react"),c=a(s),f=e("hoc.js"),d=e("localstorage.js"),m=function(e){var t=e.tag;return{alt:(0,d.lsGet)(t)}},p=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"next",value:function(e){e.preventDefault();var t=this.props,r=t.tag,a=t.alternatives,n=t.initial,l=null==this.state.alt?null==n?0:n:this.state.alt,i=(l+1)%a.length;(0,d.lsSet)(r,i),this.setState({alt:i})}},{key:"render",value:function(){var e=this.props,t=e.controlPlacement,r=e.controls,a=e.alternatives,n=e.initial,l=this.state.alt,i=null==l?null==n?0:n:l;
return c["default"].createElement("div",{__source:{fileName:u,lineNumber:70}},t(r[i](this.next.bind(this))),a[i])}}]),t}(s.Component);r["default"]=(0,f.withContext)((0,f.saveState)(p,"Alternative",m))},{"hoc.js":"hoc.js","localstorage.js":"localstorage.js",react:"react"}],24:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),o="/Users/dirk/github/dariah/client/src/js/app/state/DocMd.jsx",s=e("react"),c=a(s),f=e("react-markdown"),d=a(f),m=e("react-router"),p=e("Alternative.jsx"),h=a(p),b=e("data.js"),_=e("hoc.js"),v=function(e){var t=e.children,r=e.href;return r.match(/^(https?:)?\/\//)?c["default"].createElement("a",{href:r,__source:{fileName:o,lineNumber:26}},t):c["default"].createElement(m.Link,{to:r,__source:{fileName:o,lineNumber:27}},t)},y=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.docName,t=this.state.md;return null==t?c["default"].createElement("div",{__source:{fileName:o,lineNumber:50}}):c["default"].createElement("div",{style:{paddingLeft:"0.5em"},__source:{fileName:o,lineNumber:53}},c["default"].createElement(h["default"],{tag:e,controlPlacement:function(e){return c["default"].createElement("p",{style:{"float":"right"},__source:{fileName:o,lineNumber:56}},e)},controls:[function(e){return c["default"].createElement("a",{ref:"toSrc",className:"control fa fa-hand-o-down",href:"#",onClick:e,title:"markdown source",__source:{fileName:o,lineNumber:59}})},function(e){return c["default"].createElement("a",{ref:"toFrm",className:"control fa fa-file-code-o",href:"#",onClick:e,title:"formatted",__source:{fileName:o,lineNumber:60}})}],alternatives:[c["default"].createElement("div",{__source:{fileName:o,lineNumber:63}},c["default"].createElement(d["default"],{source:t,renderers:{Link:v},__source:{fileName:o,lineNumber:64}})),c["default"].createElement("div",{__source:{fileName:o,lineNumber:69}},c["default"].createElement("pre",{className:"md-source",__source:{fileName:o,lineNumber:70}},t))],__source:{fileName:o,lineNumber:54}}))}},{key:"fetchText",value:function(){var e=this.props,t=e.docDir,r=e.docName,a=e.docExt;null==this.state.md&&(0,b.getData)([{type:"json",path:t+"/"+r+"."+a,branch:"md"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchText()}},{key:"componentDidUpdate",value:function(){this.fetchText()}}]),t}(s.Component);r["default"]=(0,_.withContext)((0,_.saveState)(y,"DocMd",{md:null}))},{"Alternative.jsx":23,"data.js":"data.js","hoc.js":"hoc.js",react:"react","react-markdown":"react-markdown","react-router":"react-router"}],25:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/FilterCompute.jsx",o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=e("react"),f=a(c),d=e("ItemList.jsx"),m=a(d),p=e("Filter.jsx"),h=a(p),b=e("filtering.js"),_=e("ui.js"),v=e("hoc.js"),y=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"updFilter",value:function(e,t){var r=this.state.filterSettings;"string"==typeof t&&(0,b.setf)(e,"",t),"boolean"==typeof t?(0,b.setf)(e,"",t):(0,b.setf)(e,t[0],t[1]),this.setState(o({},this.state,{filterSettings:(0,b.newFilterSettings)(r,e,t)}))}},{key:"render",value:function(){var e=this.state.filterSettings,t=this.props,r=t.table,a=t.title,n=t.records,l=t.fields,i=t.fieldValues,o=t.filterList,s=(0,b.computeFiltering)(n,l,o,i,e),c=s.filteredData,d=s.filteredAmountOthers,p=s.amounts;return f["default"].createElement("div",{__source:{fileName:u,lineNumber:63}},f["default"].createElement("div",{style:(0,_.columnStyle)("rightLeft"),__source:{fileName:u,lineNumber:64}},f["default"].createElement("p",{__source:{fileName:u,lineNumber:65}},"Total ",f["default"].createElement("span",{className:"good-o",__source:{fileName:u,lineNumber:65}},n.length)),f["default"].createElement(h["default"],{table:r,fields:l,fieldValues:i,filteredAmount:c.length,filteredAmountOthers:d,amounts:p,filterList:o,filterSettings:e,updFilter:this.updFilter.bind(this),__source:{fileName:u,lineNumber:66}})),f["default"].createElement("div",{style:(0,_.columnStyle)("rightRight"),__source:{fileName:u,lineNumber:78}},f["default"].createElement(m["default"],{table:r,title:a,filteredData:c,inplace:!0,__source:{fileName:u,lineNumber:79}})))}}]),t}(c.Component);r["default"]=(0,v.withContext)((0,v.saveState)(y,"FilterCompute",function(e){var t=e.filterInit;return{filterSettings:t}}))},{"Filter.jsx":12,"ItemList.jsx":15,"filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],26:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/ItemField.jsx",d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},p=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),h=e("react"),b=a(h),_=e("react-markdown"),v=a(_),y=e("RelSelect.jsx"),N=a(y),g=e("Alternative.jsx"),j=a(g),E=e("data.js"),w=e("hoc.js"),k={url:50,email:30,range:6,datetime:25,text:50,_max:50},x=function(e){return{full:e,text:null==e?"":e.replace(/\.[0-9]+/,"")}},O=function(e){return{full:e,text:null==e?"":e.length>20?e.slice(0,8)+"..."+e.slice(-8):e}},S=function(e){return{url:e.urlFragment.bind(e),email:e.emailFragment.bind(e),textarea:e.textareaFragment.bind(e),_default:e.defaultFragment.bind(e)}},M=function(e){return{rel:e.relEditFragment.bind(e),textarea:e.textareaEditFragment.bind(e),_default:e.defaultEditFragment.bind(e)}},P=function(e){var t=e.initValues,r=null==t?[]:t,a=[].concat(s(r));return{curValues:a,savedValues:r,reasons:{},saving:{},changed:!1,valid:!0,relValues:null}},C=function(e,t){var r=e._id,a=void 0,n=void 0;if(t.has(r)){var l=t.get(r),i=l.firstName||"",u=l.lastName||"",o=l.email||"",s=l.eppn||"",c=l.authority||"",f=l.mayLogin?"yes":"no",d=[i,u].filter(function(e){return e}).join(" ");""==d&&(d=o);var m=d&&o?"["+d+"](mailto:"+o+")":d+o,p=s?" eppn="+s+" ":"",h=c?" authenticated by="+c+" ":"",b=f?" active="+f+" ":"";a=[m,p,h,b].filter(function(e){return e}).join("; "),n=[i,u,s].filter(function(e){return e}).slice(0,2).join(" ")}else a="UNKNOWN",n="??";return{text:n,full:a}},D=function(e,t){var r=e._id,a=void 0,n=void 0;if(t.has(r)){var l=t.get(r);n=l.name,a=l.iso+": "+l.name}else a="UNKNOWN",n="??";return{text:n,full:a}},I=function(e,t,r){var a=!0,n="";if(!r.nonEmpty||null!=e&&""!=e||(n="field may not be empty",a=!1),null!=r.min||null!=r.max)if(isNaN(e))n="value must be a number",a=!1;else{var l=parseInt(e);r.min<=l||(n="value must be at least "+r.min,a=!1),r.max>=e||(n="value must be at most "+r.max,a=!1)}if("datetime"==t){var i=void 0;try{i=Date.parse(e)}catch(u){n="not a valid date/time - "+u,a=!1}isNaN(i)&&(n="not a valid date/time",a=!1)}return{vstatus:a,reason:n}},A=function(e){function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"setValToState",value:function(e,t,r,a){var n=this.state.reasons,i=void 0,u=[].concat(s(this.state.curValues));if(null==t)u=u.filter(function(t,r){return r!=e}),i=n;else{var o=this.props,c=o.valType,f=o.validation,d=I(t,c,f),p=(d.vstatus,d.reason),h="rel"==c?"string"!=typeof t?t:{_id:r,value:t}:t,b=e==-1?u.length:e;e==-1?u.push(h):u[e]=h,i=m({},this.state.reasons,l({},b,p))}var _=this.checkForSave({newValues:u,newReasons:i}),v=_.valid,y=_.changed;a&&v&&y?this.toDb(u):this.setState(m({},this.state,{curValues:u,reasons:i,saving:{},valid:v,changed:y}))}},{key:"changeVal",value:function(e,t){t.preventDefault(),this.setValToState(e,t.target.value,null,!1)}},{key:"keyUp",value:function(e,t){13===t.keyCode&&(t.target.blur(),this.setValToState(e,t.target.value,null,!0))}},{key:"changeRelVal",value:function(e,t,r){this.setValToState(e,r,t,!0)}},{key:"removeVal",value:function(e,t,r){r.preventDefault(),this.setValToState(e,null,null,!0)}},{key:"checkForSave",value:function(e){var t=e.newValues,r=e.newReasons,a=this.props,n=(a.rowId,a.name),l=(a.valType,a.validation,a.multiple,a.allowNew,a.updEdit),i=this.state.savedValues,u=Object.keys(r).every(function(e){return!r[e]}),o=!1;if(t.length!=i.length)o=!0;else for(var s in t){var c=t[s],f=i[s];if(null==f)o=!0;else if("object"==("undefined"==typeof c?"undefined":d(c))){var m=!0,p=!1,h=void 0;try{for(var b,_=Object.keys(c)[Symbol.iterator]();!(m=(b=_.next()).done);m=!0){var v=b.value;if(c[v]!=f[v]){o=!0;break}}}catch(y){p=!0,h=y}finally{try{!m&&_["return"]&&_["return"]()}finally{if(p)throw h}}}else c!=f&&(o=!0);if(o)break}return l(n,o,u,t),{valid:u,changed:o}}},{key:"saveField",value:function(){var e=this.state,t=e.valid,r=e.changed,a=e.saving;t&&r&&!a.status&&this.toDb()}},{key:"saved",value:function(e){var t=this.props,r=t.name,a=t.updMod,l=t.updEdit;if(null==e)this.setState(m({},this.state,{saving:{status:"error"}}));else{var i=e[r],u=n(e,[r]);this.setState(m({},this.state,{saving:{status:"saved"},savedValues:i,curValues:i,changed:!1,valid:!0})),a(u),l(r,!1,!0,i)}}},{key:"toDb",value:function(e){var t=this.state.curValues,r=this.props,a=r.table,n=r.name,l=r.rowId,i=(r.valType,null==e?t:e);this.setState(m({},this.state,{reasons:{},saving:{status:"saving"}})),(0,E.getData)([{type:"db",path:"/mod?table="+a+"&action=update",branch:"save "+n,callback:this.saved.bind(this),data:{_id:l,name:n,values:i}}],this,this.props.notification.component)}},{key:"fullfillSave",value:function(){var e=this.props,t=e.editable,r=e.saveConcern;this.props.name;t&&r&&this.saveField()}},{key:"valueAsString",value:function(e){var t=this.props,r=t.valType,a=t.convert,n=t.userMap,l=t.countryMap,i=t.initial;if(null==e)return{text:"",full:"",initial:"rel"==r||i};switch(r){case"rel":switch(a){case"user":return C(e,n);case"country":return D(e,l);default:return O(e.value)}case"datetime":return x(e);default:return{text:e,full:e}}}},{key:"urlFragment",value:function(e,t,r){var a=r.text,n=r.full;return b["default"].createElement("a",{key:e,target:"_blank",href:n,className:"link",__source:{fileName:f,lineNumber:334}},a)}},{key:"emailFragment",value:function(e,t,r){var a=(r.text,r.full);return b["default"].createElement("a",{key:e,target:"_blank",href:"mailto:"+a,className:"link",__source:{fileName:f,lineNumber:338}},a)}},{key:"textareaFragment",value:function(e,t,r){var a=(r.text,r.full);return b["default"].createElement(v["default"],{key:e,source:a,__source:{fileName:f,lineNumber:343}})}},{key:"defaultFragment",value:function(e,t,r){var a=r.text,n=r.full,l=("rel"==t?"tag":"varia")+"-medium";return b["default"].createElement("span",{key:e,className:l,title:n,__source:{fileName:f,lineNumber:353}},a)}},{key:"relOptions",value:function(){var e=this.state.relValues;return e.map(function(e){return[e._id,O(e.value)]})}},{key:"userOptions",value:function(){var e=this,t=this.props.userMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"countryOptions",value:function(){var e=this,t=this.props.countryMap;return[].concat(s(t.values())).map(function(t){return[t._id,e.valueAsString(t)]})}},{key:"relSelect",value:function(e,t,r,a,n){var l=n.text,i=n.full,u=this.props,o=u.table,s=u.convert,c=u.allowNew,d=u.name,m=u.rowId,p=this.state.valid,h="user"==s?this.userOptions():"country"==s?this.countryOptions():this.relOptions();return b["default"].createElement(N["default"],{tag:"relselect_"+o+"_"+m+"_"+d+"_"+e,table:o,key:e,isNew:r,allowNew:c,valid:p,valueList:h,initVal:t,initText:l,initFull:i,onChange:this.changeRelVal.bind(this,e),extraClasses:a,__source:{fileName:f,lineNumber:374}})}},{key:"editValControl",value:function(e,t,r){var a=this.props.multiple;return r||!a?null:b["default"].createElement("span",{className:"button-small fa fa-close",onClick:this.removeVal.bind(this,e,t),__source:{fileName:f,lineNumber:392}})}},{key:"relEditFragment",value:function(e,t,r,a,n,l){var i=l.text,u=l.full,o=this.props.multiple;return!o&&0==e||r?this.relSelect(e,t,r,n,l):b["default"].createElement("span",{key:e,className:"tag-medium",title:u,__source:{fileName:f,lineNumber:405}},i," ",this.editValControl(e,t,r))}},{key:"textareaEditFragment",value:function(e,t,r,a,n,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:100,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:10,o=this.props,s=o.table,c=o.rowId,d=o.name,m=(l.text,l.full);return this.saveLater=!0,b["default"].createElement(j["default"],{key:e,tag:"md_"+s+"_"+c+"_"+d,controlPlacement:function(e){return b["default"].createElement("p",{className:"stick",__source:{fileName:f,lineNumber:416}},e)},controls:[function(e){return b["default"].createElement("span",{className:"button-small fa fa-pencil",onClick:e,__source:{fileName:f,lineNumber:418}})},function(e){return b["default"].createElement("span",{className:"button-small fa fa-hand-o-down",onClick:e,__source:{fileName:f,lineNumber:419}})}],alternatives:[b["default"].createElement(v["default"],{source:m,__source:{fileName:f,lineNumber:422}}),b["default"].createElement("span",{__source:{fileName:f,lineNumber:425}},b["default"].createElement("textarea",{className:"input "+a+" "+n.join(" "),value:m,onChange:this.changeVal.bind(this,e),cols:i,rows:u,placeholder:l.initial,wrap:"soft",__source:{fileName:f,lineNumber:426}}),this.editValControl(e,t,r))],initial:0,__source:{fileName:f,lineNumber:415}})}},{key:"defaultEditFragment",value:function(e,t,r,a,n,l){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:50,u=(l.text,l.full);return this.saveLater=!0,b["default"].createElement("span",{key:e,__source:{fileName:f,lineNumber:446}},b["default"].createElement("input",{type:"text",className:"input "+a+" "+n.join(" "),value:u,placeholder:l.initial,onChange:this.changeVal.bind(this,e),onKeyUp:this.keyUp.bind(this,e),size:i,__source:{fileName:f,lineNumber:447}}),this.editValControl(e,t,r))}},{key:"progIcon",value:function r(){var e=this.props.editable,r=void 0;if(e){var t=this.state,a=t.saving,n=t.changed,l=t.valid,i=a.status;r="saving"==i?"fa-spinner fa-spin":"saved"==i?"fa-check good":"error"==i?"fa-exclamation error":l?n?"fa-pencil warning":"fa-circle-o hidden":"fa-close error",r+=" fa progress"}else r="fa fa-lock progress info";return b["default"].createElement("span",{key:name,className:r,__source:{fileName:f,lineNumber:477}})}},{key:"valuesAsReadonly",value:function(){var e=this,t=this.state.curValues;this.props.name;if(0==t.length)return b["default"].createElement("span",{className:"warning",__source:{fileName:f,lineNumber:483}},"no value");var r=this.props,a=r.valType,n=r.multiple,l=r.appearance,i=S(this),u=i[a]||i._default,o=l.cutoff,c=[],d=[];d.push(" ");var m=l.reverse?[].concat(s(t)).reverse():t;return m.forEach(function(t,r){var l=!o||r<=o-1?d:c,i=e.valueAsString(t),s=u(r,a,i);(n||0==r)&&l.push(s),n&&l.push(" ")}),this.knead(d,c)}},{key:"valuesAsControls",value:function(){var e=this,t=this.state,r=t.curValues,a=t.reasons,n=(this.state.savedValues,this.props),l=(n.name,n.valType),i=n.multiple,u=(n.validation,n.allowNew,n.appearance),o=M(this),s=o[l]||o._default,d=u.cutoff,m=[],p=[],h=r.map(function(e,t){return[t,e]}),_=r.length,v=u.reverse?h.reverse():h;(i||0==_)&&v.push([_,null]);var y=k[l]||k._max,N=p,g=[];return v.forEach(function(t,r){var n=c(t,2),u=n[0],o=n[1],h=r==_;N=!d||r<=d-1?p:m;var v=e.valueAsString(o),j=null==o?null:o._id;g=[];var E=a[u]||"";""!=E&&g.push("error");var w=s(u,j,h,l,g,v,y);(i||0==r)&&(N.push(w),""!=E&&(N.push(" "),N.push(b["default"].createElement("span",{key:"r_"+u,className:"reason",__source:{fileName:f,lineNumber:536}},E))),N.push(" "))}),this.knead(p,m)}},{key:"knead",value:function(e,t){var r=this.props,a=r.table,n=r.rowId,l=r.name;return 0==t.length?e:b["default"].createElement(j["default"],{tag:"field_"+a+"_"+n+"_"+l,controlPlacement:function(t){return b["default"].createElement("span",{__source:{fileName:f,lineNumber:549}},e," ",t)},controls:[function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:551}},"show more")},function(e){return b["default"].createElement("span",{className:"button-small",onClick:e,__source:{fileName:f,lineNumber:552}},"show less")}],alternatives:["",t],initial:0,__source:{fileName:f,lineNumber:548}})}},{key:"render",value:function(){var e=this.state.relValues,t=this.props,r=(t.name,t.label),a=t.editable,n=t.valType,l=t.convert;this.state.curValues;if(a&&null==e&&"rel"==n&&"user"!=l&&"country"!=l)return null;var i=this.progIcon(),u=a?this.valuesAsControls():this.valuesAsReadonly(),o=a&&this.saveLater?{onClick:this.saveField.bind(this)}:{};return b["default"].createElement("tr",{__source:{fileName:f,lineNumber:575}},b["default"].createElement("td",m({className:"label"},o,{__source:{fileName:f,lineNumber:576}}),r),b["default"].createElement("td",m({className:"label"},o,{__source:{fileName:f,lineNumber:577}}),i),b["default"].createElement("td",{__source:{fileName:f,lineNumber:578}},b["default"].createElement("div",{className:"values",__source:{fileName:f,lineNumber:578}},u)))}},{key:"fetchValues",value:function(){var e=(this.props.rowId,this.state.relValues),t=this.props,r=t.valType,a=t.getValues,n=t.convert;t.userMap,t.countryMap;"rel"==r&&"user"!=n&&"country"!=n&&null==e&&(0,E.getData)([{type:"db",path:a,branch:"relValues"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchValues(),this.fullfillSave()}},{key:"componentDidUpdate",value:function(){this.fetchValues(),this.fullfillSave()}}]),t}(h.Component);r["default"]=(0,w.withContext)((0,w.saveState)(A,"ItemField",P))},{"Alternative.jsx":23,"RelSelect.jsx":32,"data.js":"data.js","hoc.js":"hoc.js",react:"react","react-markdown":"react-markdown"}],27:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/ItemFiltered.jsx",o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("react"),c=a(s),f=e("FilterCompute.jsx"),d=a(f),m=e("filtering.js"),p=e("data.js"),h=e("hoc.js"),b=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.state,t=e.listData,r=e.countryData,a=e.userData,n=this.props,l=n.params,i=n.userMap,o=n.countryMap,s=l.tag;if(null==t||null==r||null==a)return c["default"].createElement("div",{__source:{fileName:u,lineNumber:53}});var f=t.records,p=t.fields,h=t.title,b=t.filterList,_=(0,m.compileFiltering)(f,p,b),v=_.fieldValues,y=_.filterInit,N=!0,g=!1,j=void 0;try{for(var E,w=a[Symbol.iterator]();!(N=(E=w.next()).done);N=!0){var k=E.value;i.set(k._id,k)}}catch(x){g=!0,j=x}finally{try{!N&&w["return"]&&w["return"]()}finally{if(g)throw j}}var O=!0,S=!1,M=void 0;try{for(var P,C=r[Symbol.iterator]();!(O=(P=C.next()).done);O=!0){var D=P.value;o.set(D._id,D)}}catch(x){S=!0,M=x}finally{try{!O&&C["return"]&&C["return"]()}finally{if(S)throw M}}return c["default"].createElement(d["default"],{tag:s,table:s,records:f,fields:p,title:h,fieldValues:v,filterList:b,filterInit:y,__source:{fileName:u,lineNumber:59}})}},{key:"componentDidMount",value:function(){var e=this.props.params,t=e.tag,r=this.state,a=r.listData,n=r.countryData,l=r.userData;null!=a&&null!=n&&null!=l||(0,p.getData)([{type:"db",path:"/list?table="+t,branch:"listData"},{type:"db",path:"/member_country",branch:"countryData"},{type:"db",path:"/user",branch:"userData"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,h.withContext)((0,h.saveState)(b,"ItemFiltered",{listData:null,countryData:null,userData:null}))},{"FilterCompute.jsx":25,"data.js":"data.js","filtering.js":"filtering.js","hoc.js":"hoc.js",react:"react"}],28:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/ItemMy.jsx",o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),c=e("react"),f=a(c),d=e("ItemList.jsx"),m=a(d),p=e("ItemRecordPre.jsx"),h=(a(p),e("data.js")),b=e("hoc.js"),_=e("ui.js"),v=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"inserted",value:function(e){var t=this.props.params,r=t.tag;if(this.setState(o({},this.state,{inserted:e})),null!=e){var a=this.props.router;a.push("/"+r+"/mylist/"+e)}}},{key:"insertRow",value:function(e){e.preventDefault();var t=this.props.params,r=t.tag;(0,h.getData)([{type:"db",path:"/mod?table="+r+"&action=insert",branch:"insert",callback:this.inserted.bind(this)},{type:"db",path:"/my?table="+r,branch:"listData"}],this,this.props.notification.component)}},{key:"deleted",value:function(e){var t=this.props,r=t.params,a=(t.router,r.tag);if(this.setState(o({},this.state,{deleted:e})),null!=e){var n=this.props.router;n.push("/"+a+"/mylist")}}},{key:"deleteRow",value:function(e,t){t.preventDefault();var r=this.props.params,a=r.tag;(0,h.getData)([{type:"db",path:"/mod?table="+a+"&action=delete",branch:"delete",callback:this.deleted.bind(this),data:{_id:e}},{type:"db",path:"/my?table="+a,branch:"listData"}],this,this.props.notification.component)}},{key:"render",value:function(){var e=this.state,t=e.listData,r=e.countryData,a=e.userData,n=this.props,l=n.params,i=n.userMap,o=n.countryMap,s=n.children,c=n.delCallback,d=l.tag;if(null==t||null==r||null==a)return f["default"].createElement("div",{__source:{fileName:u,lineNumber:103}});var p=t.records,h=(t.fields,t.title),b=t.perm,v=!0,y=!1,N=void 0;try{for(var g,j=a[Symbol.iterator]();!(v=(g=j.next()).done);v=!0){var E=g.value;i.set(E._id,E)}}catch(w){y=!0,N=w}finally{try{!v&&j["return"]&&j["return"]()}finally{if(y)throw N}}var k=!0,x=!1,O=void 0;try{for(var S,M=r[Symbol.iterator]();!(k=(S=M.next()).done);k=!0){var P=S.value;o.set(P._id,P)}}catch(w){x=!0,O=w}finally{try{!k&&M["return"]&&M["return"]()}finally{if(x)throw O}}return c[d]=this.deleteRow.bind(this),f["default"].createElement("div",{__source:{fileName:u,lineNumber:110}},f["default"].createElement("div",{className:"nav",style:(0,_.columnStyle)("rightLeftNav"),__source:{fileName:u,lineNumber:111}},f["default"].createElement("p",{__source:{fileName:u,lineNumber:112}},p.length," items"," ",null!=b&&b.insert?f["default"].createElement("span",{className:"fa fa-plus button-large insert",title:"New item",onClick:this.insertRow.bind(this),__source:{fileName:u,lineNumber:116}}):null),f["default"].createElement(m["default"],{table:d,title:h,filteredData:p,inplace:!1,__source:{fileName:u,lineNumber:123}})),f["default"].createElement("div",{style:(0,_.columnStyle)("rightRightBody"),__source:{fileName:u,lineNumber:125}},s))}},{key:"componentDidMount",value:function(){var e=this.props.params,t=e.tag,r=this.state,a=r.listData,n=r.countryData,l=r.userData,i=r.inserted,u=r.deleted;null==a||null==n||null==l?(0,h.getData)([{type:"db",path:"/my?table="+t,branch:"listData"},{type:"db",path:"/member_country",branch:"countryData"},{type:"db",path:"/user",branch:"userData"}],this,this.props.notification.component):i&&u&&(newState={},i&&(newState.inserted=null),u&&(newState.deleted=null),this.setState(o({},this.state,newState)),(0,h.getData)([{type:"db",path:"/my?table="+t,branch:"listData"}],this,this.props.notification.component))}}]),t}(c.Component);r["default"]=(0,b.withContext)((0,b.saveState)(v,"ItemMy",{listData:null,countryData:null,userData:null,inserted:null}))},{"ItemList.jsx":15,"ItemRecordPre.jsx":16,"data.js":"data.js","hoc.js":"hoc.js",react:"react","ui.js":"ui.js"}],29:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var s="/Users/dirk/github/dariah/client/src/js/app/state/ItemRecord.jsx",c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),d=e("react"),m=a(d),p=e("ItemField.jsx"),h=a(p),b=e("data.js"),_=e("hoc.js"),v=function(e){function t(){return i(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),f(t,[{key:"updMod",value:function(e){var t={};for(var r in e)t[r]=!1;var a=c({},this.state,{fieldData:c({},this.state.fieldData,{fields:c({},this.state.fieldData.fields,e)})});this.setState(a)}},{key:"progIcon",value:function(e,t){var r=this.props,a=r.editStatus,n=r.table,l=r.recordId,i=e?"info":t?"warning":"error",u=e?"":t?"fa-pencil":"fa-close";a[n][l].prog.className=i+" fa "+u}},{key:"updEdit",value:function(e,t,r,a){var n=this.props,i=n.editStatus,u=n.table,o=n.recordId,s=this.state,f=(s.saveConcern,s.fieldData),d=f.title;e==d&&(i[u][o].title.innerHTML=a[0]);var m=c({},this.state,{changed:c({},this.state.changed,l({},e,t)),valid:c({},this.state.valid,l({},e,r))}),p=this.saveStatus(m),h=p.noChange,b=p.allValid,_=p.canSave;this.progIcon(h,b),_||(m.saveConcern=!1),this.setState(m)}},{key:"saveAll",value:function(){var e=this.saveStatus(),t=e.canSave;t&&this.setState(c({},this.state,{saveConcern:!0}))}},{key:"parseFields",value:function(){var e=this.props.table,t=this.state.fieldData,r=t.row,a=t.fields,l=t.fieldSpecs,i=t.fieldOrder,u=t.perm,o=[],f=!1,d=!0,p=!1,b=void 0;try{for(var _,v=i[Symbol.iterator]();!(d=(_=v.next()).done);d=!0){var y=_.value,N=l[y],g=N.label,j=N.initial,E=n(N,["label","initial"]);if(null!=a[y]){var w=!!u.update[y];w&&(f=!0);
var k=r._id;o.push(m["default"].createElement(h["default"],c({key:y,tag:"field_"+e+"_"+k+"_"+y,table:e,initValues:r[y],rowId:k,editable:w,name:y,label:g,initial:j,saveConcern:this.state.saveConcern,updMod:this.updMod.bind(this),updEdit:this.updEdit.bind(this)},E,{__source:{fileName:s,lineNumber:89}})))}}}catch(x){p=!0,b=x}finally{try{!d&&v["return"]&&v["return"]()}finally{if(p)throw b}}return{fragments:o,hasEditable:f}}},{key:"saveStatus",value:function(e){var t=null==e?this.state:e,r=(t.fieldData,t.changed),a=t.valid,n=Object.keys(r).every(function(e){return!r[e]}),l=Object.keys(a).every(function(e){return a[e]}),i=!Object.keys(r).every(function(e){return!r[e]||!a[e]});return{noChange:n,allValid:l,canSave:i}}},{key:"render",value:function(){var e=this.state,t=e.fieldData,r=(e.changed,e.valid,this.props),a=r.table,n=r.delCallback;if(null==t||null==t.row)return m["default"].createElement("div",{__source:{fileName:s,lineNumber:121}});var l=this.saveStatus(),i=l.noChange,u=l.allValid,o=l.canSave,c=i?"special":u?"warning":"error",f=i?"all saved":u?"save changes":"make corrections",d=t.row,p=t.perm,h=d._id,b=this.parseFields(),_=b.fragments,v=b.hasEditable,y=n[a];return m["default"].createElement("div",{className:"widget-medium",__source:{fileName:s,lineNumber:131}},m["default"].createElement("p",{__source:{fileName:s,lineNumber:132}},v?[o?m["default"].createElement("span",{key:"1",className:"button-large "+c,onClick:this.saveAll.bind(this),__source:{fileName:s,lineNumber:135}},f):m["default"].createElement("span",{key:"1",className:"button-large "+c,__source:{fileName:s,lineNumber:141}},f),p["delete"]?m["default"].createElement("span",{key:"2",className:"fa fa-trash button-large delete",onClick:y?y.bind(null,h):null,title:"delete this item",__source:{fileName:s,lineNumber:147}}):null]:null),m["default"].createElement("table",{__source:{fileName:s,lineNumber:156}},m["default"].createElement("tbody",{__source:{fileName:s,lineNumber:157}},_)))}},{key:"fetchRow",value:function(){var e=this.state.fieldData,t=this.props,r=t.table,a=t.recordId,n=t.ownOnly;null==e&&(0,b.getData)([{type:"db",path:"/view?table="+r+"&id="+a+(n?"&own=true":""),branch:"fieldData"}],this,this.props.notification.component)}},{key:"componentDidMount",value:function(){this.fetchRow()}},{key:"componentDidUpdate",value:function(){this.fetchRow()}}]),t}(d.Component);r["default"]=(0,_.withContext)((0,_.saveState)(v,"ItemRecord",{fieldData:null,changed:{},valid:{},saveConcern:!1}))},{"ItemField.jsx":26,"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],30:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var u="/Users/dirk/github/dariah/client/src/js/app/state/Login.jsx",o=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),s=e("react"),c=a(s),f=e("LocalSettings.jsx"),d=a(f),m=e("hoc.js"),p=e("data.js"),h=function(e){function t(){return n(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"render",value:function(){var e=this.state.user,t=this.props.userInfo;t.clear();var r=!0,a=!1,n=void 0;try{for(var l,i=Object.keys(e)[Symbol.iterator]();!(r=(l=i.next()).done);r=!0){var o=l.value;t.set(o,e[o])}}catch(s){a=!0,n=s}finally{try{!r&&i["return"]&&i["return"]()}finally{if(a)throw n}}return c["default"].createElement("span",{className:"login",__source:{fileName:u,lineNumber:39}},e.eppn&&Object.keys(e).length>0?c["default"].createElement("span",{__source:{fileName:u,lineNumber:41}},c["default"].createElement("strong",{className:"fa fa-user",title:e.eppn,__source:{fileName:u,lineNumber:42}},e.eppn.split("@")[0]),c["default"].createElement("span",{className:"fa fa-hashtag",__source:{fileName:u,lineNumber:43}}),e.authority," ",c["default"].createElement("em",{__source:{fileName:u,lineNumber:44}},e.groupDesc||"not authenticated"),c["default"].createElement("a",{href:"/logout",className:"control fa fa-user-times",__source:{fileName:u,lineNumber:45}}," logout"),c["default"].createElement("a",{href:"/slogout",className:"control fa fa-users",__source:{fileName:u,lineNumber:46}}," quit ")):c["default"].createElement("a",{href:"/login",className:"control fa fa-user-plus",__source:{fileName:u,lineNumber:49}}," login"),c["default"].createElement(d["default"],{__source:{fileName:u,lineNumber:51}}))}},{key:"componentDidMount",value:function(){(0,p.getData)([{type:"db",path:"/who/ami",branch:"user"}],this,this.props.notification.component)}}]),t}(s.Component);r["default"]=(0,m.withContext)((0,m.saveState)(h,"Login",{user:{}}))},{"LocalSettings.jsx":17,"data.js":"data.js","hoc.js":"hoc.js",react:"react"}],31:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o="/Users/dirk/github/dariah/client/src/js/app/state/Notification.jsx",s=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f=e("react"),d=a(f),m=e("hoc.js"),p=[],h=function(e){function t(e){l(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.notification.component=r,r.msgs=[],r.visible=!1,r.dom={},r}return u(t,e),c(t,[{key:"notify",value:function(e){this.msgs.push(e),this.setState({msgs:[].concat(n(this.msgs))})}},{key:"clear",value:function(){this.msgs=[],this.setState({msgs:[]})}},{key:"computeProgress",value:function(){var e=this.msgs.length-1,t=-1,r="info",a=0;this.msgs.forEach(function(e,n){"error"==e.kind?(t=n,r="error"):"warning"==e.kind&&"error"!=r&&(t=n,r="warning"),a+=e.busy||0}),a<0&&(console.warn("SHOULD NOT HAPPEN: negative value for busy "+a),a=0);var n=this.visible||t>-1;return[e,t,r,a,n]}},{key:"refDom",value:function(e,t){t&&(this.dom[e]=t)}},{key:"render",value:function(){var e=this,t=this.computeProgress(),r=s(t,5);this.lastMsg=r[0],this.lastNote=r[1],this.lastKind=r[2],this.busy=r[3],this.visible=r[4];var a=new Array(this.busy).fill(1);return d["default"].createElement("div",{__source:{fileName:o,lineNumber:85}},d["default"].createElement("p",{className:"msg-spinner",__source:{fileName:o,lineNumber:86}},d["default"].createElement("span",{title:"show/hide notifications and progress messages",className:this.lastNote>-1?"spin-"+this.lastKind:"spin-ok",onClick:function(t){t.preventDefault(),e.setView(!e.visible)},__source:{fileName:o,lineNumber:87}},a.map(function(e,t){return d["default"].createElement("span",{key:t,className:"msg-dot fa fa-caret-left",__source:{fileName:o,lineNumber:92}})}),d["default"].createElement("span",{className:"fa fa-"+(0==this.busy?"circle-o":"spinner fa-spin"),__source:{fileName:o,lineNumber:93}}))),d["default"].createElement("div",{ref:this.refDom.bind(this,"notbox"),className:"msg-box",onClick:function(t){t.preventDefault(),e.setView(!1)},__source:{fileName:o,lineNumber:96}},(this.msgs||p).map(function(t,r){return d["default"].createElement("p",{key:r,ref:e.refDom.bind(e,"m"+r),className:"msg-line "+[t.kind]+"-o "+("info"!=t.kind?"msg-high":""),__source:{fileName:o,lineNumber:103}},t.text)}),d["default"].createElement("p",{className:"msg-dismiss",__source:{fileName:o,lineNumber:110}},"(click panel to hide)"),d["default"].createElement("p",{className:"msg-trash",__source:{fileName:o,lineNumber:113}},d["default"].createElement("a",{href:"#",title:"clear messages",className:"control fa fa-trash",onClick:function(t){t.preventDefault(),e.clear()},__source:{fileName:o,lineNumber:114}}))))}},{key:"componentDidMount",value:function(){this.setView()}},{key:"componentDidUpdate",value:function(){this.setView()}},{key:"setView",value:function(e){null!=e&&(this.visible=e),this.dom.notbox.style.display=this.visible?"block":"none",this.setScroll()}},{key:"setScroll",value:function(){this.visible&&(this.lastNote>-1?this.dom["m"+this.lastNote].scrollIntoView():this.lastMsg>-1&&this.dom["m"+this.lastMsg].scrollIntoView())}}]),t}(f.Component);r["default"]=(0,m.withContext)((0,m.saveState)(h,"Notification",{msgs:null}))},{"hoc.js":"hoc.js",react:"react"}],32:[function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function e(e,t){var r=[],a=!0,n=!1,l=void 0;try{for(var i,u=e[Symbol.iterator]();!(a=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(o){n=!0,l=o}finally{try{!a&&u["return"]&&u["return"]()}finally{if(n)throw l}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),f="/Users/dirk/github/dariah/client/src/js/app/state/RelSelect.jsx",d=e("react"),m=a(d),p=e("hoc.js"),h=function(e){var t=e.valId,r=e.value,a=e.selected,n=e.onHit;return m["default"].createElement("p",{className:"option "+a,onClick:function(e){return n(t,r.text,r.full)},__source:{fileName:f,lineNumber:6}},r.text)},b=function(e){var t=e.initVal,r=e.initText,a=e.initFull;return{poppedUp:!1,search:"",selVal:t,selText:r,selFull:a}},_=function(e){function t(){return l(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"popUp",value:function(){var e=this.state.poppedUp;e=!e,this.setState(s({},this.state,{poppedUp:e}))}},{key:"updSearch",value:function(e){var t=e.target.value;this.setState(s({},this.state,{search:t}))}},{key:"changeSel",value:function(e,t,r,a){this.setState(s({},this.state,{poppedUp:!1,selVal:t,selText:r,selFull:a})),e(t,r,a)}},{key:"addVal",value:function(e,t){var r=null;this.setState(s({},this.state,n({poppedUp:!1,selVal:r,selText:t},"selText",t))),e(null,t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.isNew,a=t.allowNew,n=t.valid,l=t.valueList,i=t.onChange,u=t.extraClasses,s=this.state,c=s.poppedUp,d=s.search,p=s.selVal,b=s.selText,_=s.selFull,v=d.toLowerCase(),y=c?r?"minus":"arrow-up":r?"plus":"arrow-down",N=u.join(" ");return m["default"].createElement("div",{className:"select",__source:{fileName:f,lineNumber:48}},m["default"].createElement("p",{className:"option-head tag-medium",__source:{fileName:f,lineNumber:49}},r?null:m["default"].createElement("span",{className:N,title:_,__source:{fileName:f,lineNumber:50}},b),m["default"].createElement("span",{className:"button-small fa fa-"+y,onClick:this.popUp.bind(this),__source:{fileName:f,lineNumber:51}})),c||!n?m["default"].createElement("div",{__source:{fileName:f,lineNumber:57}},m["default"].createElement("p",{className:"option-type",__source:{fileName:f,lineNumber:58}},m["default"].createElement("input",{type:"text",placeholder:"search...",onChange:this.updSearch.bind(this),value:d,className:N,__source:{fileName:f,lineNumber:59}}),a&&""!=d?m["default"].createElement("span",{className:"button-small fa fa-plus-square",onClick:this.addVal.bind(this,i,d),__source:{fileName:f,lineNumber:66}}):null),m["default"].createElement("div",{className:"options",__source:{fileName:f,lineNumber:72}},l.map(function(t){var r=o(t,2),a=r[0],n=r[1];return null==v||""==v||null==n||null==n.full||n.full.toLowerCase().indexOf(v)!==-1?m["default"].createElement(h,{key:null==a?"null":a,valId:a,value:n,selected:a==p,onHit:e.changeSel.bind(e,i),__source:{fileName:f,lineNumber:75}}):null}))):null)}}]),t}(d.Component);r["default"]=(0,p.withContext)((0,p.saveState)(_,"RelSelect",b))},{"hoc.js":"hoc.js",react:"react"}]},{},[1]);