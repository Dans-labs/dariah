var dM=(function(){`use strict`;var jn={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(cF){return cF.replace(/[&<>]/g,function(cz){return jn[cz]})}}());var hM={dS:function(d){return this.hk()[d]},hk:function(fb){var j,dS,hl,hs,Z;Z={};if(!fb){fb=window.location.search}if(fb.indexOf("?")===-1){return{}}hs=fb.slice(1);hl=hs.split("&");hl.forEach(function(jO,j){dS=jO.split("=");Z[dS[0]]=dS[1]});return Z}};var fR=hM.hk();var jF=$.initNamespaceStorage(`req`);var cs=jF.localStorage;function gO(){if(document.selection){document.selection.empty()}else if(window.getSelection){window.getSelection().removeAllRanges()}};function jT(dK){gO();if(document.selection){var dm=document.body.createTextRange();dm.moveToElementText(document.getElementById(dK));dm.select()}else if(window.getSelection){var dm=document.createRange();dm.selectNode(document.getElementById(dK));window.getSelection().addRange(dm)}};function kd(cf,gQ,gS){var jY=(gQ==undefined)?cf.closest('div').find('.•hJ'):gQ;jY.toggle();if(gS !=undefined){gS(cf)}var fW,fP;if(cf.hasClass('fa-chevron-right')){fW='fa-chevron-right';fP='fa-chevron-down'}else{fW='fa-chevron-down';fP='fa-chevron-right'}cf.removeClass(fW);cf.addClass(fP)};function jq(fD,jW,cF){return(cF.length > fD)?cF.replace(/[^ -]+/g,function(cX){return cX.substr(0,jW)}):cF};function dw(dk,jL){this.cI=$(`#${dk}`);this.gF=$(`#trash_${dk}`);this.gG=this.gF.closest(`p`);this.gF.click(function(g){g.preventDefault();this.gL()}.bind(this));this.gt();this.gA=jL};dw.prototype={gt:function(){this.cI.hide();this.gG.hide()},jd:function(){this.cI.show();if(this.cI.html()!=``){this.gG.show()}},gL:function(){this.cI.html(``);if(this.gA !=undefined){this.gA()}this.gt()},s:function(cF,fK){if(fK==undefined){fK=`info`}var jH=this.cI.html();this.cI.html(`${jH}<p class="${fK}">${cF}</p>`);this.jd()}};function gp(C){this.cx={};this.C=C;this.s=C.s;this.hS();this.gr()};gp.prototype={cy:{list:{I:true,z:`string`,A:{contrib:1,country:1,type:1,tadiraha:1,tadiraho:1,tadiraht:1},B:`contrib`},flt_contrib:{I:false,z:`string`,A:null,B:``},flt_country:{I:false,z:`string`,A:null,B:``},flt_type:{I:false,z:`string`,A:null,B:``},flt_tadiraha:{I:false,z:`string`,A:null,B:``},flt_tadiraho:{I:false,z:`string`,A:null,B:``},flt_tadiraht:{I:false,z:`string`,A:null,B:``},rel_country_contrib:{I:false,z:`string`,A:null,B:``},rel_type_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraha_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraho_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraht_contrib:{I:false,z:`string`,A:null,B:``},id:{I:true,z:`integer`,dP:{hf:-1,hc:1000000},B:0},sort:{I:false,z:`boolean`,A:{v:true,x:false},B:true}},fw:{list:{contrib:{cv:`contribution`,cS:`contributions`},country:{cv:`country`,cS:`countries`},type:{cv:`type`,cS:`types`},tadiraha:{cv:`tadirah activity`,cS:`tadirah activities`},tadiraho:{cv:`tadirah object`,cS:`tadirah objects`},tadiraht:{cv:`tadirah technique`,cS:`tadirah techniques`}}},jf:function(d,p){var K,kH;if(d in this.cy){var t=this.cy[d];if(t.z==`string`){if(t.A){if(p in t.A){K=p}else{K=t.B;this.s.s(`illegal string value for ${d}: "${p}" is replaced by "${t.B}"`,`warning`)}}else{K=p}}else if(t.z==`integer`){if(/^(\-|\+)?[0-9]+$/.test(p)){K=Number(p)}else{K=t.B;this.s.s(`not a number value for ${d}: "${p}" is replaced by "${t.B}"`,`warning`)}if(K < t.dP.hf){this.s.s(`number to small for ${d}: "${K}" is replaced by "${t.dP.hf}"`,`warning`)}if(K > t.dP.hc){this.s.s(`number to big for ${d}: "${K}" is replaced by "${t.dP.hc}"`,`warning`)}}else if(t.z==`boolean`){if(p in t.A){K=t.A[p]}else{K=t.B;this.s.s(`illegal boolean value for ${d}: "${p}" is replaced by "${t.B}"`,`warning`)}}}else{K=null;this.s.s(`unknown parameter: ${d}=${p}`,`warning`)}return K},dN:function(js){fX=[];for(var d in this.cx){var p=this.cx[d];var t=this.cy[d];if(js || t.I){if(t.z==`string` || t.z==`integer`){fX.push(`${d}=${p}`)}else if(t.z==`boolean`){for(var hz in t.A){if(t.A[hz]==p){fX.push(`${d}=${hz}`)}}}}}return fX.join(`&`)},hS:function(){for(var d in fR){if(!(d in this.cy)){this.s.s(`unknown parameter: ${d}=${p}`,`warning`)}}for(var d in this.cy){var p=null;if(d in fR){var jS=fR[d];p=this.jf(d,jS);cs.set(d,p)}else if(cs.isSet(d)){p=cs.get(d)}else{p=this.cy[d].B;cs.set(d,p)}this.cx[d]=p}},gr:function(kI,kK){var kc=`DARIAH contribution tool`;var jZ=`${app_url}?${this.dN(false)}`;History.pushState(this.cx,kc,jZ)},ct:function(d,p){this.cx[d]=p;cs.set(d,p);this.gr()},W:function(d){return this.cx[d]},jA:function(d){return this.cy[d].A},fS:function(d,p,Y){var Z=p;var kG=(Y==undefined)?`cv`:Y;if(this.fw[d]!=undefined && this.fw[d][p]!=undefined){Z=this.fw[d][p][Y]}return Z},h:function(){return function(){var l=History.getState();if(l && l.data){this.cx=l.data;this.C.h()}}.bind(this)}};function S(c,z,jp,fD,jV){this.c=c;this.D={};this.dF={};this.fs={};this.fv={};this.dB={};this.O={};this.cp={};this.T={};this.dd={};this.dc={};this.cb={cm:`-`,d:`-none`};this.F=z;this.hN=jp || 2;this.hO=fD || 14;this.jc=jV || 6};S.prototype={cg:function(b){var kg=this.c.l.fS(`list`,this.F,`cv`);var kf=this.c.l.fS(`list`,this.F,`cS`);var x=``;x +=this.gC(b);x +=`
<div>
    <p class="•hI"><span fct="${this.c.d}-${b}"></span> By ${kg}</p>
    <p class="•kn"><span rv="_all" class="•cH"></span> <a rv="_all" href="#" class="•hK">all ${kf}</a></p>
    <table class="•ky" id="list-${this.F}-vals_${b}">
        <tr>
`;this.cp[b].forEach(function(f,j,ch){if((j % this.hN==0)&&(j > 0)&&(j < ch.length)){x +=`</tr><tr>`}var dU=this.T[b][f];x +=`
            <td><span rv="${f}" class="•cH"></span></td>
            <td><a rv="${f}" href="#" class="•fd">${dM(dU)}</a></td>
            `},this);x +=`
        </tr>
    </table>
    <p class="•kz" id="list2-${this.F}-vals_${b}">
`;this.cp[b].forEach(function(f,j,ch){var dU=this.T[b][f];var jr=dM(jq(this.hO,this.jc,dU));x +=`<a href="#" rv="${f}" class="•gj" title="${dM(dU)}">${jr}</a> `},this);x +=`
    </p>
</div>`;this.c.m[b].html(x)},fp:function(b){var q=this.c.m[b];this.dF[b]=q.find(`#list-${this.F}-vals_${b}`);this.fs[b]=q.find(`#list2-${this.F}-vals_${b}`);var k=this;this.dF[b].find(`.•fd`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var M=k.db(b,k.c.l.W(`rel_${k.F}_${b}`));M[f]=(f in M)?!M[f]:true;k.c.l.ct(`rel_${k.F}_${b}`,k.dI(M));q.find(`.•cY`).removeClass(`•cY`);$(this).addClass(`•cY`)});this.fs[b].find(`.•gj`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var M=k.db(b,k.c.l.W(`rel_${k.F}_${b}`));M[f]=(f in M)?!M[f]:true;k.c.l.ct(`rel_${k.F}_${b}`,k.dI(M));$(this).closest(`div`).find(`.morec`).click();var hb=k.dF[b].find(`a[rv="${f}"]`);q.find(`.•cY`).removeClass(`•cY`);hb.addClass(`•cY`);$(`#left`)[0].scrollTop=50;hb[0].scrollIntoView({behavior:`smooth`,alignToTop:`true`})});this.dB[b]=this.c.m[b].find(`[rv="_all"]`);this.dB[b].click(function(g){g.preventDefault();var jD=$(this).hasClass(`•w`);if(jD){k.c.l.ct(`rel_${k.F}_${b}`,k.dI(k.dc[b]))}else{k.c.l.ct(`rel_${k.F}_${b}`,k.dI(k.dd[b]))}})},hY:function(b,r){var gK=true;for(var f in this.T[b]){var gT=this.dF[b].find(`[rv="${f}"]`);var gU=this.fs[b].find(`[rv="${f}"]`);if(f in r && r[f]){gT.addClass(`•w`);gU.addClass(`•w`)}else{gT.removeClass(`•w`);gU.removeClass(`•w`);gK=false}}if(gK){this.dB[b].addClass(`•w`)}else{this.dB[b].removeClass(`•w`)}},gq:function(ch){return ch.join(',')},dI:function(cC){var ch=[];for(var cX in cC){if(cC[cX]){ch.push(cX)}}return ch.join(',')},db:function(b,cT){var cC={};if(cT !==null && cT !=undefined && cT !=''){var ch=cT.split(',');ch.forEach(function(cG){cC[cG]=true})}for(var f in this.T[b]){if(!(f in cC)){cC[f]=false}}return cC},hv:function(b){this.O[b]={};for(var f in this.T[b]){this.O[b][f]=0}var dn=this.c.H[b];for(var cX in this.D[b]){var j=this.D[b][cX];var gY=false;for(var f in dn[j]){this.O[b][f]+=1;gY=true}if(!gY){this.O[b][this.cb.cm]+=1}}for(var f in this.O[b]){this.c.m[b].find(`span[rv="${f}"].•cH`).html(this.O[b][f])}this.c.m[b].find(`span[rv="_all"].•cH`).html(this.D[b].length);this.gx(b)},cG:function(b,j){var dn=this.c.H[b];var dV=this.db(b,this.fv[b]);if((j in dn)&&(Object.keys(dn[j]).length !=0)){for(var f in dn[j]){if((f in dV)&& dV[f]){return true}}}else{if((this.cb.cm in dV)&&(dV[this.cb.cm])){return true}}return false},Q:function(b){return(this.c.l.W(`list`)==b)},R:function(b){this.cp[b]=[];this.T[b]={};this.dc[b]={};this.dd[b]={};this.gB(b);this.gy(b);this.cp[b].push(this.cb.cm);this.T[b][this.cb.cm]=this.cb.d;this.dc[b][this.cb.cm]=false;this.dd[b][this.cb.cm]=true;this.cg(b)},G:function(b){this.gv(b);this.fp(b)},h:function(b){this.fv[b]=this.c.l.W(`rel_${this.F}_${b}`);var r=this.db(b,this.fv[b]);this.gw(b,r);this.hY(b,r)},gB:function(b){var r=this.c.r[b];for(var j in r){var f=r[j];this.dc[b][j]=false;this.dd[b][j]=true;this.cp[b].push(j);this.T[b][j]=f}this.cp[b].sort(function(cz,dg){return(r[cz]< r[dg])?-1:(r[cz]> r[dg])?1:0})},gy:function(b){},gC:function(b){return ``},gv:function(b){},gw:function(b){},gx:function(b){}};function dv(c){S.call(this,c,`type`)};dv.prototype=Object.create(S.prototype);dv.prototype.constructor=dv;function dz(c){S.call(this,c,`tadiraho`)};dz.prototype=Object.create(S.prototype);dz.prototype.constructor=dz;function dy(c){S.call(this,c,`tadiraha`)};dy.prototype=Object.create(S.prototype);dy.prototype.constructor=dy;function dA(c){S.call(this,c,`tadiraht`,1,30)};dA.prototype=Object.create(S.prototype);dA.prototype.constructor=dA;function N(c){S.call(this,c,`country`);this.cK={};this.cJ={};this.ft={};this.dG={};this.gz={'-':true,CY:true,KS:true,TR:true,MC:true,GE:true}};N.prototype=Object.create(S.prototype);N.prototype.constructor=N;N.prototype.gC=function(b){return `<div id="map-europe_${b}" class="•kw"><p class="•fh"><a class="fa fa-arrows" href="#" title="zoom to fit all countries"/></p></div>`};N.prototype.gv=function(b){var k=this;var q=this.c.m[b];this.cJ[b]=q.find(`#map-europe_${b}`);var gZ=this.cJ[b].width()*0.6;this.cJ[b].width(`100%`);this.cJ[b].height(gZ);this.cJ[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,markersSelectable:true,regionsSelectableOne:false,markersSelectableOne:false,markerStyle:{initial:{fill:`#008800`,'fill-opacity':0.2,stroke:`none`,'stroke-width':0,'stroke-opacity':0.2,'r':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':1,'stroke-opacity':1},selected:{fill:`#008800`,'fill-opacity':1},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{fill:`#dd8844`,'fill-opacity':1},selectedHover:{}},markers:this.ft[b],series:{markers:[{values:{},scale:[0,20],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'jN':`#ffffff`,'jC':`#ffddbb`},attribute:`fill`,values:this.dG[b]}]},onRegionTipShow:function(g,fF,f){fF.html(`${f}: ${(f in this.O[b])?this.O[b][f]:'not in DARIAH'}`)}.bind(this),onMarkerTipShow:function(g,fF,f){fF.html(`${f}: ${(f in this.O[b])?this.O[b][f]:'not in DARIAH'}`)}.bind(this),onRegionClick:function(g,f){if(!(f in this.T[b])){g.preventDefault()}}.bind(this),onMarkerClick:function(g,f){if(!(f in this.T[b])){g.preventDefault()}}.bind(this),onRegionSelected:function(g,f,j,M){if(this.fB){this.c.l.ct(`rel_${this.F}_${b}`,this.gq(M)+this.gH(b))}}.bind(this),onMarkerSelected:function(g,f,j,M){if(this.fB){this.c.l.ct(`rel_${this.F}_${b}`,this.gq(M)+this.gH(b))}}.bind(this)});var hB=q.find(`p.•fh`);hB.css(`top`,`${gZ-20}px`);hB.css(`left`,`10px`);var km=q.find(`p.•fh a`);km.click(function(g){g.preventDefault();k.cK[b].setFocus({regions:[`GB`,`GR`]})});this.cK[b]=this.cJ[b].vectorMap('get','mapObject');this.cK[b].setFocus({regions:[`GB`,`GR`]})};N.prototype.gH=function(b){var Z=[];var hx=this.db(b,this.c.l.W(`rel_${this.F}_${b}`));var gR=true;for(var f in this.gz){if(f in hx && hx[f]){Z.push(f);gR=false}}return gR?``:(`,`+Z.join(','))};N.prototype.gw=function(b,r){this.fB=false;var fL={};for(var f in r){if(!(f in this.gz)&& f !=this.cb.cm){fL[f]=r[f]}}this.cK[b].setSelectedRegions(fL);this.cK[b].setSelectedMarkers(fL);this.fB=true};N.prototype.gx=function(b){var dZ=this.D[b].length;if(dZ==0){dZ=1}var hA={};for(var f in this.O[b]){if(f !=this.cb.cm){var hm=100 * this.O[b][f]/ dZ;hA[f]=(dZ < 10)?hm:(10*Math.sqrt(hm))}}this.cK[b].series.markers[0].setValues(hA)};N.prototype.gB=function(b){};N.prototype.gy=function(b){this.ft[b]={};this.dG[b]={};var r=this.c.r[b];for(var j in r){var f=r[j];if(f[1]){this.dc[b][j]=false;this.dd[b][j]=true;this.cp[b].push(j);this.T[b][j]=f[0];if(f.length > 3){this.ft[b][j]={latLng:[f[2],f[3]],d:f[0]}}this.dG[b][j]='jC'}else{this.dG[b][j]='jN'}}this.cp[b].sort(function(cz,dg){return(r[cz]< r[dg])?-1:(r[cz][0]> r[dg][0])?1:0})};function gm(c){this.c=c;this.fx={};this.cn={};this.fq={};this.fm={};this.gs={};this.dH={};this.dD={};this.fz={};this.dE={};this.D={}};gm.prototype={cg:function(b){var x=`
<div>
    <p class="•hI"><span fct="${this.c.d}-${b}"></span> By full text search
        <a href="#" title="modify full text filter" id="flt2_${b}" class="•kt •fd •w •gh"></a>
        <a href="#" class="•fc fa fa-close •ks" id="clearf_${b}"></a>
    </p>
    <div id="fltw_${b}">
        <p id="•kr${b}" class="•fg •fc •ff ui-widget">
            <input id="flt_${b}" class="•fg •gh"/>
            <span •ff class="•cH" id="stats_${b}"></span>
        </p>
        <div id="autoc_${b}" style="display: none;">here ${b}</div>
    </div>
</div>`;this.c.m[b].html(x)},hZ:function(b){var cw=this.c.l.W(`flt_${b}`);this.fq[b].html(cw);this.cn[b].val(cw);this.cn[b].autocomplete(`search`,cw)},hW:function(b){return function(kE,kj){this.dE[b]={};kj.content.forEach(function(kh,j){this.dE[b][kh.value]=1},this);if(!(this.fz[b])){var cw=this.cn[b].val();this.c.l.ct(`flt_${b}`,cw)}}.bind(this)},hX:function(b){this.dD[b].click(function(g){g.preventDefault();this.cn[b].val(``);this.cn[b].autocomplete(`search`,``)}.bind(this))},hv:function(b){var fU;if(this.cn[b].val()==``){fU=``;this.dH[b].removeClass(`•w`)}else{fU=`${this.n.D[b].length} of `;this.dH[b].addClass(`•w`)}this.dH[b].html(`${fU}${this.D[b].length}`)},cG:function(b,j){return(j in this.dE[b])},Q:function(b){return(this.c.l.W(`list`)==b)},R:function(b){this.cg(b)},G:function(b){if(!this.n){this.n=this.c.C.cA(`n`).P}var H=this.c.C.cA(`X`).H[b];this.fx[b]=[];H.forEach(function(cq,j){this.fx[b].push({label:cq[1],value:`${cq[0]}`})},this);this.dE[b]={};this.D[b]=[];var q=this.c.m[b];var fA=q.find(`#fltw_${b}`);var gV=$(`#flt_${b}`);this.cn[b]=gV;var gW=$(`#flt2_${b}`);this.fq[b]=gW;this.fm[b]=fA.find(`#•kr${b}`);this.gs[b]=fA.find(`#autoc_${b}`);this.dH[b]=fA.find(`#stats_${b}`);this.dD[b]=q.find(`#clearf_${b}`);this.cn[b].autocomplete({appendTo:this.gs[b],source:this.fx[b],response:this.hW(b),minLength:0});gW.click(function(g){g.preventDefault();$(this).closest(`div`).find(`.morec`).click();gV[0].focus()});this.fz[b]=true;this.hX(b);this.hZ(b);this.fz[b]=false},h:function(b){var cw=this.c.l.W(`flt_${b}`);if(cw==``){this.fm[b].removeClass(`•w`);this.dD[b].hide()}else{this.fm[b].addClass(`•w`);this.dD[b].show()}this.fq[b].html(cw)}};function gl(c){this.c=c;this.gD={};this.H={};this.fV={};this.D={};this.fG={}};gl.prototype={cg:function(b){var x=``;x +=`<p><span fct="all"></span>Filtering <span id="fstats_${b}"></span></p>`;this.c.m[b].html(x)},Q:function(b){return this.c.l.W(`list`)==b},R:function(b){var cM=this.c.cM;this.fG[b]={};for(var V in cM){var jx=cM[V];if(jx.cR(b)){this.fG[b][V]=cM[V]}}this.cg(b)},cZ:function(cP,Y){var k=this;var fE=cP.closest(`p`);var fI=fE.find(`.hidec`);var fM=fE.find(`.morec`);var fT=fE.find(`.showc`);var fH=cP.closest(`div`).find(`table,.•fg`);var fC=cP.closest(`div`).find(`.•kz,.•kO`);var fO=cP.closest(`div`).find(`.•kt`);var dO=`fctx_${cP.closest('span').attr('fct')}`;var hg=Y==undefined;if(hg){if(cs.isSet(dO)){Y=cs.get(dO)}else{Y=1}}var dJ=dO==`fctx_all`;if(dJ && !hg){cP.closest(`div`).find(`div.•kp span[fct]`).each(function(){k.cZ($(this),Y)})}cs.set(dO,Y);if(Y==0){fI.show();fM.hide();fT.hide();if(!dJ){fO.show();fH.hide();fC.hide()}}else if(Y==1){fI.hide();fM.show();fT.hide();if(!dJ){fO.show();fH.hide();fC.show()}}else{fI.hide();fM.hide();fT.show();if(!dJ){fO.hide();fH.show();fC.hide()}}},G:function(b){var k=this;var q=this.c.m[b];var jE=this.c.C.cA(`X`).m[b];this.gD[b]=q.find(`#fstats_${b}`);this.fV[b]=jE.find(`#table_${b}`);var fJ=` details; click to change level of details`;var jv=`<a class="showc fa fa-fw fa-list-ul" href="#" title="full${fJ}"></a><a class="morec fa fa-fw fa-align-left" href="#" title="condensed${fJ}"></a><a class="hidec fa fa-fw fa-minus" href="#" title="hidden${fJ}"></a>`;q.addClass(`•gg`);q.find(`span[fct]`).each(function(){$(this).html(`${jv}&nbsp`);k.cZ($(this))});q.find(`.hidec`).click(function(g){g.preventDefault();k.cZ($(this),1)});q.find(`.morec`).click(function(g){g.preventDefault();k.cZ($(this),2)});q.find(`.showc`).click(function(g){g.preventDefault();k.cZ($(this),0)})},h:function(b){this.fV[b].find(`tr[id]`).hide();var jI=this.c.C.cA(`X`);var H=jI.H[b];var cr=this.fG[b];this.D[b]=[];for(var V in cr){var n=cr[V].P;n.D[b]=[]}H.forEach(function(cq,j){var cG=true;var dr=null;var dl=false;for(var V in cr){if(!dl){var n=cr[V].P;var hy=n.cG(b,cq[0]);if(!hy){cG=false;if(dr==null){dr=n}else{dl=true}}}}if(!dl){if(cG){this.D[b].push(cq[0]);this.fV[b].find(`tr[id="r${cq[0]}"]`).show()}if(dr !=null){dr.D[b].push(cq[0])}else{for(var V in cr){var n=cr[V].P;n.D[b].push(cq[0])}}}},this);for(var V in cr){var n=cr[V].P;n.hv(b)}this.gD[b].html(`${this.D[b].length} of ${H.length}`)}};function fl(c){this.c=c};fl.prototype={cg:function(b){var x=``;x +=`<table id="table_${b}">`;if(b==`contrib`){this.c.H[b].forEach(function(L){x +=`<tr id="r${L[0]}"><td><a href="#" rid="${L[0]}">${L[1]}</a></td></tr>`})}else if(b==`country`){this.c.H[b].forEach(function(L){jB=(L[3]==1)?`dariah`:``;x +=`<tr id="r${L[0]}"><td class="•kq">${L[1]}<td><td class="•kN">${L[2]}<td><td class="•kv">${jB}</td><td class="•hL">${L[4]}</td><td class="•hL">${L[5]}</td></tr>`})}else if(b==`type` || b==`tadiraha` || b==`tadiraho` || b==`tadiraht`){this.c.H[b].forEach(function(L){x +=`<tr id="r${L[0]}"><td class="•kx">${L[1]}<td></tr>`})}x +=`</table>`;this.c.m[b].html(x)},Q:function(b){return this.c.l.W(`list`)==b},R:function(b){this.cg(b)},G:function(b){},h:function(b){}};function fk(c){this.c=c;this.cf={};this.dL={}};fk.prototype={cg:function(b){this.c.m[b].html(`<a class="•gd" href="#">${this.c.l.fS('list', b, 'cv')}</a> `)},fp:function(b){this.dL[b].click(function(g){g.preventDefault();this.c.l.ct(`list`,b)}.bind(this))},hT:function(b){return this.c.l.W(`list`)==b},Q:function(b){return true},R:function(b){this.cg(b);this.cf[b]=this.c.m[b];this.cf[b].addClass(`•gc`);this.dL[b]=this.c.m[b].find(`a`)},G:function(b){this.fp(b)},h:function(b){if(this.hT(b)){this.dL[b].addClass(`•w`);this.cf[b].addClass(`•w`)}else{this.dL[b].removeClass(`•w`);this.cf[b].removeClass(`•w`)}}};function gn(c){this.c=c};gn.prototype={Q:function(b){return true},R:function(b){var x=`
<p id="•fY">Cite</p>
<table align="center">
    <tr>
        <td class="•fZ clr">
            <a lnk="" href="#" id="•hG" title="link to page content and appearance (markdown)" class="ctrl fa fa-level-down fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hE" title="link to page content and appearance (html)" class="ctrl fa fa-external-link-square fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hF" title="link to page content (html)" class="ctrl fa fa-external-link fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•gb" title="copy page content" class="ctrl fa fa-file-text-o fa-lg fa-fw"></a>
        </td>
    </tr>
    <tr>
        <th class="•fZ" width="60px">page view</th>
    </tr>
    <tr class="•kL">
        <td class="•fZ"><span id="•kB" class="ctrl fa fa-chevron-right fa-fw"></span><span id="•kA" class="•hJ">share link to this page with or without view settings.</span></td>
    </tr>
</table>
<p id="•hC"></p>
<p id="•hD"></p>
`;this.c.m[b].html(x)},G:function(b){var k=this;var q=this.c.m[b];var dW=$(`#self_link`);dW.hide();q.addClass(`•gk`);q.find(`.•hJ`).hide();q.find(`#•hG,#•hE,#•hF,#•kM`).click(function(g){g.preventDefault();window.prompt(`Press <Cmd-C> and then <Enter> to copy link on clipboard`,$(this).attr(`lnk`))});q.find(`#•gb`).click(function(g){g.preventDefault();var dK=`middle`;var df=app_url_cite+k.c.l.dN(true);dW.show();dW.attr(`href`,df);jT(dK)});q.find(`#•kB`).click(function(g){g.preventDefault();kd($(this),$(`#•kA`))});q.click(function(g){g.preventDefault();var df=app_url_cite+k.c.l.dN(true);var jl=app_url_cite+k.c.l.dN(false);$(`#•fY`).hide();$(`#•hC`).html(``);$(`#•hD`).html(``);$(`.•fZ.clr,#•hC,#•hD`).removeClass(`error warning good special`);var hr=dM($(`title`).text());$(`#•hG`).attr(`lnk`,`[${hr}](${df})`);$(`#•hE`).attr(`lnk`,df);$(`#•hF`).attr(`lnk`,jl);$(`#•gb`).attr(`lnk`,df);$(`#•gb`).attr(`tit`,hr);$(this).animate({height:`100px`,width:`200px`,opacity:0.95},300)});q.mouseleave(function(){dW.hide();$(`#•fY`).show();q.animate({height:`20px`,width:`40px`,opacity:.7},300);return false})},h:function(b){}};function fj(d,cD,C){this.d=d;this.C=C;this.cD=cD;this.E=cD.E;this.cL={};for(var b in this.E){this.cL[b]={};for(var cT in this.C.dX){this.cL[b][cT]=true}}this.s={};this.m={};this.l=this.C.l;this.H={};this.r={};this.P=new cD.y(this)};fj.prototype={hh:function(b,v){return !this.cL[b][v].state ||(this.cL[b][v].state()==`rejected`)},hP:function(b,v,dR){var hd=this[dR].bind(this,b);var kb=this.C.jy(this.d,v);var hq=[];kb.forEach(function(dY){var dT=dY[0];var fQ=dY[1];var hn=this.C.cA(dT);if(hn.cR(b)){hq.push(hn.cL[b][fQ])}},this);this.cL[b][v]=$.when.apply($,hq).then(hd)},cN:function(b,v,dR){if(v in this.C.dX){if(!this.C.dX[v]|| this.hh(b,v)){this.hP(b,v,dR)}}},cR:function(b){return(b in this.E)},gI:function(b,jK){if(this.cR(b)){if(b in this.m){if(jK){this.m[b].show()}else{this.m[b].hide()}}}},hR:function(b){var J=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.cD.J}_${b}`)+`.json`;this.s[b].s(`fetching data ...`);var jR=this.hU.bind(this,b);return $.ajax({type:`POST`,url:J,contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cB){jR(cB)})},hU:function(b,cB){this.s[b].gL();cB.msgs.forEach(function(jG){this.s[b].s(jG)},this);if(cB.good){this.H[b]=cB.data;if(`relvals` in cB){this.r[b]=cB.relvals}}this.P.R(b)},jg:function(b){this.hQ=this.C.jz(this.cD.U,this.E);this.m[b]=$(`#${this.d}_${b}`);if(this.m[b].length==0){var dk=this.hQ[b];dk.append(`<div id="msg_${this.d}_${b}"></div>`);dk.append(`<div id="${this.d}_${b}" class="•kp"></div>`);this.m[b]=$(`#${this.d}_${b}`)}this.s[b]=new dw(`msg_${this.d}_${b}`);if(this.cD.J !=null){return this.hR(b)}else{this.P.R(b)}},jh:function(b){this.P.G(b)},jj:function(b){this.gI(b,true);this.P.h(b)},R:function(b){if(this.cR(b)&& this.P.Q(b)){this.cN(b,`R`,`jg`)}},G:function(b){if(this.cR(b)&& this.P.Q(b)){this.cN(b,`G`,`jh`)}},h:function(b){if(this.cR(b)&& this.P.Q(b)){this.cN(b,`h`,`jj`)}else{this.gI(b,false)}}};function dx(){this.d=`page`;this.s=new dw(`msg_${this.d}`);this.l=new gp(this);this.dX={R:true,G:true,h:false};this.ht={G:`R`,h:`G`};var dQ=this.l.jA(`list`);var dh={contrib:1};var jw={'':1};this.fn={jU:{U:`body`,E:jw,J:null,y:gn},gM:{U:`left`,E:dQ,J:null,y:fk},X:{U:`middle`,E:dQ,J:`list`,y:fl},n:{U:`gM`,E:dQ,J:null,y:gl},cQ:{U:`n`,E:dQ,J:null,y:gm},cO:{U:`n`,E:dh,J:`country`,y:N},dj:{U:`n`,E:dh,J:`type`,y:dv},dp:{U:`n`,E:dh,J:`tadiraha`,y:dy},cU:{U:`n`,E:dh,J:`tadiraho`,y:dz},dq:{U:`n`,E:dh,J:`tadiraht`,y:dA}},this.dC={R:{n:{gM:1,X:1},cQ:{n:1},cO:{n:1,cQ:1},dj:{n:1,cO:1},dp:{n:1,dj:1},cU:{n:1,dp:1},dq:{n:1,cU:1},jU:{n:1,X:1}},G:{n:{cQ:1,cO:1,dj:1,dp:1,cU:1,dq:1},cQ:{X:1},cO:{X:1},dj:{X:1},dp:{X:1},cU:{X:1},dq:{X:1}},h:{n:{cQ:1,cO:1,dj:1,dp:1,cU:1,dq:1}}};this.fr={},this.cc={};for(var d in this.fn){if(d in this.fr){continue}var c=new fj(d,this.fn[d],this);c.cM={};this.cc[d]=c}for(var d in this.cc){var jm=this.cc[d];var gP=this.fn[d].U;if(gP in this.cc){var jQ=this.cc[gP];jQ.cM[d]=jm}}this.hV();this.jb(80);History.Adapter.bind(window,`statechange`,this.l.h())};dx.prototype={jb(jX){var kl=`${window.innerHeight - jX}px`;for(var kk in{'middle':1,'left':1,'right':1}){$(`#${kk}`).css(`height`,kl)}},hV(){var dt=[];var ds={};var cV={};for(var d in this.cc){for(var v in this.dX){dt.push(`${d}-${v}`)}}function gJ(cl,cd){if(!(cl in ds)){ds[cl]={}}if(!(cd in cV)){cV[cd]={}}ds[cl][cd]=true;cV[cd][cl]=true}for(var hj in this.ht){var fQ=this.ht[hj];for(var d in this.cc){gJ(`${d}-${fQ}`,`${d}-${hj}`)}}for(var v in this.dC){for(var fN in this.dC[v]){if(fN in this.fr){continue}for(var dT in this.dC[v][fN]){if(dT in this.fr){continue}gJ(`${dT}-${v}`,`${fN}-${v}`)}}}var cj=0;var cE=[];var cW={};while(cj <=dt.length){cE.push({});if(cj==0){dt.forEach(function(ck){if(!(ck in cV)){cE[cj][ck]=1}})}else{for(var cl in cW){if(cl in ds){for(var cd in ds[cl]){if(!(cd in cW)){var gX=true;for(var jM in cV[cd]){if(!(jM in cW)){gX=false;break}}if(gX){cE[cj][cd]=1}}}}}}if(!Object.keys(cE[cj]).length){break}for(var ck in cE[cj]){cW[ck]=1}cj++}this.fy=[];this.gE={};if(Object.keys(cW).length !=dt.length){var gN=[];dt.forEach(function(ck){if(!(ck in cW)){gN.push(ck)}})}else{cE.forEach(function(jJ,cj){for(var ck in jJ){this.fy.push(ck)}},this);this.gE=cV}},cA:function(d){return this.cc[d]},jz:function(d,E){var m={};if(d in this.cc){m=this.cc[d].m}else{var jk=(d==`body`)?$(`body`):$(`#${d}`);for(var b in E){m[b]=jk}}return m},jy:function(d,v){var hp=[];var cd=`${d}-${v}`;for(var cl in(this.gE[cd]||{})){hp.push(cl.split(`-`))}return hp},h:function(){this.fy.forEach(function(dY){var hw=dY.split(`-`);var d=hw[0];var v=hw[1];var c=this.cA(d);for(var b in c.E){c[v](b)}},this)}};$(function(){new dx().h()});