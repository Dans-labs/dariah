var dl=(function(){`use strict`;var jq={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(cF){return cF.replace(/[&<>]/g,function(cz){return jq[cz]})}}());var hP={dT:function(d){return this.hn()[d]},hn:function(fb){var j,dT,hp,hw,Z;Z={};if(!fb){fb=window.location.search}if(fb.indexOf("?")===-1){return{}}hw=fb.slice(1);hp=hw.split("&");hp.forEach(function(jO,j){dT=jO.split("=");Z[dT[0]]=dT[1]});return Z}};var fP=hP.hn();var jF=$.initNamespaceStorage(`req`);var cs=jF.localStorage;function gQ(){if(document.selection){document.selection.empty()}else if(window.getSelection){window.getSelection().removeAllRanges()}};function jT(dM){gQ();if(document.selection){var dp=document.body.createTextRange();dp.moveToElementText(document.getElementById(dM));dp.select()}else if(window.getSelection){var dp=document.createRange();dp.selectNode(document.getElementById(dM));window.getSelection().addRange(dp)}};function kc(cd,gS,gU){var jX=(gS==undefined)?cd.closest('div').find('.•hM'):gS;jX.toggle();if(gU !=undefined){gU(cd)}var fU,fM;if(cd.hasClass('fa-chevron-right')){fU='fa-chevron-right';fM='fa-chevron-down'}else{fU='fa-chevron-down';fM='fa-chevron-right'}cd.removeClass(fU);cd.addClass(fM)};function gM(fB,jV,cF){return(cF.length > fB)?cF.replace(/[^ -]+/g,function(cW){return cW.substr(0,jV)}):cF};function dz(dj,jL){this.cK=$(`#${dj}`);this.gE=$(`#trash_${dj}`);this.gF=this.gE.closest(`p`);this.gE.click(function(g){g.preventDefault();this.gL()}.bind(this));this.gs();this.gz=jL};dz.prototype={gs:function(){this.cK.hide();this.gF.hide()},jf:function(){this.cK.show();if(this.cK.html()!=``){this.gF.show()}},gL:function(){this.cK.html(``);if(this.gz !=undefined){this.gz()}this.gs()},v:function(cF,fI){if(fI==undefined){fI=`info`}var jH=this.cK.html();this.cK.html(`${jH}<p class="${fI}">${cF}</p>`);this.jf()}};function gm(C){this.cx={};this.C=C;this.v=C.v;this.hU();this.gp()};gm.prototype={cy:{list:{I:true,z:`string`,A:{contrib:1,country:1,type:1,tadiraha:1,tadiraho:1,tadiraht:1},B:`contrib`},flt_contrib:{I:false,z:`string`,A:null,B:``},flt_country:{I:false,z:`string`,A:null,B:``},flt_type:{I:false,z:`string`,A:null,B:``},flt_tadiraha:{I:false,z:`string`,A:null,B:``},flt_tadiraho:{I:false,z:`string`,A:null,B:``},flt_tadiraht:{I:false,z:`string`,A:null,B:``},rel_country_contrib:{I:false,z:`string`,A:null,B:``},rel_type_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraha_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraho_contrib:{I:false,z:`string`,A:null,B:``},rel_tadiraht_contrib:{I:false,z:`string`,A:null,B:``},id:{I:true,z:`integer`,dQ:{hh:-1,hf:1000000},B:0},sort:{I:false,z:`boolean`,A:{v:true,x:false},B:true}},ft:{list:{contrib:{cv:`contribution`,cS:`contributions`},country:{cv:`country`,cS:`countries`},type:{cv:`type`,cS:`types`},tadiraha:{cv:`tadirah activity`,cS:`tadirah activities`},tadiraho:{cv:`tadirah object`,cS:`tadirah objects`},tadiraht:{cv:`tadirah technique`,cS:`tadirah techniques`}}},jg:function(d,p){var K,kG;if(d in this.cy){var w=this.cy[d];if(w.z==`string`){if(w.A){if(p in w.A){K=p}else{K=w.B;this.v.v(`illegal string value for ${d}: "${p}" is replaced by "${w.B}"`,`warning`)}}else{K=p}}else if(w.z==`integer`){if(/^(\-|\+)?[0-9]+$/.test(p)){K=Number(p)}else{K=w.B;this.v.v(`not a number value for ${d}: "${p}" is replaced by "${w.B}"`,`warning`)}if(K < w.dQ.hh){this.v.v(`number to small for ${d}: "${K}" is replaced by "${w.dQ.hh}"`,`warning`)}if(K > w.dQ.hf){this.v.v(`number to big for ${d}: "${K}" is replaced by "${w.dQ.hf}"`,`warning`)}}else if(w.z==`boolean`){if(p in w.A){K=w.A[p]}else{K=w.B;this.v.v(`illegal boolean value for ${d}: "${p}" is replaced by "${w.B}"`,`warning`)}}}else{K=null;this.v.v(`unknown parameter: ${d}=${p}`,`warning`)}return K},dO:function(js){fV=[];for(var d in this.cx){var p=this.cx[d];var w=this.cy[d];if(js || w.I){if(w.z==`string` || w.z==`integer`){fV.push(`${d}=${p}`)}else if(w.z==`boolean`){for(var hC in w.A){if(w.A[hC]==p){fV.push(`${d}=${hC}`)}}}}}return fV.join(`&`)},hU:function(){for(var d in fP){if(!(d in this.cy)){this.v.v(`unknown parameter: ${d}=${p}`,`warning`)}}for(var d in this.cy){var p=null;if(d in fP){var jS=fP[d];p=this.jg(d,jS);cs.set(d,p)}else if(cs.isSet(d)){p=cs.get(d)}else{p=this.cy[d].B;cs.set(d,p)}this.cx[d]=p}},gp:function(kH,kJ){var kb=`DARIAH contribution tool`;var jY=`${app_url}?${this.dO(false)}`;History.pushState(this.cx,kb,jY)},ct:function(d,p){this.cx[d]=p;cs.set(d,p);this.gp()},W:function(d){return this.cx[d]},jA:function(d){return this.cy[d].A},fQ:function(d,p,Y){var Z=p;var kF=(Y==undefined)?`cv`:Y;if(this.ft[d]!=undefined && this.ft[d][p]!=undefined){Z=this.ft[d][p][Y]}return Z},h:function(){return function(){var l=History.getState();if(l && l.data){this.cx=l.data;this.C.h()}}.bind(this)}};function S(c,z,jr,fB){this.c=c;this.D={};this.dH={};this.fq={};this.fs={};this.dE={};this.O={};this.cp={};this.T={};this.dc={};this.db={};this.cb={cm:`-`,d:`-none`};this.F=z;this.hQ=jr || 2;this.gr=fB || 14};S.prototype={cf:function(b){var kf=this.c.l.fQ(`list`,this.F,`cv`);var kd=this.c.l.fQ(`list`,this.F,`cS`);var t=``;t +=this.gB(b);t +=`<div><p class="•hL"><span fct="${this.c.d}-${b}"></span> By ${kf}</p>`;t +=`<p class="•km"><span rv="_all" class="•cH"></span> <a rv="_all" href="#" class="•hN">all ${kd}</a></p>
<table class="•kx" id="list-${this.F}-vals_${b}"><tr>`;this.cp[b].forEach(function(f,j,cg){if((j % this.hQ==0)&&(j > 0)&&(j < cg.length)){t +=`</tr><tr>`}var dq=this.T[b][f];t +=`<td><span rv="${f}" class="•cH"></span></td><td><a rv="${f}" title="${dl(dq)}" href="#" class="•fd">${dl(gM(this.gr, 6,dq))}</a></td>`},this);t +=`</tr></table>`;t +=`<p class="•ky" id="list2-${this.F}-vals_${b}">`;this.cp[b].forEach(function(f,j,cg){var dq=this.T[b][f];t +=`<a href="#" rv="${f}" title="${dl(dq)}" class="•gg">${dl(gM(this.gr, 5,dq))}</a> `},this);t +=`</p>`;t +=`</div>`;this.c.m[b].html(t)},fn:function(b){var q=this.c.m[b];this.dH[b]=q.find(`#list-${this.F}-vals_${b}`);this.fq[b]=q.find(`#list2-${this.F}-vals_${b}`);var k=this;this.dH[b].find(`.•fd`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var M=k.cZ(b,k.c.l.W(`rel_${k.F}_${b}`));M[f]=(f in M)?!M[f]:true;k.c.l.ct(`rel_${k.F}_${b}`,k.dK(M));q.find(`.•cX`).removeClass(`•cX`);$(this).addClass(`•cX`)});this.fq[b].find(`.•gg`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var M=k.cZ(b,k.c.l.W(`rel_${k.F}_${b}`));M[f]=(f in M)?!M[f]:true;k.c.l.ct(`rel_${k.F}_${b}`,k.dK(M));$(this).closest(`div`).find(`.morec`).click();var hd=k.dH[b].find(`a[rv="${f}"]`);q.find(`.•cX`).removeClass(`•cX`);hd.addClass(`•cX`);$(`#left`)[0].scrollTop=50;hd[0].scrollIntoView({behavior:`smooth`,alignToTop:`true`})});this.dE[b]=this.c.m[b].find(`[rv="_all"]`);this.dE[b].click(function(g){g.preventDefault();var jD=$(this).hasClass(`•x`);if(jD){k.c.l.ct(`rel_${k.F}_${b}`,k.dK(k.db[b]))}else{k.c.l.ct(`rel_${k.F}_${b}`,k.dK(k.dc[b]))}})},jb:function(b,s){var gJ=true;for(var f in this.T[b]){var gV=this.dH[b].find(`[rv="${f}"]`);var gW=this.fq[b].find(`[rv="${f}"]`);if(f in s && s[f]){gV.addClass(`•x`);gW.addClass(`•x`)}else{gV.removeClass(`•x`);gW.removeClass(`•x`);gJ=false}}if(gJ){this.dE[b].addClass(`•x`)}else{this.dE[b].removeClass(`•x`)}},gn:function(cg){return cg.join(',')},dK:function(cC){var cg=[];for(var cW in cC){if(cC[cW]){cg.push(cW)}}return cg.join(',')},cZ:function(b,cT){var cC={};if(cT !==null && cT !=undefined && cT !=''){var cg=cT.split(',');cg.forEach(function(cG){cC[cG]=true})}for(var f in this.T[b]){if(!(f in cC)){cC[f]=false}}return cC},hy:function(b){this.O[b]={};for(var f in this.T[b]){this.O[b][f]=0}var dr=this.c.H[b];for(var cW in this.D[b]){var j=this.D[b][cW];var hb=false;for(var f in dr[j]){this.O[b][f]+=1;hb=true}if(!hb){this.O[b][this.cb.cm]+=1}}for(var f in this.O[b]){this.c.m[b].find(`span[rv="${f}"].•cH`).html(this.O[b][f])}this.c.m[b].find(`span[rv="_all"].•cH`).html(this.D[b].length);this.gw(b)},cG:function(b,j){var dr=this.c.H[b];var dU=this.cZ(b,this.fs[b]);if((j in dr)&&(Object.keys(dr[j]).length !=0)){for(var f in dr[j]){if((f in dU)&& dU[f]){return true}}}else{if((this.cb.cm in dU)&&(dU[this.cb.cm])){return true}}return false},Q:function(b){return(this.c.l.W(`list`)==b)},R:function(b){this.cp[b]=[];this.T[b]={};this.db[b]={};this.dc[b]={};this.gA(b);this.gx(b);this.cp[b].push(this.cb.cm);this.T[b][this.cb.cm]=this.cb.d;this.db[b][this.cb.cm]=false;this.dc[b][this.cb.cm]=true;this.cf(b)},G:function(b){this.gt(b);this.fn(b)},h:function(b){this.fs[b]=this.c.l.W(`rel_${this.F}_${b}`);var s=this.cZ(b,this.fs[b]);this.gv(b,s);this.jb(b,s)},gA:function(b){var s=this.c.s[b];for(var j in s){var f=s[j];this.db[b][j]=false;this.dc[b][j]=true;this.cp[b].push(j);this.T[b][j]=f}this.cp[b].sort(function(cz,df){return(s[cz]< s[df])?-1:(s[cz]> s[df])?1:0})},gx:function(b){},gB:function(b){return ``},gt:function(b){},gv:function(b){},gw:function(b){}};function dy(c){S.call(this,c,`type`)};dy.prototype=Object.create(S.prototype);dy.prototype.constructor=dy;function dC(c){S.call(this,c,`tadiraho`)};dC.prototype=Object.create(S.prototype);dC.prototype.constructor=dC;function dB(c){S.call(this,c,`tadiraha`)};dB.prototype=Object.create(S.prototype);dB.prototype.constructor=dB;function dD(c){S.call(this,c,`tadiraht`,1,30)};dD.prototype=Object.create(S.prototype);dD.prototype.constructor=dD;function N(c){S.call(this,c,`country`);this.cM={};this.cL={};this.fr={};this.dI={};this.gy={'-':true,CY:true,KS:true,TR:true,MC:true,GE:true}};N.prototype=Object.create(S.prototype);N.prototype.constructor=N;N.prototype.gB=function(b){return `<div id="map-europe_${b}" class="•kv"><p class="•fh"><a class="fa fa-arrows" href="#" title="zoom to fit all countries"/></p></div>`};N.prototype.gt=function(b){var k=this;var q=this.c.m[b];this.cL[b]=q.find(`#map-europe_${b}`);var hc=this.cL[b].width()*0.6;this.cL[b].width(`100%`);this.cL[b].height(hc);this.cL[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,markersSelectable:true,regionsSelectableOne:false,markersSelectableOne:false,markerStyle:{initial:{fill:`#008800`,'fill-opacity':0.2,stroke:`none`,'stroke-width':0,'stroke-opacity':0.2,'r':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':1,'stroke-opacity':1},selected:{fill:`#008800`,'fill-opacity':1},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{fill:`#dd8844`,'fill-opacity':1},selectedHover:{}},markers:this.fr[b],series:{markers:[{values:{},scale:[0,20],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'jN':`#ffffff`,'jC':`#ffddbb`},attribute:`fill`,values:this.dI[b]}]},onRegionTipShow:function(g,fD,f){fD.html(`${f}: ${(f in this.O[b])?this.O[b][f]:'not in DARIAH'}`)}.bind(this),onMarkerTipShow:function(g,fD,f){fD.html(`${f}: ${(f in this.O[b])?this.O[b][f]:'not in DARIAH'}`)}.bind(this),onRegionClick:function(g,f){if(!(f in this.T[b])){g.preventDefault()}}.bind(this),onMarkerClick:function(g,f){if(!(f in this.T[b])){g.preventDefault()}}.bind(this),onRegionSelected:function(g,f,j,M){if(this.fz){this.c.l.ct(`rel_${this.F}_${b}`,this.gn(M)+this.gG(b))}}.bind(this),onMarkerSelected:function(g,f,j,M){if(this.fz){this.c.l.ct(`rel_${this.F}_${b}`,this.gn(M)+this.gG(b))}}.bind(this)});var hE=q.find(`p.•fh`);hE.css(`top`,`${hc-20}px`);hE.css(`left`,`10px`);var kl=q.find(`p.•fh a`);kl.click(function(g){g.preventDefault();k.cM[b].setFocus({regions:[`GB`,`GR`]})});this.cM[b]=this.cL[b].vectorMap('get','mapObject');this.cM[b].setFocus({regions:[`GB`,`GR`]})};N.prototype.gG=function(b){var Z=[];var hA=this.cZ(b,this.c.l.W(`rel_${this.F}_${b}`));var gT=true;for(var f in this.gy){if(f in hA && hA[f]){Z.push(f);gT=false}}return gT?``:(`,`+Z.join(','))};N.prototype.gv=function(b,s){this.fz=false;var fJ={};for(var f in s){if(!(f in this.gy)&& f !=this.cb.cm){fJ[f]=s[f]}}this.cM[b].setSelectedRegions(fJ);this.cM[b].setSelectedMarkers(fJ);this.fz=true};N.prototype.gw=function(b){var dZ=this.D[b].length;if(dZ==0){dZ=1}var hD={};for(var f in this.O[b]){if(f !=this.cb.cm){var hq=100 * this.O[b][f]/ dZ;hD[f]=(dZ < 10)?hq:(10*Math.sqrt(hq))}}this.cM[b].series.markers[0].setValues(hD)};N.prototype.gA=function(b){};N.prototype.gx=function(b){this.fr[b]={};this.dI[b]={};var s=this.c.s[b];for(var j in s){var f=s[j];if(f[1]){this.db[b][j]=false;this.dc[b][j]=true;this.cp[b].push(j);this.T[b][j]=f[0];if(f.length > 3){this.fr[b][j]={latLng:[f[2],f[3]],d:f[0]}}this.dI[b][j]='jC'}else{this.dI[b][j]='jN'}}this.cp[b].sort(function(cz,df){return(s[cz]< s[df])?-1:(s[cz][0]> s[df][0])?1:0})};function gk(c){this.c=c;this.fv={};this.cn={};this.fp={};this.fm={};this.gq={};this.dJ={};this.dF={};this.fx={};this.dG={};this.D={}};gk.prototype={cf:function(b){var t=`
<div>
    <p class="•hL"><span fct="${this.c.d}-${b}"></span> By full text search
        <a href="#" title="modify full text filter" id="flt2_${b}" class="•ks •fd •x •gf"></a>
        <a href="#" class="•fc fa fa-close •kr" id="clearf_${b}"></a>
    </p>
    <div id="fltw_${b}">
        <p id="•kq${b}" class="•fg •fc •ff ui-widget">
            <input id="flt_${b}" class="•fg •gf"/>
            <span •ff class="•cH" id="stats_${b}"></span>
        </p>
        <div id="autoc_${b}" style="display: none;">here ${b}</div>
    </div>
</div>`;this.c.m[b].html(t)},jc:function(b){var cw=this.c.l.W(`flt_${b}`);this.fp[b].html(cw);this.cn[b].val(cw);this.cn[b].autocomplete(`search`,cw)},hY:function(b){return function(kD,kh){this.dG[b]={};kh.content.forEach(function(kg,j){this.dG[b][kg.value]=1},this);if(!(this.fx[b])){var cw=this.cn[b].val();this.c.l.ct(`flt_${b}`,cw)}}.bind(this)},hZ:function(b){this.dF[b].click(function(g){g.preventDefault();this.cn[b].val(``);this.cn[b].autocomplete(`search`,``)}.bind(this))},hy:function(b){var fS;if(this.cn[b].val()==``){fS=``;this.dJ[b].removeClass(`•x`)}else{fS=`${this.n.D[b].length} of `;this.dJ[b].addClass(`•x`)}this.dJ[b].html(`${fS}${this.D[b].length}`)},cG:function(b,j){return(j in this.dG[b])},Q:function(b){return(this.c.l.W(`list`)==b)},R:function(b){this.cf(b)},G:function(b){if(!this.n){this.n=this.c.C.cA(`n`).P}var H=this.c.C.cA(`X`).H[b];this.fv[b]=[];H.forEach(function(cq,j){this.fv[b].push({label:cq[1],value:`${cq[0]}`})},this);this.dG[b]={};this.D[b]=[];var q=this.c.m[b];var fy=q.find(`#fltw_${b}`);var gX=$(`#flt_${b}`);this.cn[b]=gX;var gY=$(`#flt2_${b}`);this.fp[b]=gY;this.fm[b]=fy.find(`#•kq${b}`);this.gq[b]=fy.find(`#autoc_${b}`);this.dJ[b]=fy.find(`#stats_${b}`);this.dF[b]=q.find(`#clearf_${b}`);this.cn[b].autocomplete({appendTo:this.gq[b],source:this.fv[b],response:this.hY(b),minLength:0});gY.click(function(g){g.preventDefault();$(this).closest(`div`).find(`.morec`).click();gX[0].focus()});this.fx[b]=true;this.hZ(b);this.jc(b);this.fx[b]=false},h:function(b){var cw=this.c.l.W(`flt_${b}`);if(cw==``){this.fm[b].removeClass(`•x`);this.dF[b].hide()}else{this.fm[b].addClass(`•x`);this.dF[b].show()}this.fp[b].html(cw)}};function gj(c){this.c=c;this.gC={};this.H={};this.fT={};this.D={};this.fE={}};gj.prototype={cf:function(b){var t=``;t +=`<p><span fct="all"></span>Filtering <span id="fstats_${b}"></span></p>`;this.c.m[b].html(t)},Q:function(b){return this.c.l.W(`list`)==b},R:function(b){var cO=this.c.cO;this.fE[b]={};for(var V in cO){var jx=cO[V];if(jx.cR(b)){this.fE[b][V]=cO[V]}}this.cf(b)},cY:function(cQ,Y){var k=this;var fC=cQ.closest(`p`);var fG=fC.find(`.hidec`);var fK=fC.find(`.morec`);var fR=fC.find(`.showc`);var fF=cQ.closest(`div`).find(`table,.•fg`);var fA=cQ.closest(`div`).find(`.•ky,.•kN`);var fL=cQ.closest(`div`).find(`.•ks`);var dP=`fctx_${cQ.closest('span').attr('fct')}`;var hj=Y==undefined;if(hj){if(cs.isSet(dP)){Y=cs.get(dP)}else{Y=1}}var dL=dP==`fctx_all`;if(dL && !hj){cQ.closest(`div`).find(`div.•kn span[fct]`).each(function(){k.cY($(this),Y)})}cs.set(dP,Y);if(Y==0){fG.show();fK.hide();fR.hide();if(!dL){fL.show();fF.hide();fA.hide()}}else if(Y==1){fG.hide();fK.show();fR.hide();if(!dL){fL.show();fF.hide();fA.show()}}else{fG.hide();fK.hide();fR.show();if(!dL){fL.hide();fF.show();fA.hide()}}},G:function(b){var k=this;var q=this.c.m[b];var jE=this.c.C.cA(`X`).m[b];this.gC[b]=q.find(`#fstats_${b}`);this.fT[b]=jE.find(`#table_${b}`);var fH=` details; click to change level of details`;var jv=`<a class="showc fa fa-list-ul" href="#" title="full${fH}"></a><a class="morec fa fa-align-left" href="#" title="condensed${fH}"></a><a class="hidec fa fa-minus" href="#" title="hidden${fH}"></a>`;q.addClass(`•gd`);q.find(`span[fct]`).each(function(){$(this).html(`${jv}&nbsp`);k.cY($(this))});q.find(`.hidec`).click(function(g){g.preventDefault();k.cY($(this),1)});q.find(`.morec`).click(function(g){g.preventDefault();k.cY($(this),2)});q.find(`.showc`).click(function(g){g.preventDefault();k.cY($(this),0)})},h:function(b){this.fT[b].find(`tr[id]`).hide();var jI=this.c.C.cA(`X`);var H=jI.H[b];var cr=this.fE[b];this.D[b]=[];for(var V in cr){var n=cr[V].P;n.D[b]=[]}H.forEach(function(cq,j){var cG=true;var dv=null;var dk=false;for(var V in cr){if(!dk){var n=cr[V].P;var hB=n.cG(b,cq[0]);if(!hB){cG=false;if(dv==null){dv=n}else{dk=true}}}}if(!dk){if(cG){this.D[b].push(cq[0]);this.fT[b].find(`tr[id="r${cq[0]}"]`).show()}if(dv !=null){dv.D[b].push(cq[0])}else{for(var V in cr){var n=cr[V].P;n.D[b].push(cq[0])}}}},this);for(var V in cr){var n=cr[V].P;n.hy(b)}this.gC[b].html(`${this.D[b].length} of ${H.length}`)}};function fl(c){this.c=c};fl.prototype={cf:function(b){var t=``;t +=`<table id="table_${b}">`;if(b==`contrib`){this.c.H[b].forEach(function(L){t +=`<tr id="r${L[0]}"><td><a href="#" rid="${L[0]}">${L[1]}</a></td></tr>`})}else if(b==`country`){this.c.H[b].forEach(function(L){jB=(L[3]==1)?`dariah`:``;t +=`<tr id="r${L[0]}"><td class="•kp">${L[1]}<td><td class="•kM">${L[2]}<td><td class="•kt">${jB}</td><td class="•hO">${L[4]}</td><td class="•hO">${L[5]}</td></tr>`})}else if(b==`type` || b==`tadiraha` || b==`tadiraho` || b==`tadiraht`){this.c.H[b].forEach(function(L){t +=`<tr id="r${L[0]}"><td class="•kw">${L[1]}<td></tr>`})}t +=`</table>`;this.c.m[b].html(t)},Q:function(b){return this.c.l.W(`list`)==b},R:function(b){this.cf(b)},G:function(b){},h:function(b){}};function fk(c){this.c=c;this.cd={};this.dN={}};fk.prototype={cf:function(b){this.c.m[b].html(`<a class="•gb" href="#">${this.c.l.fQ('list', b, 'cv')}</a> `)},fn:function(b){this.dN[b].click(function(g){g.preventDefault();this.c.l.ct(`list`,b)}.bind(this))},hV:function(b){return this.c.l.W(`list`)==b},Q:function(b){return true},R:function(b){this.cf(b);this.cd[b]=this.c.m[b];this.cd[b].addClass(`•fZ`);this.dN[b]=this.c.m[b].find(`a`)},G:function(b){this.fn(b)},h:function(b){if(this.hV(b)){this.dN[b].addClass(`•x`);this.cd[b].addClass(`•x`)}else{this.dN[b].removeClass(`•x`);this.cd[b].removeClass(`•x`)}}};function gl(c){this.c=c};gl.prototype={Q:function(b){return true},R:function(b){var t=`
<p id="•fW">Cite</p>
<table align="center">
    <tr>
        <td class="•fX clr">
            <a lnk="" href="#" id="•hJ" title="link to page content and appearance (markdown)" class="ctrl fa fa-level-down fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hH" title="link to page content and appearance (html)" class="ctrl fa fa-external-link-square fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hI" title="link to page content (html)" class="ctrl fa fa-external-link fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•fY" title="copy page content" class="ctrl fa fa-file-text-o fa-lg fa-fw"></a>
        </td>
    </tr>
    <tr>
        <th class="•fX" width="60px">page view</th>
    </tr>
    <tr class="•kK">
        <td class="•fX"><span id="•kA" class="ctrl fa fa-chevron-right fa-fw"></span><span id="•kz" class="•hM">share link to this page with or without view settings.</span></td>
    </tr>
</table>
<p id="•hF"></p>
<p id="•hG"></p>
`;this.c.m[b].html(t)},G:function(b){var k=this;var q=this.c.m[b];var dV=$(`#self_link`);dV.hide();q.addClass(`•gh`);q.find(`.•hM`).hide();q.find(`#•hJ,#•hH,#•hI,#•kL`).click(function(g){g.preventDefault();window.prompt(`Press <Cmd-C> and then <Enter> to copy link on clipboard`,$(this).attr(`lnk`))});q.find(`#•fY`).click(function(g){g.preventDefault();var dM=`middle`;var dd=app_url_cite+k.c.l.dO(true);dV.show();dV.attr(`href`,dd);jT(dM)});q.find(`#•kA`).click(function(g){g.preventDefault();kc($(this),$(`#•kz`))});q.click(function(g){g.preventDefault();var dd=app_url_cite+k.c.l.dO(true);var jm=app_url_cite+k.c.l.dO(false);$(`#•fW`).hide();$(`#•hF`).html(``);$(`#•hG`).html(``);$(`.•fX.clr,#•hF,#•hG`).removeClass(`error warning good special`);var hv=dl($(`title`).text());$(`#•hJ`).attr(`lnk`,`[${hv}](${dd})`);$(`#•hH`).attr(`lnk`,dd);$(`#•hI`).attr(`lnk`,jm);$(`#•fY`).attr(`lnk`,dd);$(`#•fY`).attr(`tit`,hv);$(this).animate({height:`100px`,width:`200px`,opacity:0.95},300)});q.mouseleave(function(){dV.hide();$(`#•fW`).show();q.animate({height:`20px`,width:`40px`,opacity:.7},300);return false})},h:function(b){}};function fj(d,cD,C){this.d=d;this.C=C;this.cD=cD;this.E=cD.E;this.cN={};for(var b in this.E){this.cN[b]={};for(var cT in this.C.dW){this.cN[b][cT]=true}}this.v={};this.m={};this.l=this.C.l;this.H={};this.s={};this.P=new cD.y(this)};fj.prototype={hk:function(b,r){return !this.cN[b][r].state ||(this.cN[b][r].state()==`rejected`)},hR:function(b,r,dS){var hg=this[dS].bind(this,b);var jZ=this.C.jy(this.d,r);var ht=[];jZ.forEach(function(dY){var fN=dY[0];var fO=dY[1];var hr=this.C.cA(fN);if(hr.cR(b)){ht.push(hr.cN[b][fO])}},this);this.cN[b][r]=$.when.apply($,ht).then(hg)},cP:function(b,r,dS){if(r in this.C.dW){if(!this.C.dW[r]|| this.hk(b,r)){this.hR(b,r,dS)}}},cR:function(b){return(b in this.E)},gH:function(b,jK){if(this.cR(b)){if(b in this.m){if(jK){this.m[b].show()}else{this.m[b].hide()}}}},hT:function(b){var J=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.cD.J}_${b}`)+`.json`;this.v[b].v(`fetching data ...`);var jR=this.hW.bind(this,b);return $.ajax({type:`POST`,url:J,contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cB){jR(cB)})},hW:function(b,cB){this.v[b].gL();cB.msgs.forEach(function(jG){this.v[b].v(jG)},this);if(cB.good){this.H[b]=cB.data;if(`relvals` in cB){this.s[b]=cB.relvals}}this.P.R(b)},jh:function(b){this.hS=this.C.jz(this.cD.U,this.E);this.m[b]=$(`#${this.d}_${b}`);if(this.m[b].length==0){var dj=this.hS[b];dj.append(`<div id="msg_${this.d}_${b}"></div>`);dj.append(`<div id="${this.d}_${b}" class="•kn"></div>`);this.m[b]=$(`#${this.d}_${b}`)}this.v[b]=new dz(`msg_${this.d}_${b}`);if(this.cD.J !=null){return this.hT(b)}else{this.P.R(b)}},jj:function(b){this.P.G(b)},jk:function(b){this.gH(b,true);this.P.h(b)},R:function(b){if(this.cR(b)&& this.P.Q(b)){this.cP(b,`R`,`jh`)}},G:function(b){if(this.cR(b)&& this.P.Q(b)){this.cP(b,`G`,`jj`)}},h:function(b){if(this.cR(b)&& this.P.Q(b)){this.cP(b,`h`,`jk`)}else{this.gH(b,false)}}};function dA(){this.d=`page`;this.v=new dz(`msg_${this.d}`);this.l=new gm(this);this.dW={R:true,G:true,h:false};this.hx={G:`R`,h:`G`};var dR=this.l.jA(`list`);var dg={contrib:1};var jw={'':1};this.cJ={jU:{U:`body`,E:jw,J:null,y:gl},gO:{U:`left`,E:dR,J:null,y:fk},X:{U:`middle`,E:dR,J:`list`,y:fl},n:{U:`gO`,E:dR,J:null,y:gj},dn:{U:`n`,E:dR,J:null,y:gk},dm:{U:`n`,E:dg,J:`country`,y:N},dh:{U:`n`,E:dg,J:`type`,y:dy},ds:{U:`n`,E:dg,J:`tadiraha`,y:dB},dt:{U:`n`,E:dg,J:`tadiraho`,y:dC},dX:{U:`n`,E:dg,J:`tadiraht`,y:dD}},this.cI={R:{n:{gO:1,X:1},dn:{n:1},dm:{n:1,dn:1},dh:{n:1,dm:1},ds:{n:1,dh:1},dt:{n:1,ds:1},dX:{n:1,dt:1},jU:{n:1,X:1}},G:{n:{dn:1,dm:1,dh:1,ds:1,dt:1,dX:1},dn:{X:1},dm:{X:1},dh:{X:1},ds:{X:1},dt:{X:1},dX:{X:1}},h:{n:{dn:1,dm:1,dh:1,ds:1,dt:1,dX:1}}};this.ch={};for(var d in this.cJ){var c=new fj(d,this.cJ[d],this);c.cO={};this.ch[d]=c}for(var d in this.cJ){var jp=this.ch[d];var gR=this.cJ[d].U;if(gR in this.ch){var jQ=this.ch[gR];jQ.cO[d]=jp}}for(var d in this.ch){var c=this.ch[d];c.gK={};for(var r in this.cI){var gN=this.cI[r];c.gK[r]={};if(d in gN){for(var jn in gN[d]){c.gK[r][jn]=1}}}}this.hX();this.jd(80);History.Adapter.bind(window,`statechange`,this.l.h())};dA.prototype={jd(jW){var kk=`${window.innerHeight - jW}px`;for(var kj in{'middle':1,'left':1,'right':1}){$(`#${kj}`).css(`height`,kk)}},hX(){var dx=[];var dw={};var cU={};for(var d in this.cJ){for(var r in this.dW){dx.push(`${d}-${r}`)}}function gI(cl,cc){if(!(cl in dw)){dw[cl]={}}if(!(cc in cU)){cU[cc]={}}dw[cl][cc]=true;cU[cc][cl]=true}for(var hm in this.hx){var fO=this.hx[hm];for(var d in this.cJ){gI(`${d}-${fO}`,`${d}-${hm}`)}}for(var r in this.cI){for(var hl in this.cI[r]){for(var fN in this.cI[r][hl]){gI(`${fN}-${r}`,`${hl}-${r}`)}}}var cj=0;var cE=[];var cV={};while(cj <=dx.length){cE.push({});if(cj==0){dx.forEach(function(ck){if(!(ck in cU)){cE[cj][ck]=1}})}else{for(var cl in cV){if(cl in dw){for(var cc in dw[cl]){if(!(cc in cV)){var gZ=true;for(var jM in cU[cc]){if(!(jM in cV)){gZ=false;break}}if(gZ){cE[cj][cc]=1}}}}}}if(!Object.keys(cE[cj]).length){break}for(var ck in cE[cj]){cV[ck]=1}cj++}this.fw=[];this.gD={};if(Object.keys(cV).length !=dx.length){var gP=[];dx.forEach(function(ck){if(!(ck in cV)){gP.push(ck)}})}else{cE.forEach(function(jJ,cj){for(var ck in jJ){this.fw.push(ck)}},this);this.gD=cU}},cA:function(d){return this.ch[d]},jz:function(d,E){var m={};if(d in this.ch){m=this.ch[d].m}else{var jl=(d==`body`)?$(`body`):$(`#${d}`);for(var b in E){m[b]=jl}}return m},jy:function(d,r){var hs=[];var cc=`${d}-${r}`;for(var cl in(this.gD[cc]||{})){hs.push(cl.split(`-`))}return hs},h:function(){this.fw.forEach(function(dY){var hz=dY.split(`-`);var d=hz[0];var r=hz[1];var c=this.cA(d);for(var b in c.E){c[r](b)}},this)}};$(function(){new dA().h()});