function cN(cc){if((typeof(cc)==`object`)&&(typeof(cc.then)==`function`)){return cc}return $.Deferred().resolve(cc).promise()};function fw(fZ){return cN(fZ())};function dO(cd,f,cp,cW,dL,dz,w){this.cd=cd;this.f=f;this.cp=cp;this.cW=cW;this.dL=dL;this.dz=dz;this.ck={};this.fg={fetch:true,R:true,z:false};this.w=w;this.S={};this.r={};this.m={};this.k=this.w.k;this.v={};this.fB={};this.fb={}};dO.prototype={gg:function(b,O){return !(b in this.ck)|| !(O in this.ck[b])||(typeof(this.ck[b][O])==`function`)||(this.ck[b][O].state()==`rejected`)},dY:function(b,O,cV){if(!(b in this.ck)){this.ck[b]={}}var fz=cN(this[cV](b));this.ck[b][O]=fz;return fz},cJ:function(b,O,cV){var d=this;if(O in this.fg){if(this.fg[O]){return function(){return d.gg(b,O)?d.dY(b,O,cV):cN(true)}}return function(){d.dY(b,O,cV)}}return function(){cN(true)}},dZ:function(b){var d=this;if(this.cW){this.r[b].r(`fetching data ...`);return $.ajax({type:`POST`,url:this.fb[b],contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cw){d.fL(b,cw)})}},fL:function(b,cw){this.r[b].fp();cw.msgs.forEach(function(gd){this.r[b].r(gd)});if(cw.good){this.v[b]=cw.data;this.fB[b]=cw.relvals}},fl:function(b){this.D.R(b);if(!this.dL){for(var n in this.B){this.B[n].R(b)}}},fQ:function(b){this.D.z(b);for(var n in this.B){this.B[n].z(b)}},cT:function(b){return(b in this.cp)},E:function(b){if(this.cT(b)){if(this.D.E(b)){this.m[b].show()}else{if(this.m[b]!=undefined){this.m[b].hide()}}}for(var n in this.B){this.B[n].E(b)}},cg:function(){this.D=new this.dz(this);if(this.cd in this.w.V){var fX=this.w.V[this.cd].m;this.S=fX}else{for(var b in this.cp){this.S[b]=$(`#${this.cd}`)}}for(var b in this.cp){if(this.cW){this.fb[b]=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.f}_${b}`)+`.json`}this.m[b]=$(`#${this.f}_${b}`);if(this.m[b].length==0){var ft=this.S[b];ft.append(`<div id="msg_${this.f}_${b}"></div>`);ft.append(`<div id="${this.f}_${b}"></div>`);this.m[b]=$(`#${this.f}_${b}`)}this.r[b]=new dg(`msg_${this.f}_${b}`);this.D.cg(b)}},R:function(b){if(this.cT(b)&& this.D.E(b)){fw(this.cJ(b,`fetch`,`dZ`)).then(this.cJ(b,`R`,`fl`))}},z:function(b){var d=this;if(this.cT(b)&& this.D.E(b)){fw(this.cJ(b,`fetch`,`dZ`)).then(this.cJ(b,`R`,`fl`)).then(this.cJ(b,`z`,`fQ`))}}};function dP(c){this.c=c;this.df={};this.cS={}};dP.prototype={N:function(b){this.c.m[b].html(`<a class="ctrl radio" href="#">${this.c.k.gq('list', b, 'dy')}</a> `)},cC:function(b){var d=this;this.cS[b].click(function(q){q.preventDefault();d.c.k.Z(`list`,b)})},fK:function(b){return this.c.k.Q(`list`)==b},E:function(b){return true},cg:function(b){this.N(b);this.df[b]=this.c.m[b];this.cS[b]=this.c.m[b].find(`a`)},R:function(b){this.cC(b)},z:function(b){if(this.fK(b)){this.cS[b].addClass(`ison`);this.df[b].addClass(`isonn`)}else{this.cS[b].removeClass(`ison`);this.df[b].removeClass(`isonn`)}}};function dN(c){this.c=c;this.f=`ctype`;this.dq=this.c.w.cf(`facet`).D;this.t={};this.y={};this.dh={};this.ch={};this.T={};this.A={};this.cz={};this.cA={};this.s={};this.dH={};this.dG={}};dN.prototype={N:function(b){var dm=2;var j=`<div><p class="dctrl">By type</p>`;j +=`<p class="all"><span ti="_all" class="stats"></span> <a id="t_all_${b}" href="#" class="ctrls">all types</a></p>
<table class="clist" id="list-ctype_${b}"><tr>`;for(var g in this.cA[b]){if((g % dm==0)&&(g > 0)&&(g < this.cA[b].length)){j +=`</tr><tr>`}var p=this.cA[b][g];var cM=this.s[b][p];j +=`<td><span ti="${p}" class="stats"></span></td><td><a ti="${p}" href="#" class="ctrls">${cM}</a></td>`}j +=`</tr></table></div>`;this.c.m[b].html(j)},cC:function(b){var d=this;this.ch[b]=$(`#list-ctype_${b}`);this.ch[b].find(`.ctrls`).click(function(q){q.preventDefault();var p=$(this).attr(`ti`);var cn=$(this).hasClass(`ison`);var cq=d.U(d.c.k.Q(`t_${b}`));cq[p]=!cn;d.c.k.Z(`t_${b}`,d.cl(cq))});this.T[b]=this.c.m[b].find(`#t_all_${b}`);this.T[b].click(function(q){q.preventDefault();var cn=$(this).hasClass(`ison`);if(cn){d.c.k.Z(`t_${b}`,d.cl(d.dG[b]))}else{d.c.k.Z(`t_${b}`,d.cl(d.dH[b]))}})},cD:function(b,x){var d=this;if(x==null || x==undefined || x==''){x=this.U(``)}var cE=true;for(var p in this.s[b]){var cs=this.ch[b].find(`a[ti="${p}"]`);if(p in x && x[p]){cs.addClass(`ison`)}else{cs.removeClass(`ison`,cs);cE=false}}if(cE){this.T[b].addClass(`ison`)}else{this.T[b].removeClass(`ison`)}},cl:function(J){var I=[];for(var x in J){if(J[x]){I.push(x)}}return I.join(',')},U:function(cb){var J={};if(cb !==null && cb !=undefined && cb !=''){var I=cb.split(',');for(var g in I){J[I[g]]=true}}return J},dA:function(b){var d=this;this.A[b]={};for(var p in this.s[b]){this.A[b][p]=0}for(var x in this.t[b]){var g=this.t[b][x];var dF=this.y[b][g][3];for(var p in dF){this.A[b][p]+=1}}for(var p in this.A[b]){this.c.m[b].find(`span[ti="${p}"].stats`).html(this.A[b][p])}this.c.m[b].find(`span[ti="_all"].stats`).html(this.t[b].length)},cB:function(b,g){var dF=this.y[b][g][3];var cz=this.U(this.cz[b]);for(var p in dF){if((p in cz)&& cz[p]){return true}}return false},E:function(b){return(this.c.k.Q(`list`)==b)},cg:function(b){},R:function(b){},dJ:function(b){this.fd=this.c.w.cf(`list`);this.y[b]=this.fd.v[b];this.dh[b]=this.fd.fB[b];this.cA[b]=[];this.s[b]={};this.dG[b]={};this.dH[b]={};for(var p in this.dh[b].type){var cM=this.dh[b].type[p];this.dG[b][p]=false;this.dH[b][p]=true;this.cA[b].push(p);this.s[b][p]=cM}this.cA[b].sort();this.N(b);this.cC(b)},z:function(b){},dM:function(b){this.cz[b]=this.c.k.Q(`t_${b}`);this.cD(b,this.U(this.cz[b]))}};function dQ(c){this.c=c;this.f=`eumap`;this.dq=this.c.w.cf(`facet`).D;this.cQ={};this.cr={};this.ch={};this.t={};this.cx={};this.y={};this.T={};this.A={};this.dX={AT:[`Austria`,true,47.7,15.11],BE:[`Belgium`,true,51.3,3.1],HR:[`Croatia`,true,44.7,15.6],CY:[`Cyprus`,true,35.0,32.8],CZ:[`Czech Republic`,true,49.8,15.2],DK:[`Denmark`,true,55.6,11.0],EE:[`Estonia`,true,59.0,25.0],FR:[`France`,true,46.5,1.9],DE:[`Germany`,true,51.0,10.4],GR:[`Greece`,true,38.0,23.8],HU:[`Hungary`,true,46.9,19.8],IE:[`Ireland`,true,53.1,-8.4],IT:[`Italy`,true,41.6,13.0],LV:[`Latvia`,true,56.9,26.8],LT:[`Lithuania`,true,55.2,24.9],LU:[`Luxembourg`,true,49.6,6.1],MT:[`Malta`,true,35.9,14.4],NL:[`Netherlands`,true,52.8,5.8],PL:[`Poland`,true,52.3,19.8],PT:[`Portugal`,true,38.7,-9.0],RS:[`Serbia`,true,44.0,20.8],SK:[`Slovakia`,true,48.8,19.9],SI:[`Slovenia`,true,46.2,14.4],CH:[`Switzerland`,true,46.9,8.3],GB:[`United Kingdom`,true,52.9,-1.8],AL:[`Albania`,false],AD:[`Andorra`,false],BY:[`Belarus`,false],BA:[`Bosnia and Herzegovina`,false],BG:[`Bulgaria`,false],FI:[`Finland`,false],GE:[`Georgia`,false],IS:[`Iceland`,false],SM:[`San Marino`,false],KS:[`Kosovo`,false],LI:[`Liechtenstein`,false],MK:[`Macedonia`,false],MD:[`Moldova`,false],MC:[`Monaco`,false],ME:[`Montenegro`,false],NO:[`Norway`,false],RO:[`Romania`,false],RU:[`Russian Federation`,false],ES:[`Spain`,false],SE:[`Sweden`,false],TR:[`Turkey`,false],UA:[`Ukraine`,false]};this.gh={CY:true};this.cG=[];this.ct={};this.fv={};this.fr={};this.fs={};this.dx={};for(var h in this.dX){var cv=this.dX[h];if(cv[1]){this.fr[h]=false;this.fs[h]=true;this.cG.push(h);this.ct[h]=cv[0];if(cv.length > 3){this.fv[h]={latLng:[cv[2],cv[3]],f:cv[0]}}this.dx[h]=`indariah`}else{this.dx[h]=`outdariah`}}this.cG.sort()};dQ.prototype={N:function(b){var dm=2;var j=`<div><p class="dctrl">By country</p>`;j +=`<div id="map-europe_${b}"></div>
<p class="all"><span cd="_all" class="stats"></span> <a id="m_all_${b}" href="#" class="ctrls">all DARIAH</a></p>
<table class="clist" id="list-europe_${b}"><tr>`;for(var g in this.cG){if((g % dm==0)&&(g > 0)&&(g < this.cG.length)){j +=`</tr><tr>`}var h=this.cG[g];var fV=this.ct[h];j +=`<td><span cd="${h}" class="stats"></span></td><td><a cd="${h}" href="#" class="ctrls">${fV}</a></td>`}j +=`</tr></table></div>`;this.c.m[b].html(j)},cC:function(b){var d=this;var L=this.c.m[b];this.cr[b]=L.find(`#map-europe_${b}`);this.ch[b]=L.find(`#list-europe_${b}`);this.cr[b].width(`100%`);this.cr[b].height(this.cr[b].width()*0.6);this.cr[b].vectorMap({map:`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,regionsSelectableOne:false,markerStyle:{initial:{fill:`#448844`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1,'r':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#000000`,'stroke-width':0,'stroke-opacity':1},selected:{},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{'fill-opacity':1,fill:`#dd8844`},selectedHover:{}},markers:this.fv,series:{markers:[{values:{},scale:[0,25],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{outdariah:`#ffffff`,indariah:`#ffeedd`},attribute:`fill`,values:d.dx}]},onRegionTipShow:function(q,fY,h){fY.html(`${h}: ${(h in d.A[b])?d.A[b][h]:'not in DARIAH'}`)},onRegionClick:function(q,n){if(!(n in d.ct)){q.preventDefault()}},onRegionSelected:function(q,n,g,cq){if(d.fn){d.c.k.Z(`m_${b}`,d.fH(cq))}}});this.cQ[b]=this.cr[b].vectorMap('get','mapObject');this.cQ[b].setFocus({regions:[`GB`,`GR`]});this.ch[b].find(`.ctrls`).click(function(q){q.preventDefault();var h=$(this).attr(`cd`);var cn=$(this).hasClass(`ison`);var cq=d.U(d.c.k.Q(`m_${b}`));cq[h]=!cn;d.c.k.Z(`m_${b}`,d.cl(cq))});this.T[b]=this.c.m[b].find(`#m_all_${b}`);this.T[b].click(function(q){q.preventDefault();var cn=$(this).hasClass(`ison`);if(cn){d.c.k.Z(`m_${b}`,d.cl(d.fr))}else{d.c.k.Z(`m_${b}`,d.cl(d.fs))}})},cD:function(b,x){var d=this;if(x==null || x==undefined || x==''){x=this.U(``)}this.fn=false;var dB={};for(var cm in this.gh){if(cm in x){dB[cm]=x[cm];delete x[cm]}}this.cQ[b].setSelectedRegions(x);for(var cm in dB){x[cm]=dB[cm]}this.fn=true;var cE=true;for(var h in this.ct){var cs=this.ch[b].find(`a[cd="${h}"]`);if(h in x && x[h]){cs.addClass(`ison`)}else{cs.removeClass(`ison`);cE=false}}if(cE){this.T[b].addClass(`ison`)}else{this.T[b].removeClass(`ison`)}},fH:function(I){return I.join(',')},cl:function(J){var I=[];for(var cc in J){if(J[cc]){I.push(cc)}}return I.join(',')},U:function(cb){var J={};if(cb !==null && cb !=undefined && cb !=''){var I=cb.split(',');for(var g in I){J[I[g]]=true}}for(var h in this.ct){if(!(h in J)){J[h]=false}}return J},dA:function(b){var d=this;this.A[b]={};for(var h in this.ct){this.A[b][h]=0}for(var cc in this.t[b]){var g=this.t[b][cc];var h=this.y[b][g][2];this.A[b][h]+=1}var dc=this.t[b].length;if(dc==0){dc=1}for(var h in this.A[b]){this.c.m[b].find(`span[cd="${h}"].stats`).html(this.A[b][h])}var fF={};for(var h in this.A[b]){var fy=100 * this.A[b][h]/ dc;fF[h]=(dc < 10)?fy:(10*Math.sqrt(fy))}this.cQ[b].series.markers[0].setValues(fF);this.c.m[b].find(`span[cd="_all"].stats`).html(this.t[b].length)},cB:function(b,g){var h=this.y[b][g][2];var cx=this.U(this.cx[b]);return(h in cx)&& cx[h]},E:function(b){return(this.c.k.Q(`list`)==b)},cg:function(b){this.N(b)},R:function(b){this.cC(b)},dJ:function(b){this.y[b]=this.c.w.cf(`list`).v[b]},z:function(b){},dM:function(b){this.cx[b]=this.c.k.Q(`m_${b}`);this.cD(b,this.U(this.cx[b]))}};function dR(c){this.c=c;this.fh={};this.v={};this.dC={};this.t={};this.cI={}};dR.prototype={N:function(b){var j=``;j +=`<p class="facet">Filtering <span id="fstats_${b}"></span></p>`;this.c.m[b].html(j)},fP:function(b){var L=this.c.m[b];var gc=this.c.w.cf(`list`).m[b];this.fh[b]=L.find(`#fstats_${b}`);this.dC[b]=gc.find(`#table_${b}`);var fW=`<a class="showc fa fa-chevron-right" href="#" title="Show details"></a><a class="hidec fa fa-chevron-down" href="#" title="Hide details"></a>`;L.find(`p.dctrl`).each(function(){var gl=$(this).html();$(this).html(`${fW}&nbsp;${gl}`)});L.find(`p.dctrl`).closest(`div`).find(`table,.flt`).show();L.find(`.hidec`).show();L.find(`.showc`).hide();L.find(`.hidec`).click(function(q){q.preventDefault();var cH=$(this).closest(`p`);var dn=$(this).closest(`div`).find(`table,.flt`);dn.hide();cH.find(`.hidec`).hide();cH.find(`.showc`).show()});L.find(`.showc`).click(function(q){q.preventDefault();var cH=$(this).closest(`p`);var dn=$(this).closest(`div`).find(`table,.flt`);dn.show();cH.find(`.hidec`).show();cH.find(`.showc`).hide()})},fS:function(b){this.dC[b].find(`tr[id]`).hide();var v=this.c.w.cf(`list`).v[b];var G=this.cI[b];this.t[b]=[];for(var H in G){var P=G[H].D;P.t[b]=[]}for(var g in v){var cB=true;var db=null;var dp=false;for(var H in G){if(!dp){var P=G[H].D;var cM=P.cB(b,g);if(!cM){cB=false;if(db==null){db=P}else{dp=true}}}}if(!dp){if(cB){this.t[b].push(g);this.dC[b].find(`tr[id="r${v[g][0]}"]`).show()}if(db !=null){db.t[b].push(g)}else{for(var H in G){var P=G[H].D;P.t[b].push(g)}}}}for(var H in G){var P=G[H].D;P.dA(b)}this.fh[b].html(`${this.t[b].length} of ${v.length}`)},E:function(b){return this.c.k.Q(`list`)==b},cg:function(b){this.B=this.c.B;this.cI[b]={};for(var H in this.B){var P=this.B[H];if(P.cT(b)){this.cI[b][H]=P}}this.N(b)},R:function(b){if(this.E(b)){var G=this.cI[b];for(var H in G){G[H].D.dJ(b)}this.fP(b)}},z:function(b){if(this.E(b)){var G=this.cI[b];for(var H in G){G[H].D.dM(b)}this.fS(b)}}};function dS(c){this.c=c;this.f=`filter`;this.dq=this.c.w.cf(`facet`).D;this.dD={};this.W={};this.dl={};this.fm={};this.fC={};this.cR={};this.cP={};this.y={};this.t={};this.dK={}};dS.prototype={N:function(b){var j=`<div><p class="dctrl">By full text search</p>`;j +=`<div class="flt" id="fltw_${b}">`;j +=`<p id="fbox_${b}" class="fbox ui-df">`;j +=`<input id="flt_${b}" class="flt"/>`;j +=`<a href="#" class="ctrl fa fa-close filtc" id="clearf_${b}"></a>`;j +=`<span class="stats" id="stats_${b}"></span>&nbsp;`;j +=`</p>`;j +=`<div id="autoc_${b}" style="display: none;">here ${b}</div>`;j +=`</div>`;this.c.m[b].html(j)},cD:function(b){var cZ=this.c.k.Q(`f_${b}`);this.c.m[b].addClass(`flt`);this.W[b].val(cZ);this.W[b].autocomplete(`search`,cZ)},fR:function(b){var cZ=this.W[b].val();if(cZ==``){this.dl[b].removeClass(`ison`);this.cR[b].hide()}else{this.dl[b].addClass(`ison`);this.cR[b].show()}},_response:function(b){var d=this;return function(gy,fD){d.cP[b]={};for(var g in fD.content){d.cP[b][fD.content[g].value]=1}if(!(d.dK[b])){d.c.k.Z(`f_${b}`,d.W[b].val())}}},fN:function(b){var d=this;this.cR[b].click(function(q){q.preventDefault();d.W[b].val(``);d.W[b].autocomplete(`search`,``)})},dA:function(b){var gn=(this.W[b].val()!=``)?`${this.dq.t[b].length} of `:``;this.fC[b].html(`${gn}${this.t[b].length}`)},cB:function(b,g){return(g in this.cP[b])},E:function(b){return(this.c.k.Q(`list`)==b)},cg:function(b){this.N(b)},R:function(b){this.fN(b);this.W[b].autocomplete({appendTo:this.fm[b],source:this.dD[b],response:this._response(b),minLength:0});this.dK[b]=true;this.cD(b);this.dK[b]=false},dJ:function(b){var d=this;var L=this.c.m[b];var cF=L.find(`#fltw_${b}`);this.W[b]=cF.find(`#flt_${b}`);this.dl[b]=cF.find(`#fbox_${b}`);this.fm[b]=cF.find(`#autoc_${b}`);this.fC[b]=cF.find(`#stats_${b}`);this.cR[b]=cF.find(`#clearf_${b}`);this.cP[b]={};this.t[b]=[];var v=this.c.w.cf(`list`).v[b];this.y[b]=v;this.dD[b]=[];for(var g in v){this.dD[b].push({label:v[g][1],value:g})}},z:function(b){},dM:function(b){this.fR(b)}};var gx=(function(){`use strict`;var fU={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(dE){return dE.replace(/[&<>]/g,function(fT){return fU[fT]})}}());var Request={cX:function(f){return this.fx()[f]},fx:function(dd){var g,cX,dt,fA,cy;cy={};if(!dd){dd=window.location.search}if(dd.indexOf("?")===-1){return{}}fA=dd.slice(1);dt=fA.split("&");g=0;while(g < dt.length){cX=dt[g].split("=");cy[cX[0]]=cX[1];g++}return cy}};var dw=Request.fx();var gj=$.initNamespaceStorage(`req`);var cK=gj.localStorage;function dT(c){this.c=c};dT.prototype={N:function(b){var j=``;j +=`<table id="table_${b}">`;if(b==`contrib`){for(var g in this.c.v[b]){Y=this.c.v[b][g];j +=`<tr id="r${Y[0]}"><td class="cc">${Y[2]}<td><td class="cn">${Y[3]}<td><td><a href="#" rid="${Y[0]}">${Y[1]}</a></td></tr>`}}else if(b==`country`){for(var g in this.c.v[b]){Y=this.c.v[b][g];j +=`<tr id="r${Y[0]}"><td class="cc">${Y[0]}<td><td class="cn">${Y[1]}<td></tr>`}}j +=`</table>`;this.c.m[b].html(j)},E:function(b){return this.c.k.Q(`list`)==b},cg:function(b){},R:function(b){this.N(b)},z:function(b){}};var fE;$(function(){fE=new dU();fE.z()});function dg(cd,gk){var d=this;this.S=$(`#${cd}`);this.fj=$(`#trash_${cd}`);this.fk=this.fj.closest(`p`);this.fj.click(function(q){q.preventDefault();d.fp()});this.fc();this.ff=gk};dg.prototype={fc:function(){this.S.hide();this.fk.hide()},_show:function(){this.S.show();if(this.S.html()!=``){this.fk.show()}},fp:function(){this.S.html(``);if(this.ff !=undefined){this.ff()}this.fc()},r:function(dE,dr){if(dr==undefined){dr=`info`}var gf=this.S.html();this.S.html(`${gf}<p class="${dr}">${dE}</p>`);this._show()}};function dU(){this.f=`page`;this.r=new dg(`msg_${this.f}`);this.k=new dV(this);var cU=this.k.gb(`list`);var fq={contrib:1};this.cO=[[`left`,`control`,cU,false,true,dP],[`control`,`facet`,cU,false,false,dR],[`facet`,`filter`,cU,false,false,dS],[`facet`,`eumap`,fq,false,false,dQ],[`facet`,`ctype`,fq,false,false,dN],[`middle`,`list`,cU,true,false,dT]];this.V={};this.dj={page:[`control`],control:[`list`],list:[`facet`],facet:[`filter`,`eumap`,`ctype`]};this.V={};for(var g in this.cO){var n=this.cO[g];var M=new dO(n[0],n[1],n[2],n[3],n[4],n[5],this);this.V[n[1]]=M}for(var cY in this.dj){var dv=(cY in this.V)?this.V[cY]:this;dv.B={};for(var g in this.dj[cY]){var n=this.dj[cY][g];var M=this.V[n];dv.B[n]=M;M.gD=dv}}for(var g in this.cO){var n=this.cO[g];var M=this.V[n[1]];M.cg()}this.fM(80);History.Adapter.bind(window,`statechange`,this.k.z())};dU.prototype={fM(gr){var gw=`${window.innerHeight - gr}px`;for(var gv in{middle:1,left:1,right:1}){$(`#${gv}`).css(`height`,gw)}},E:function(){for(var n in this.B){var M=this.B[n];for(var b in M.cp){M.E(b)}}},cf:function(f){return this.V[f]},z:function(){this.E();for(var n in this.B){var M=this.B[n];for(var b in M.cp){M.z(b)}}}};function dV(w){this.y={};this.w=w;this.r=w.r;this.fI();this.dW()};dV.prototype={cj:{list:{s:`string`,F:{contrib:1,country:1},C:`contrib`},f_contrib:{s:`string`,F:null,C:``},f_country:{s:`string`,F:null,C:``},m_contrib:{s:`string`,F:null,C:``},m_country:{s:`string`,F:null,C:``},t_contrib:{s:`string`,F:null,C:``},t_country:{s:`string`,F:null,C:``},id:{s:`integer`,F:{gC:-1,gz:1000000},C:0},sort:{s:`boolean`,F:{v:true,x:false},C:true}},dk:{list:{contrib:{dy:`contribution`,gm:`contributions`},country:{dy:`country`,gm:`countries`}}},fO:function(f,l){var X,gB;if(f in this.cj){var K=this.cj[f];if(K.s==`string`){if(K.F){if(l in K.F){X=l}else{X=K.C;this.r.r(`illegal string value for ${f}: "${l}" is replaced by "${K.C}"`,`warning`)}}else{X=l}}else if(K.s==`integer`){if(/^(\-|\+)?[0-9]+$/.test(l)){X=Number(l)}else{X=K.C;this.r.r(`not a number value for ${f}: "${l}" is replaced by "${K.C}"`,`warning`)}}else if(K.s==`boolean`){if(l in K.F){X=K.F[l]}else{X=K.C;this.r.r(`illegal boolean value for ${f}: "${l}" is replaced by "${K.C}"`,`warning`)}}}else{X=null;this.r.r(`unknown parameter: ${f}=${l}`,`warning`)}return X},fJ:function(){dI=[];for(var f in this.y){var l=this.y[f];var cL=this.cj[f];if(cL.s==`string` || cL.s==`integer`){dI.push(`${f}=${l}`)}else if(cL.s==`boolean`){for(fG in cL.F){if(cL.F[fG]==l){dI.push(`${f}=${fG}`)}}}}return dI.join(`&`)},fI:function(){for(var f in dw){if(!(f in this.cj)){this.r.r(`unknown parameter: ${f}=${l}`,`warning`)}}for(var f in this.cj){var l=null;if(f in dw){var gp=dw[f];l=this.fO(f,gp);cK.set(f,l)}else if(cK.isSet(f)){l=cK.get(f)}else{l=this.cj[f].C;cK.set(f,l)}this.y[f]=l}},dW:function(gE,gF){var gt=`DARIAH contribution tool`;var gs=`${app_url}?${this.fJ()}`;History.pushState(this.y,gt,gs)},Z:function(f,l){this.y[f]=l;cK.set(f,l);this.dW()},Q:function(f){return this.y[f]},gb:function(f){return this.cj[f].F},gq:function(f,l,ds){var cy=l;var gA=(ds==undefined)?`dy`:ds;if(this.dk[f]!=undefined && this.dk[f][l]!=undefined){cy=this.dk[f][l][ds]}return cy},z:function(){var d=this;return function(){var k=History.getState();if(k && k.data){d.y=k.data;d.w.z()}}}};