function cY(L){if((typeof(L)==`object`)&&(typeof(L.then)==`function`)){return L}return $.Deferred().resolve(L).promise()};function dm(dI){return cY(dI())};function dy(cm,f,cw,dl,fc,E,z){this.cm=cm;this.f=f;this.cw=cw;this.dl=dl;this.fc=fc;this.E=E;this.cr={};this.fy={fK:true,F:true,j:false};this.z=z;this.X={};this.w={};this.n={};this.l=this.z.l;this.y={};this.fS={};this.ft={}};dy.prototype={fM:function(b,M){return !(b in this.cr)|| !(M in this.cr[b])||(typeof(this.cr[b][M])==`function`)||(this.cr[b][M].state()==`rejected`)},fr:function(b,M,dk){if(!(b in this.cr)){this.cr[b]={}}var fQ=cY(this[dk](b));this.cr[b][M]=fQ;return fQ},cc:function(b,M,dk){var c=this;if(M in this.fy){if(this.fy[M]){return function(){return c.fM(b,M)?c.fr(b,M,dk):cY(true)}}return function(){c.fr(b,M,dk)}}return function(){cY(true)}},fs:function(b){var c=this;if(this.dl){this.w[b].w(`fetching data ...`);return $.ajax({type:`POST`,url:this.ft[b],contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cC){c.gg(b,cC)})}},gg:function(b,cC){this.w[b].fF();cC.msgs.forEach(function(gC){this.w[b].w(gC)});if(cC.good){this.y[b]=cC.data;this.fS[b]=cC.relvals}},fC:function(b){this.I.F(b);if(!this.fc){for(var q in this.D){this.D[q].F(b)}}},gp:function(b){this.I.j(b);for(var q in this.D){this.D[q].j(b)}},dh:function(b){return(b in this.cw)},r:function(b){if(this.dh(b)){if(this.I.r(b)){this.n[b].show()}else{if(this.n[b]!=undefined){this.n[b].hide()}}}for(var q in this.D){this.D[q].r(b)}},cn:function(){this.I=new this.E(this);if(this.cm in this.z.cb){var gx=this.z.cb[this.cm].n;this.X=gx}else{for(var b in this.cw){this.X[b]=$(`#${this.cm}`)}}for(var b in this.cw){if(this.dl){this.ft[b]=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.f}_${b}`)+`.json`}this.n[b]=$(`#${this.f}_${b}`);if(this.n[b].length==0){var fJ=this.X[b];fJ.append(`<div id="msg_${this.f}_${b}"></div>`);fJ.append(`<div id="${this.f}_${b}"></div>`);this.n[b]=$(`#${this.f}_${b}`)}this.w[b]=new cW(`msg_${this.f}_${b}`);this.I.cn(b)}},F:function(b){if(this.dh(b)&& this.I.r(b)){dm(this.cc(b,`fK`,`fs`)).then(this.cc(b,`F`,`fC`))}},j:function(b){var c=this;if(this.dh(b)&& this.I.r(b)){dm(this.cc(b,`fK`,`fs`)).then(this.cc(b,`F`,`fC`)).then(this.cc(b,`j`,`gp`))}}};function dz(d){this.d=d;this.cT={};this.dg={}};dz.prototype={S:function(b){this.d.n[b].html(`<a class="•fg" href="#">${this.d.l.gL('list', b, 'dQ')}</a> `)},cJ:function(b){var c=this;this.dg[b].click(function(t){t.preventDefault();c.d.l.ck(`list`,b)})},gf:function(b){return this.d.l.U(`list`)==b},r:function(b){return true},cn:function(b){this.S(b);this.cT[b]=this.d.n[b];this.cT[b].addClass(`•ff`);this.dg[b]=this.d.n[b].find(`a`)},F:function(b){this.cJ(b)},j:function(b){if(this.gf(b)){this.dg[b].addClass(`•s`);this.cT[b].addClass(`•s`)}else{this.dg[b].removeClass(`•s`);this.cT[b].removeClass(`•s`)}}};function fk(d){this.d=d;this.f=`ctype`;this.dH=this.d.z.cf(`facet`).I;this.v={};this.B={};this.dC={};this.cp={};this.Y={};this.G={};this.cE={};this.cx={};this.x={};this.dX={};this.dW={}};fk.prototype={S:function(b){var dF=2;var k=`<div><p class="•cU">By type</p>`;k +=`<p class="all"><span ti="_all" class="•W"></span> <a ti="_all" href="#" class="•cH">all types</a></p>
<table class="clist" id="list-ctype_${b}"><tr>`;for(var g in this.cx[b]){if((g % dF==0)&&(g > 0)&&(g < this.cx[b].length)){k +=`</tr><tr>`}var p=this.cx[b][g];var cF=this.x[b][p];k +=`<td><span ti="${p}" class="•W"></span></td><td><a ti="${p}" href="#" class="•cI">${cF}</a></td>`}k +=`</tr></table></div>`;this.d.n[b].html(k)},cJ:function(b){var c=this;this.cp[b]=$(`#list-ctype_${b}`);this.cp[b].find(`.•cI`).click(function(t){t.preventDefault();var p=$(this).attr(`ti`);var V=c.Z(c.d.l.U(`t_${b}`));V[p]=(p in V)?!V[p]:true;c.d.l.ck(`t_${b}`,c.cs(V))});this.Y[b]=this.d.n[b].find(`[ti="_all"]`);this.Y[b].click(function(t){t.preventDefault();var dJ=$(this).hasClass(`•s`);if(dJ){c.d.l.ck(`t_${b}`,c.cs(c.dW[b]))}else{c.d.l.ck(`t_${b}`,c.cs(c.dX[b]))}})},cK:function(b,A){var c=this;if(A==null || A==undefined || A==''){A=this.Z(``)}var cL=true;for(var p in this.x[b]){var cz=this.cp[b].find(`[ti="${p}"]`);if(p in A && A[p]){cz.addClass(`•s`)}else{cz.removeClass(`•s`,cz);cL=false}}if(cL){this.Y[b].addClass(`•s`)}else{this.Y[b].removeClass(`•s`)}},cs:function(P){var N=[];for(var L in P){if(P[L]){N.push(L)}}return N.join(',')},Z:function(cl){var P={};if(cl !==null && cl !=undefined && cl !=''){var N=cl.split(',');for(var g in N){P[N[g]]=true}}return P},dR:function(b){var c=this;this.G[b]={};for(var p in this.x[b]){this.G[b][p]=0}for(var L in this.v[b]){var g=this.v[b][L];var dV=this.B[b][g][3];for(var p in dV){this.G[b][p]+=1}}for(var p in this.G[b]){this.d.n[b].find(`span[ti="${p}"].•W`).html(this.G[b][p])}this.d.n[b].find(`span[ti="_all"].•W`).html(this.v[b].length)},cG:function(b,g){var dV=this.B[b][g][3];var cE=this.Z(this.cE[b]);for(var p in dV){if((p in cE)&& cE[p]){return true}}return false},r:function(b){return(this.d.l.U(`list`)==b)},cn:function(b){},F:function(b){},dZ:function(b){this.fw=this.d.z.cf(`list`);this.B[b]=this.fw.y[b];this.dC[b]=this.fw.fS[b];this.cx[b]=[];this.x[b]={};this.dW[b]={};this.dX[b]={};for(var p in this.dC[b].type){var cF=this.dC[b].type[p];this.dW[b][p]=false;this.dX[b][p]=true;this.cx[b].push(p);this.x[b][p]=cF}this.cx[b].sort();this.S(b);this.cJ(b)},j:function(b){},fd:function(b){this.cE[b]=this.d.l.U(`t_${b}`);this.cK(b,this.Z(this.cE[b]))}};function dA(d){this.d=d;this.f=`eumap`;this.dH=this.d.z.cf(`facet`).I;this.dc={};this.cy={};this.cp={};this.v={};this.cD={};this.B={};this.Y={};this.G={};this.fq={AT:[`Austria`,true,47.7,15.11],BE:[`Belgium`,true,51.3,3.1],HR:[`Croatia`,true,44.7,15.6],CY:[`Cyprus`,true,35.0,32.8],CZ:[`Czech Republic`,true,49.8,15.2],DK:[`Denmark`,true,55.6,11.0],EE:[`Estonia`,true,59.0,25.0],FR:[`France`,true,46.5,1.9],DE:[`Germany`,true,51.0,10.4],GR:[`Greece`,true,38.0,23.8],HU:[`Hungary`,true,46.9,19.8],IE:[`Ireland`,true,53.1,-8.4],IT:[`Italy`,true,41.6,13.0],LV:[`Latvia`,true,56.9,26.8],LT:[`Lithuania`,true,55.2,24.9],LU:[`Luxembourg`,true,49.6,6.1],MT:[`Malta`,true,35.9,14.4],NL:[`Netherlands`,true,52.8,5.8],PL:[`Poland`,true,52.3,19.8],PT:[`Portugal`,true,38.7,-9.0],RS:[`Serbia`,true,44.0,20.8],SK:[`Slovakia`,true,48.8,19.9],SI:[`Slovenia`,true,46.2,14.4],CH:[`Switzerland`,true,46.9,8.3],GB:[`United Kingdom`,true,52.9,-1.8],AL:[`Albania`,false],AD:[`Andorra`,false],BY:[`Belarus`,false],BA:[`Bosnia and Herzegovina`,false],BG:[`Bulgaria`,false],FI:[`Finland`,false],GE:[`Georgia`,false],IS:[`Iceland`,false],SM:[`San Marino`,false],KS:[`Kosovo`,false],LI:[`Liechtenstein`,false],MK:[`Macedonia`,false],MD:[`Moldova`,false],MC:[`Monaco`,false],ME:[`Montenegro`,false],NO:[`Norway`,false],RO:[`Romania`,false],RU:[`Russian Federation`,false],ES:[`Spain`,false],SE:[`Sweden`,false],TR:[`Turkey`,false],UA:[`Ukraine`,false]};this.gE={CY:true};this.cv=[];this.cA={};this.fL={};this.fH={};this.fI={};this.dP={};for(var h in this.fq){var cB=this.fq[h];if(cB[1]){this.fH[h]=false;this.fI[h]=true;this.cv.push(h);this.cA[h]=cB[0];if(cB.length > 3){this.fL[h]={latLng:[cB[2],cB[3]],f:cB[0]}}this.dP[h]='gA'}else{this.dP[h]='gI'}}this.cv.sort()};dA.prototype={S:function(b){var dF=2;var k=`<div><p class="•cU">By country</p>`;k +=`<div id="map-europe_${b}"></div>
<p class="all"><span cd="_all" class="•W"></span> <a cd="_all" href="#" class="•cH">all DARIAH</a></p>
<table class="clist" id="list-europe_${b}"><tr>`;for(var g in this.cv){if((g % dF==0)&&(g > 0)&&(g < this.cv.length)){k +=`</tr><tr>`}var h=this.cv[g];var gv=this.cA[h];k +=`<td><span cd="${h}" class="•W"></span></td><td><a cd="${h}" href="#" class="•cI">${gv}</a></td>`}k +=`</tr></table></div>`;this.d.n[b].html(k)},cJ:function(b){var c=this;var O=this.d.n[b];this.cy[b]=O.find(`#map-europe_${b}`);this.cp[b]=O.find(`#list-europe_${b}`);this.cy[b].width(`100%`);this.cy[b].height(this.cy[b].width()*0.6);this.cy[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,regionsSelectableOne:false,markerStyle:{initial:{fill:`#448844`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1,'r':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#000000`,'stroke-width':0,'stroke-opacity':1},selected:{},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{'fill-opacity':1,fill:`#dd8844`},selectedHover:{}},markers:this.fL,series:{markers:[{values:{},scale:[0,25],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'gI':`#ffffff`,'gA':`#ffeedd`},attribute:`fill`,values:c.dP}]},onRegionTipShow:function(t,gy,h){gy.html(`${h}: ${(h in c.G[b])?c.G[b][h]:'not in DARIAH'}`)},onRegionClick:function(t,q){if(!(q in c.cA)){t.preventDefault()}},onRegionSelected:function(t,q,g,V){if(c.fE){c.d.l.ck(`m_${b}`,c.gb(V))}}});this.dc[b]=this.cy[b].vectorMap('get','mapObject');this.dc[b].setFocus({regions:[`GB`,`GR`]});this.cp[b].find(`.•cI`).click(function(t){t.preventDefault();var h=$(this).attr(`cd`);var V=c.Z(c.d.l.U(`m_${b}`));V[h]=(h in V)?!V[h]:true;c.d.l.ck(`m_${b}`,c.cs(V))});this.Y[b]=this.d.n[b].find(`[cd="_all"]`);this.Y[b].click(function(t){t.preventDefault();var dJ=$(this).hasClass(`•s`);if(dJ){c.d.l.ck(`m_${b}`,c.cs(c.fH))}else{c.d.l.ck(`m_${b}`,c.cs(c.fI))}})},cK:function(b,A){var c=this;if(A==null || A==undefined || A==''){A=this.Z(``)}this.fE=false;var dS={};for(var ct in this.gE){if(ct in A){dS[ct]=A[ct];delete A[ct]}}this.dc[b].setSelectedRegions(A);for(var ct in dS){A[ct]=dS[ct]}this.fE=true;var cL=true;for(var h in this.cA){var cz=this.cp[b].find(`[cd="${h}"]`);if(h in A && A[h]){cz.addClass(`•s`)}else{cz.removeClass(`•s`);cL=false}}if(cL){this.Y[b].addClass(`•s`)}else{this.Y[b].removeClass(`•s`)}},gb:function(N){return N.join(',')},cs:function(P){var N=[];for(var L in P){if(P[L]){N.push(L)}}return N.join(',')},Z:function(cl){var P={};if(cl !==null && cl !=undefined && cl !=''){var N=cl.split(',');for(var g in N){P[N[g]]=true}}for(var h in this.cA){if(!(h in P)){P[h]=false}}return P},dR:function(b){var c=this;this.G[b]={};for(var h in this.cA){this.G[b][h]=0}for(var L in this.v[b]){var g=this.v[b][L];var h=this.B[b][g][2];this.G[b][h]+=1}var dv=this.v[b].length;if(dv==0){dv=1}for(var h in this.G[b]){this.d.n[b].find(`span[cd="${h}"].•W`).html(this.G[b][h])}var fV={};for(var h in this.G[b]){var fO=100 * this.G[b][h]/ dv;fV[h]=(dv < 10)?fO:(10*Math.sqrt(fO))}this.dc[b].series.markers[0].setValues(fV);this.d.n[b].find(`span[cd="_all"].•W`).html(this.v[b].length)},cG:function(b,g){var h=this.B[b][g][2];var cD=this.Z(this.cD[b]);return(h in cD)&& cD[h]},r:function(b){return(this.d.l.U(`list`)==b)},cn:function(b){this.S(b)},F:function(b){this.cJ(b)},dZ:function(b){this.B[b]=this.d.z.cf(`list`).y[b]},j:function(b){},fd:function(b){this.cD[b]=this.d.l.U(`m_${b}`);this.cK(b,this.Z(this.cD[b]))}};function fl(d){this.d=d;this.fz={};this.y={};this.ds={};this.v={};this.cP={}};fl.prototype={S:function(b){var k=``;k +=`<p>Filtering <span id="fstats_${b}"></span></p>`;this.d.n[b].html(k)},gn:function(b){var O=this.d.n[b];var gB=this.d.z.cf(`list`).n[b];this.fz[b]=O.find(`#fstats_${b}`);this.ds[b]=gB.find(`#table_${b}`);var gw=`<a class="showc fa fa-chevron-right" href="#" title="Show details"></a><a class="hidec fa fa-chevron-down" href="#" title="Hide details"></a>`;O.addClass(`•fj`);O.find(`p.•cU`).each(function(){var gH=$(this).html();$(this).html(`${gw}&nbsp;${gH}`)});O.find(`p.•cU`).closest(`div`).find(`table,.•cV`).show();O.find(`.hidec`).show();O.find(`.showc`).hide();O.find(`.hidec`).click(function(t){t.preventDefault();var cO=$(this).closest(`p`);var dG=$(this).closest(`div`).find(`table,.•cV`);dG.hide();cO.find(`.hidec`).hide();cO.find(`.showc`).show()});O.find(`.showc`).click(function(t){t.preventDefault();var cO=$(this).closest(`p`);var dG=$(this).closest(`div`).find(`table,.•cV`);dG.show();cO.find(`.hidec`).show();cO.find(`.showc`).hide()})},gr:function(b){this.ds[b].find(`tr[id]`).hide();var y=this.d.z.cf(`list`).y[b];var J=this.cP[b];this.v[b]=[];for(var K in J){var T=J[K].I;T.v[b]=[]}for(var g in y){var cG=true;var cS=null;var cN=false;for(var K in J){if(!cN){var T=J[K].I;var cF=T.cG(b,g);if(!cF){cG=false;if(cS==null){cS=T}else{cN=true}}}}if(!cN){if(cG){this.v[b].push(g);this.ds[b].find(`tr[id="r${y[g][0]}"]`).show()}if(cS !=null){cS.v[b].push(g)}else{for(var K in J){var T=J[K].I;T.v[b].push(g)}}}}for(var K in J){var T=J[K].I;T.dR(b)}this.fz[b].html(`${this.v[b].length} of ${y.length}`)},r:function(b){return this.d.l.U(`list`)==b},cn:function(b){this.D=this.d.D;this.cP[b]={};for(var K in this.D){var T=this.D[K];if(T.dh(b)){this.cP[b][K]=T}}this.S(b)},F:function(b){if(this.r(b)){var J=this.cP[b];for(var K in J){J[K].I.dZ(b)}this.gn(b)}},j:function(b){if(this.r(b)){var J=this.cP[b];for(var K in J){J[K].I.fd(b)}this.gr(b)}}};function fm(d){this.d=d;this.f=`filter`;this.dH=this.d.z.cf(`facet`).I;this.dT={};this.cd={};this.dE={};this.fD={};this.dr={};this.df={};this.db={};this.B={};this.v={};this.fb={}};fm.prototype={S:function(b){var k=`<div><p class="•cU">By full text search</p>`;k +=`<div id="fltw_${b}">`;k +=`<p id="•gR${b}" class="•cV •cH •dx ui-cT">`;k +=`<input id="flt_${b}" class="flt"/>`;k +=`<a href="#" class="•cH fa fa-close •gS" id="clearf_${b}"></a>`;k +=`<span •dx class="•W" id="stats_${b}"></span>&nbsp;`;k +=`</p>`;k +=`<div id="autoc_${b}" style="display: none;">here ${b}</div>`;k +=`</div>`;this.d.n[b].html(k)},cK:function(b){var dt=this.d.l.U(`f_${b}`);this.cd[b].val(dt);this.cd[b].autocomplete(`search`,dt)},gq:function(b){var dt=this.cd[b].val();if(dt==``){this.dE[b].removeClass(`•s`);this.df[b].hide()}else{this.dE[b].addClass(`•s`);this.df[b].show()}},gh:function(b){var c=this;return function(gU,fT){c.db[b]={};for(var g in fT.content){c.db[b][fT.content[g].value]=1}if(!(c.fb[b])){c.d.l.ck(`f_${b}`,c.cd[b].val())}}},gk:function(b){var c=this;this.df[b].click(function(t){t.preventDefault();c.cd[b].val(``);c.cd[b].autocomplete(`search`,``)})},dR:function(b){if(this.cd[b].val()==``){var fP=``;this.dr[b].removeClass(`•s`)}else{var fP=`${this.dH.v[b].length} of `;this.dr[b].addClass(`•s`)}this.dr[b].html(`${fP}${this.v[b].length}`)},cG:function(b,g){return(g in this.db[b])},r:function(b){return(this.d.l.U(`list`)==b)},cn:function(b){this.S(b)},F:function(b){this.gk(b);this.cd[b].autocomplete({appendTo:this.fD[b],source:this.dT[b],response:this.gh(b),minLength:0});this.fb[b]=true;this.cK(b);this.fb[b]=false},dZ:function(b){var c=this;var O=this.d.n[b];var cM=O.find(`#fltw_${b}`);this.cd[b]=cM.find(`#flt_${b}`);this.dE[b]=cM.find(`#•gR${b}`);this.fD[b]=cM.find(`#autoc_${b}`);this.dr[b]=cM.find(`#stats_${b}`);this.df[b]=cM.find(`#clearf_${b}`);this.db[b]={};this.v[b]=[];var y=this.d.z.cf(`list`).y[b];this.B[b]=y;this.dT[b]=[];for(var g in y){this.dT[b].push({label:y[g][1],value:g})}},j:function(b){},fd:function(b){this.gq(b)}};var gT=(function(){`use strict`;var gt={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(dU){return dU.replace(/[&<>]/g,function(gs){return gt[gs]})}}());var fZ={dn:function(f){return this.fN()[f]},fN:function(dw){var g,dn,dM,fR,cj;cj={};if(!dw){dw=window.location.search}if(dw.indexOf("?")===-1){return{}}fR=dw.slice(1);dM=fR.split("&");for(var g in dM){dn=dM[g].split("=");cj[dn[0]]=dn[1];g++}return cj}};var dO=fZ.fN();var gF=$.initNamespaceStorage(`req`);var cQ=gF.localStorage;function dB(d){this.d=d};dB.prototype={S:function(b){var k=``;k +=`<table id="table_${b}">`;if(b==`contrib`){for(var g in this.d.y[b]){ch=this.d.y[b][g];k +=`<tr id="r${ch[0]}"><td class="•fX">${ch[2]}<td><td class="•fY">${ch[3]}<td><td><a href="#" rid="${ch[0]}">${ch[1]}</a></td></tr>`}}else if(b==`country`){for(var g in this.d.y[b]){ch=this.d.y[b][g];k +=`<tr id="r${ch[0]}"><td class="•fX">${ch[0]}<td><td class="•fY">${ch[1]}<td></tr>`}}k +=`</table>`;this.d.n[b].html(k)},r:function(b){return this.d.l.U(`list`)==b},cn:function(b){},F:function(b){this.S(b)},j:function(b){}};var fU;$(function(){fU=new cX();fU.j()});function cW(cm,gG){var c=this;this.X=$(`#${cm}`);this.fA=$(`#trash_${cm}`);this.fB=this.fA.closest(`p`);this.fA.click(function(t){t.preventDefault();c.fF()});this.fv();this.fx=gG};cW.prototype={fv:function(){this.X.hide();this.fB.hide()},gl:function(){this.X.show();if(this.X.html()!=``){this.fB.show()}},fF:function(){this.X.html(``);if(this.fx !=undefined){this.fx()}this.fv()},w:function(dU,dK){if(dK==undefined){dK=`info`}var gD=this.X.html();this.X.html(`${gD}<p class="${dK}">${dU}</p>`);this.gl()}};function cX(){this.f=`page`;this.w=new cW(`msg_${this.f}`);this.l=new fn(this);var dj=this.l.gz(`list`);var fG={contrib:1};this.cZ=[[`left`,`control`,dj,false,true,dz],[`control`,`facet`,dj,false,false,fl],[`facet`,`filter`,dj,false,false,fm],[`facet`,`eumap`,fG,false,false,dA],[`facet`,`ctype`,fG,false,false,fk],[`middle`,`list`,dj,true,false,dB]];this.cb={};this.dd={page:[`control`],control:[`list`],list:[`facet`],facet:[`filter`,`eumap`,`ctype`]};this.cb={};for(var g in this.cZ){var q=this.cZ[g];var R=new dy(q[0],q[1],q[2],q[3],q[4],q[5],this);this.cb[q[1]]=R}for(var dq in this.dd){var dN=(dq in this.cb)?this.cb[dq]:this;dN.D={};for(var g in this.dd[dq]){var q=this.dd[dq][g];var R=this.cb[q];dN.D[q]=R;R.dp=dN}}for(var g in this.cZ){var q=this.cZ[g];var R=this.cb[q[1]];R.cn()}this.gj(80);History.Adapter.bind(window,`statechange`,this.l.j())};cX.prototype={gj(gM){var gQ=`${window.innerHeight - gM}px`;for(var gP in{middle:1,left:1,right:1}){$(`#${gP}`).css(`height`,gQ)}},r:function(){for(var q in this.D){var R=this.D[q];for(var b in R.cw){R.r(b)}}},cf:function(f){return this.cb[f]},j:function(){this.r();for(var q in this.D){var R=this.D[q];for(var b in R.cw){R.j(b)}}}};function fn(z){this.B={};this.z=z;this.w=z.w;this.gc();this.fp()};fn.prototype={cq:{list:{x:`string`,C:{contrib:1,country:1},H:`contrib`},f_contrib:{x:`string`,C:null,H:``},f_country:{x:`string`,C:null,H:``},m_contrib:{x:`string`,C:null,H:``},m_country:{x:`string`,C:null,H:``},t_contrib:{x:`string`,C:null,H:``},t_country:{x:`string`,C:null,H:``},id:{x:`integer`,C:{gY:-1,gV:1000000},H:0},sort:{x:`boolean`,C:{v:true,x:false},H:true}},dD:{list:{contrib:{dQ:`contribution`,gJ:`contributions`},country:{dQ:`country`,gJ:`countries`}}},gm:function(f,m){var cg,gX;if(f in this.cq){var Q=this.cq[f];if(Q.x==`string`){if(Q.C){if(m in Q.C){cg=m}else{cg=Q.H;this.w.w(`illegal string value for ${f}: "${m}" is replaced by "${Q.H}"`,`warning`)}}else{cg=m}}else if(Q.x==`integer`){if(/^(\-|\+)?[0-9]+$/.test(m)){cg=Number(m)}else{cg=Q.H;this.w.w(`not a number value for ${f}: "${m}" is replaced by "${Q.H}"`,`warning`)}}else if(Q.x==`boolean`){if(m in Q.C){cg=Q.C[m]}else{cg=Q.H;this.w.w(`illegal boolean value for ${f}: "${m}" is replaced by "${Q.H}"`,`warning`)}}}else{cg=null;this.w.w(`unknown parameter: ${f}=${m}`,`warning`)}return cg},gd:function(){dY=[];for(var f in this.B){var m=this.B[f];var cR=this.cq[f];if(cR.x==`string` || cR.x==`integer`){dY.push(`${f}=${m}`)}else if(cR.x==`boolean`){for(fW in cR.C){if(cR.C[fW]==m){dY.push(`${f}=${fW}`)}}}}return dY.join(`&`)},gc:function(){for(var f in dO){if(!(f in this.cq)){this.w.w(`unknown parameter: ${f}=${m}`,`warning`)}}for(var f in this.cq){var m=null;if(f in dO){var gK=dO[f];m=this.gm(f,gK);cQ.set(f,m)}else if(cQ.isSet(f)){m=cQ.get(f)}else{m=this.cq[f].H;cQ.set(f,m)}this.B[f]=m}},fp:function(gZ,hb){var gO=`DARIAH contribution tool`;var gN=`${app_url}?${this.gd()}`;History.pushState(this.B,gO,gN)},ck:function(f,m){this.B[f]=m;cQ.set(f,m);this.fp()},U:function(f){return this.B[f]},gz:function(f){return this.cq[f].C},gL:function(f,m,dL){var cj=m;var gW=(dL==undefined)?`dQ`:dL;if(this.dD[f]!=undefined && this.dD[f][m]!=undefined){cj=this.dD[f][m][dL]}return cj},j:function(){var c=this;return function(){var l=History.getState();if(l && l.data){c.B=l.data;c.z.j()}}}};