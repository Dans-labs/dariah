var jr=(function(){`use strict`;var hp={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(fC){return fC.replace(/[&<>]/g,function(cw){return hp[cw]})}}());var gU={dI:function(c){return this.gE()[c]},gE:function(dO){var h,dI,gF,gK,cq;cq={};if(!dO){dO=window.location.search}if(dO.indexOf("?")===-1){return{}}gK=dO.slice(1);gF=gK.split("&");gF.forEach(function(hM,h){dI=hM.split("=");cq[dI[0]]=dI[1]});return cq}};var fy=gU.gE();var hC=$.initNamespaceStorage(`req`);var dd=hC.localStorage;function ds(cY,hI){this.cI=$(`#${cY}`);this.gb=$(`#trash_${cY}`);this.gc=this.gb.closest(`p`);this.gb.click(function(r){r.preventDefault();this.gl()}.bind(this));this.fP();this.fW=hI};ds.prototype={fP:function(){this.cI.hide();this.gc.hide()},hk:function(){this.cI.show();if(this.cI.html()!=``){this.gc.show()}},gl:function(){this.cI.html(``);if(this.fW !=undefined){this.fW()}this.fP()},s:function(fC,ft){if(ft==undefined){ft=`info`}var hE=this.cI.html();this.cI.html(`${hE}<p class="${ft}">${fC}</p>`);this.hk()}};function fL(B){this.ct={};this.B=B;this.s=B.s;this.gY();this.fN()};fL.prototype={cv:{list:{H:true,x:`string`,y:{contrib:1,country:1,type:1,tadiraha:1,tadiraho:1,tadiraht:1},z:`contrib`},flt_contrib:{H:false,x:`string`,y:null,z:``},flt_country:{H:false,x:`string`,y:null,z:``},flt_type:{H:false,x:`string`,y:null,z:``},flt_tadiraha:{H:false,x:`string`,y:null,z:``},flt_tadiraho:{H:false,x:`string`,y:null,z:``},flt_tadiraht:{H:false,x:`string`,y:null,z:``},rel_country_contrib:{H:false,x:`string`,y:null,z:``},rel_type_contrib:{H:false,x:`string`,y:null,z:``},rel_tadiraha_contrib:{H:false,x:`string`,y:null,z:``},rel_tadiraho_contrib:{H:false,x:`string`,y:null,z:``},rel_tadiraht_contrib:{H:false,x:`string`,y:null,z:``},id:{H:true,x:`integer`,dE:{gA:-1,gy:1000000},z:0},sort:{H:false,x:`boolean`,y:{v:true,x:false},z:true}},fj:{list:{contrib:{cs:`contribution`,cN:`contributions`},country:{cs:`country`,cN:`countries`},type:{cs:`type`,cN:`types`},tadiraha:{cs:`tadirah activity`,cN:`tadirah activities`},tadiraho:{cs:`tadirah object`,cN:`tadirah objects`},tadiraht:{cs:`tadirah technique`,cN:`tadirah techniques`}}},hl:function(c,k){var K,jw;if(c in this.cv){var t=this.cv[c];if(t.x==`string`){if(t.y){if(k in t.y){K=k}else{K=t.z;this.s.s(`illegal string value for ${c}: "${k}" is replaced by "${t.z}"`,`warning`)}}else{K=k}}else if(t.x==`integer`){if(/^(\-|\+)?[0-9]+$/.test(k)){K=Number(k)}else{K=t.z;this.s.s(`not a number value for ${c}: "${k}" is replaced by "${t.z}"`,`warning`)}if(K < t.dE.gA){this.s.s(`number to small for ${c}: "${K}" is replaced by "${t.dE.gA}"`,`warning`)}if(K > t.dE.gy){this.s.s(`number to big for ${c}: "${K}" is replaced by "${t.dE.gy}"`,`warning`)}}else if(t.x==`boolean`){if(k in t.y){K=t.y[k]}else{K=t.z;this.s.s(`illegal boolean value for ${c}: "${k}" is replaced by "${t.z}"`,`warning`)}}}else{K=null;this.s.s(`unknown parameter: ${c}=${k}`,`warning`)}return K},gZ:function(){fD=[];for(var c in this.ct){var k=this.ct[c];var t=this.cv[c];if(t.H){if(t.x==`string` || t.x==`integer`){fD.push(`${c}=${k}`)}else if(t.x==`boolean`){for(var gP in t.y){if(t.y[gP]==k){fD.push(`${c}=${gP}`)}}}}}return fD.join(`&`)},gY:function(){for(var c in fy){if(!(c in this.cv)){this.s.s(`unknown parameter: ${c}=${k}`,`warning`)}}for(var c in this.cv){var k=null;if(c in fy){var hQ=fy[c];k=this.hl(c,hQ);dd.set(c,k)}else if(dd.isSet(c)){k=dd.get(c)}else{k=this.cv[c].z;dd.set(c,k)}this.ct[c]=k}},fN:function(jx,jz){var hU=`DARIAH contribution tool`;var hS=`${app_url}?${this.gZ()}`;History.pushState(this.ct,hU,hS)},cB:function(c,k){this.ct[c]=k;dd.set(c,k);this.fN()},cp:function(c){return this.ct[c]},hx:function(c){return this.cv[c].y},fz:function(c,k,dH){var cq=k;var jv=(dH==undefined)?`cs`:dH;if(this.fj[c]!=undefined && this.fj[c][k]!=undefined){cq=this.fj[c][k][dH]}return cq},g:function(){return function(){var q=History.getState();if(q && q.data){this.ct=q.data;this.B.g()}}.bind(this)}};function R(d,x){this.d=d;this.C={};this.fd={};this.fQ={};this.fg={};this.dy={};this.N={};this.cl={};this.S={};this.cT={};this.cS={};this.V={ck:`-`,c:`-none`};this.I=x};R.prototype={cb:function(b){var hq=2;var hW=this.d.q.fz(`list`,this.I,`cs`);var hV=this.d.q.fz(`list`,this.I,`cN`);var j=`<div><p class="•dp">By ${hW}</p>`;j +=this.fS(b);j +=`<p class="•jd"><span rv="_all" class="•cF"></span> <a rv="_all" href="#" class="•dn">all ${hV}</a></p>
<table class="•jm" id="list-${this.I}-vals_${b}"><tr>`;this.cl[b].forEach(function(f,h,cc){if((h % hq==0)&&(h > 0)&&(h < cc.length)){j +=`</tr><tr>`}j +=`<td><span rv="${f}" class="•cF"></span></td><td><a rv="${f}" href="#" class="•dR">${this.S[b][f]}</a></td>`},this);j +=`</tr></table>`;j +=`<p class="•dT" id="list2-${this.I}-vals_${b}">`;this.cl[b].forEach(function(f,h,cc){j +=`<span rv="${f}" class="•gT">${this.S[b][f]}</span> `},this);j +=`</p>`;j +=`</div>`;this.d.m[b].html(j)},dZ:function(b){var v=this.d.m[b];this.fd[b]=v.find(`#list-${this.I}-vals_${b}`);this.fQ[b]=v.find(`#list2-${this.I}-vals_${b}`);var D=this;this.fd[b].find(`.•dR`).click(function(r){r.preventDefault();var f=$(this).attr(`rv`);var cr=D.fc(b,D.d.q.cp(`rel_${D.I}_${b}`));cr[f]=(f in cr)?!cr[f]:true;D.d.q.cB(`rel_${D.I}_${b}`,D.fm(cr))});this.dy[b]=this.d.m[b].find(`[rv="_all"]`);this.dy[b].click(function(r){r.preventDefault();var hA=$(this).hasClass(`•A`);if(hA){D.d.q.cB(`rel_${D.I}_${b}`,D.fm(D.cS[b]))}else{D.d.q.cB(`rel_${D.I}_${b}`,D.fm(D.cT[b]))}})},fh:function(b,p){var gj=true;for(var f in this.S[b]){var gr=this.fd[b].find(`[rv="${f}"]`);var gs=this.fQ[b].find(`[rv="${f}"]`);if(f in p && p[f]){gr.addClass(`•A`);gs.addClass(`•A`)}else{gr.removeClass(`•A`);gs.removeClass(`•A`);gj=false}}if(gj){this.dy[b].addClass(`•A`)}else{this.dy[b].removeClass(`•A`)}},fM:function(cc){return cc.join(',')},fm:function(cA){var cc=[];for(var dQ in cA){if(cA[dQ]){cc.push(dQ)}}return cc.join(',')},fc:function(b,cO){var cA={};if(cO !==null && cO !=undefined && cO !=''){var cc=cO.split(',');cc.forEach(function(cE){cA[cE]=true})}for(var f in this.S[b]){if(!(f in cA)){cA[f]=false}}return cA},gM:function(b){this.N[b]={};for(var f in this.S[b]){this.N[b][f]=0}var df=this.d.G[b];for(var dQ in this.C[b]){var h=this.C[b][dQ];var gv=false;for(var f in df[h]){this.N[b][f]+=1;gv=true}if(!gv){this.N[b][this.V.ck]+=1}}for(var f in this.N[b]){this.d.m[b].find(`span[rv="${f}"].•cF`).html(this.N[b][f])}this.d.m[b].find(`span[rv="_all"].•cF`).html(this.C[b].length);this.fU(b)},cE:function(b,h){var df=this.d.G[b];var dJ=this.fc(b,this.fg[b]);if((h in df)&&(Object.keys(df[h]).length !=0)){for(var f in df[h]){if((f in dJ)&& dJ[f]){return true}}}else{if((this.V.ck in dJ)&&(dJ[this.V.ck])){return true}}return false},M:function(b){return(this.d.q.cp(`list`)==b)},P:function(b){this.cl[b]=[];this.S[b]={};this.cS[b]={};this.cT[b]={};this.fX(b);this.fV(b);this.cl[b].push(this.V.ck);this.S[b][this.V.ck]=this.V.c;this.cS[b][this.V.ck]=false;this.cT[b][this.V.ck]=true;this.cb(b)},F:function(b){this.fR(b);this.dZ(b)},g:function(b){this.fg[b]=this.d.q.cp(`rel_${this.I}_${b}`);var p=this.fc(b,this.fg[b]);this.fT(b,p);this.fh(b,p)},fX:function(b){var p=this.d.p[b];for(var h in p){var f=p[h];this.cS[b][h]=false;this.cT[b][h]=true;this.cl[b].push(h);this.S[b][h]=f}this.cl[b].sort(function(cw,cU){return(p[cw]< p[cU])?-1:(p[cw]> p[cU])?1:0})},fV:function(b){},fS:function(b){return ``},fR:function(b){},fT:function(b){},fU:function(b){}};function dr(d){R.call(this,d,`type`)};dr.prototype=Object.create(R.prototype);dr.prototype.constructor=dr;function dw(d){R.call(this,d,`tadiraho`)};dw.prototype=Object.create(R.prototype);dw.prototype.constructor=dw;function dv(d){R.call(this,d,`tadiraha`)};dv.prototype=Object.create(R.prototype);dv.prototype.constructor=dv;function dx(d){R.call(this,d,`tadiraht`)};dx.prototype=Object.create(R.prototype);dx.prototype.constructor=dx;function Q(d){R.call(this,d,`country`);this.cK={};this.cJ={};this.ff={};this.dB={};this.hc={CY:true,KS:true,TR:true,MC:true,GE:true}}Q.prototype=Object.create(R.prototype);Q.prototype.constructor=Q;Q.prototype.fS=function(b){return `<div id="map-europe_${b}" class="•jk"><p class="•dU"><a class="fa fa-arrows" href="#" title="zoom to fit all countries"/></p></div>`};Q.prototype.fR=function(b){var D=this;var v=this.d.m[b];this.cJ[b]=v.find(`#map-europe_${b}`);var gw=this.cJ[b].width()*0.6;this.cJ[b].width(`100%`);this.cJ[b].height(gw);this.cJ[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,markersSelectable:true,regionsSelectableOne:false,markersSelectableOne:false,markerStyle:{initial:{fill:`#008800`,'fill-opacity':0.2,stroke:`none`,'stroke-width':0,'stroke-opacity':0.2,'r':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':1,'stroke-opacity':1},selected:{fill:`#008800`,'fill-opacity':1},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{fill:`#dd8844`,'fill-opacity':1},selectedHover:{}},markers:this.ff[b],series:{markers:[{values:{},scale:[0,20],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'hL':`#ffffff`,'hz':`#ffddbb`},attribute:`fill`,values:this.dB[b]}]},onRegionTipShow:function(r,fr,f){fr.html(`${f}: ${(f in this.N[b])?this.N[b][f]:'not in DARIAH'}`)}.bind(this),onMarkerTipShow:function(r,fr,f){fr.html(`${f}: ${(f in this.N[b])?this.N[b][f]:'not in DARIAH'}`)}.bind(this),onRegionClick:function(r,f){if(!(f in this.S[b])){r.preventDefault()}}.bind(this),onMarkerClick:function(r,f){if(!(f in this.S[b])){r.preventDefault()}}.bind(this),onRegionSelected:function(r,f,h,cr){if(this.fq){this.d.q.cB(`rel_${this.I}_${b}`,this.fM(cr))}}.bind(this),onMarkerSelected:function(r,f,h,cr){if(this.fq){this.d.q.cB(`rel_${this.I}_${b}`,this.fM(cr))}}.bind(this)});var gR=v.find(`p.•dU`);gR.css(`top`,`${gw-20}px`);gR.css(`left`,`10px`);var jc=v.find(`p.•dU a`);jc.click(function(r){r.preventDefault();D.cK[b].setFocus({regions:[`GB`,`GR`]})});this.cK[b]=this.cJ[b].vectorMap('get','mapObject');this.cK[b].setFocus({regions:[`GB`,`GR`]})};Q.prototype.fT=function(b,p){this.fq=false;var fv={};for(var f in p){if(!(f in this.hc)&& f !=this.V.ck){fv[f]=p[f]}}this.cK[b].setSelectedRegions(fv);this.cK[b].setSelectedMarkers(fv);this.fq=true};Q.prototype.fU=function(b){var dN=this.C[b].length;if(dN==0){dN=1}var gQ={};for(var f in this.N[b]){if(f !=this.V.ck){var gG=100 * this.N[b][f]/ dN;gQ[f]=(dN < 10)?gG:(10*Math.sqrt(gG))}}this.cK[b].series.markers[0].setValues(gQ)};Q.prototype.fX=function(b){};Q.prototype.fV=function(b){this.ff[b]={};this.dB[b]={};var p=this.d.p[b];for(var h in p){var f=p[h];if(f[1]){this.cS[b][h]=false;this.cT[b][h]=true;this.cl[b].push(h);this.S[b][h]=f[0];if(f.length > 3){this.ff[b][h]={latLng:[f[2],f[3]],c:f[0]}}this.dB[b][h]='hz'}else{this.dB[b][h]='hL'}}this.cl[b].sort(function(cw,cU){return(p[cw]< p[cU])?-1:(p[cw][0]> p[cU][0])?1:0})};function fK(d){this.d=d;this.fk={};this.Z={};this.fb={};this.dY={};this.fO={};this.dC={};this.dz={};this.fp={};this.dA={};this.C={}};fK.prototype={cb:function(b){var j=`<div><p class="•dp">By full text search <span id="flt2_${b}" class="•dq"></span></p>`;j +=`<div id="fltw_${b}">`;j +=`<p id="•jg${b}" class="•cR •dn •dS ui-widget">`;j +=`<input id="flt_${b}" class="flt"/>`;j +=`<a href="#" class="•dn fa fa-close •jh" id="clearf_${b}"></a>`;j +=`<span •dS class="•cF" id="stats_${b}"></span>&nbsp;`;j +=`</p>`;j +=`<div id="autoc_${b}" style="display: none;">here ${b}</div>`;j +=`</div>`;this.d.m[b].html(j)},fh:function(b){var dj=this.d.q.cp(`flt_${b}`);this.fb[b].html(dj);this.Z[b].val(dj);this.Z[b].autocomplete(`search`,dj)},hg:function(b){return function(js,hY){this.dA[b]={};hY.content.forEach(function(hX,h){this.dA[b][hX.value]=1},this);if(!(this.fp[b])){this.d.q.cB(`flt_${b}`,this.Z[b].val())}}.bind(this)},hh:function(b){this.dz[b].click(function(r){r.preventDefault();this.Z[b].val(``);this.Z[b].autocomplete(`search`,``)}.bind(this))},gM:function(b){var fA;if(this.Z[b].val()==``){fA=``;this.dC[b].removeClass(`•A`)}else{fA=`${this.l.C[b].length} of `;this.dC[b].addClass(`•A`)}this.dC[b].html(`${fA}${this.C[b].length}`)},cE:function(b,h){return(h in this.dA[b])},M:function(b){return(this.d.q.cp(`list`)==b)},P:function(b){this.cb(b)},F:function(b){if(!this.l){this.l=this.d.B.cx(`l`).J}var G=this.d.B.cx(`X`).G[b];this.fk[b]=[];G.forEach(function(cm,h){this.fk[b].push({label:cm[1],value:`${cm[0]}`})},this);this.dA[b]={};this.C[b]=[];var v=this.d.m[b];var cV=v.find(`#fltw_${b}`);this.Z[b]=cV.find(`#flt_${b}`);this.fb[b]=v.find(`#flt2_${b}`);this.dY[b]=cV.find(`#•jg${b}`);this.fO[b]=cV.find(`#autoc_${b}`);this.dC[b]=cV.find(`#stats_${b}`);this.dz[b]=cV.find(`#clearf_${b}`);this.Z[b].autocomplete({appendTo:this.fO[b],source:this.fk[b],response:this.hg(b),minLength:0});this.hh(b);this.fp[b]=true;this.fh(b);this.fp[b]=false},g:function(b){var dj=this.Z[b].val();if(dj==``){this.dY[b].removeClass(`•A`);this.dz[b].hide()}else{this.dY[b].addClass(`•A`);this.dz[b].show()}}};function fJ(d){this.d=d;this.fY={};this.G={};this.fB={};this.C={};this.fs={}};fJ.prototype={cb:function(b){var j=``;j +=`<p>Filtering <span id="fstats_${b}"></span></p>`;this.d.m[b].html(j)},jn:function(b,dH){},M:function(b){return this.d.q.cp(`list`)==b},P:function(b){var cM=this.d.cM;this.fs[b]={};for(var U in cM){var ht=cM[U];if(ht.cy(b)){this.fs[b][U]=cM[U]}}this.cb(b)},F:function(b){var v=this.d.m[b];var hB=this.d.B.cx(`X`).m[b];this.fY[b]=v.find(`#fstats_${b}`);this.fB[b]=hB.find(`#table_${b}`);var hs=`<a class="showc fa fa-chevron-right" href="#" title="Show details"></a><a class="morec fa fa-chevron-down" href="#" title="Less details"></a><a class="hidec fa fa-chevron-up" href="#" title="Hide details"></a>`;v.addClass(`•fI`);v.find(`p.•dp`).each(function(){var hJ=$(this).html();$(this).html(`${hs}&nbsp;${hJ}`)});v.find(`p.•dp`).closest(`div`).find(`table,.•cR`).hide();v.find(`p.•dp`).closest(`div`).find(`.•dT,.•dq`).show();v.find(`.hidec`).show();v.find(`.morec`).hide();v.find(`.showc`).hide();v.find(`.hidec`).click(function(r){r.preventDefault();var T=$(this).closest(`p`);var gx=$(this).closest(`div.•fE`).attr(`id`);$(this).closest(`div`).find(`table,.•cR`).hide();$(this).closest(`div`).find(`.•dT,.•dq`).hide();T.find(`.hidec`).hide();T.find(`.morec`).hide();T.find(`.showc`).show()});v.find(`.morec`).click(function(r){r.preventDefault();var T=$(this).closest(`p`);var gx=$(this).closest(`div.•fE`).attr(`id`);$(this).closest(`div`).find(`table,.•cR`).hide();$(this).closest(`div`).find(`.•dT,.•dq`).show();T.find(`.hidec`).show();T.find(`.morec`).hide();T.find(`.showc`).hide()});v.find(`.showc`).click(function(r){r.preventDefault();var T=$(this).closest(`p`);var gx=$(this).closest(`div.•fE`).attr(`id`);$(this).closest(`div`).find(`table,.•cR`).show();$(this).closest(`div`).find(`.•dT,.•dq`).hide();T.find(`.hidec`).hide();T.find(`.morec`).show();T.find(`.showc`).hide()})},g:function(b){this.fB[b].find(`tr[id]`).hide();var hF=this.d.B.cx(`X`);var G=hF.G[b];var cn=this.fs[b];this.C[b]=[];for(var U in cn){var l=cn[U].J;l.C[b]=[]}G.forEach(function(cm,h){var cE=true;var dk=null;var cZ=false;for(var U in cn){if(!cZ){var l=cn[U].J;var gO=l.cE(b,cm[0]);if(!gO){cE=false;if(dk==null){dk=l}else{cZ=true}}}}if(!cZ){if(cE){this.C[b].push(cm[0]);this.fB[b].find(`tr[id="r${cm[0]}"]`).show()}if(dk !=null){dk.C[b].push(cm[0])}else{for(var U in cn){var l=cn[U].J;l.C[b].push(cm[0])}}}},this);for(var U in cn){var l=cn[U].J;l.gM(b)}this.fY[b].html(`${this.C[b].length} of ${G.length}`)}};function dX(d){this.d=d};dX.prototype={cb:function(b){var j=``;j +=`<table id="table_${b}">`;if(b==`contrib`){this.d.G[b].forEach(function(L){j +=`<tr id="r${L[0]}"><td><a href="#" rid="${L[0]}">${L[1]}</a></td></tr>`})}else if(b==`country`){this.d.G[b].forEach(function(L){hy=(L[3]==1)?`dariah`:``;j +=`<tr id="r${L[0]}"><td class="•jf">${L[1]}<td><td class="•jA">${L[2]}<td><td class="•jj">${hy}</td><td class="•gS">${L[4]}</td><td class="•gS">${L[5]}</td></tr>`})}else if(b==`type` || b==`tadiraha` || b==`tadiraho` || b==`tadiraht`){this.d.G[b].forEach(function(L){j +=`<tr id="r${L[0]}"><td class="•jl">${L[1]}<td></tr>`})}j +=`</table>`;this.d.m[b].html(j)},M:function(b){return this.d.q.cp(`list`)==b},P:function(b){this.cb(b)},F:function(b){},g:function(b){}};function dW(d){this.d=d;this.dP={};this.dD={}};dW.prototype={cb:function(b){this.d.m[b].html(`<a class="•fG" href="#">${this.d.q.fz('list', b, 'cs')}</a> `)},dZ:function(b){this.dD[b].click(function(r){r.preventDefault();this.d.q.cB(`list`,b)}.bind(this))},hb:function(b){return this.d.q.cp(`list`)==b},M:function(b){return true},P:function(b){this.cb(b);this.dP[b]=this.d.m[b];this.dP[b].addClass(`•fF`);this.dD[b]=this.d.m[b].find(`a`)},F:function(b){this.dZ(b)},g:function(b){if(this.hb(b)){this.dD[b].addClass(`•A`);this.dP[b].addClass(`•A`)}else{this.dD[b].removeClass(`•A`);this.dP[b].removeClass(`•A`)}}};function dV(c,cC,B){this.c=c;this.B=B;this.cC=cC;this.E=cC.E;this.cL={};for(var b in this.E){this.cL[b]={};for(var cO in this.B.dK){this.cL[b][cO]=true}}this.s={};this.m={};this.q=this.B.q;this.G={};this.p={};this.J=new cC.w(this)};dV.prototype={gB:function(b,n){return !this.cL[b][n].state ||(this.cL[b][n].state()==`rejected`)},gV:function(b,n,dG){var gz=this[dG].bind(this,b);var hT=this.B.hv(this.c,n);var gJ=[];hT.forEach(function(dM){var fw=dM[0];var fx=dM[1];var gH=this.B.cx(fw);if(gH.cy(b)){gJ.push(gH.cL[b][fx])}},this);this.cL[b][n]=$.when.apply($,gJ).then(gz)},cf:function(b,n,dG){if(n in this.B.dK){if(!this.B.dK[n]|| this.gB(b,n)){this.gV(b,n,dG)}}},cy:function(b){return(b in this.E)},fn:function(b,hH){if(this.cy(b)){if(b in this.m){if(hH){this.m[b].show()}else{this.m[b].hide()}}}},gX:function(b){var O=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.cC.O}_${b}`)+`.json`;this.s[b].s(`fetching data ...`);var hP=this.hd.bind(this,b);return $.ajax({type:`POST`,url:O,contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cz){hP(cz)})},hd:function(b,cz){this.s[b].gl();cz.msgs.forEach(function(hD){this.s[b].s(hD)},this);if(cz.good){this.G[b]=cz.data;if(`relvals` in cz){this.p[b]=cz.relvals}}this.J.P(b)},gd:function(b){this.gW=this.B.hw(this.cC.W,this.E);this.m[b]=$(`#${this.c}_${b}`);if(this.m[b].length==0){var cY=this.gW[b];cY.append(`<div id="msg_${this.c}_${b}"></div>`);cY.append(`<div id="${this.c}_${b}" class="•fE"></div>`);this.m[b]=$(`#${this.c}_${b}`)}this.s[b]=new ds(`msg_${this.c}_${b}`);if(this.cC.O !=null){return this.gX(b)}else{this.J.P(b)}},gf:function(b){this.J.F(b)},gg:function(b){this.fn(b,true);this.J.g(b)},g:function(b){if(this.cy(b)&& this.J.M(b)){this.cf(b,`P`,`gd`);this.cf(b,`F`,`gf`);this.cf(b,`g`,`gg`)}else{this.fn(b,false)}},P:function(b){if(this.cy(b)&& this.J.M(b)){this.cf(b,`P`,`gd`)}},F:function(b){if(this.cy(b)&& this.J.M(b)){this.cf(b,`F`,`gf`)}},g:function(b){if(this.cy(b)&& this.J.M(b)){this.cf(b,`g`,`gg`)}else{this.fn(b,false)}}};function dt(){this.c=`page`;this.s=new ds(`msg_${this.c}`);this.q=new fL(this);this.dK={P:true,F:true,g:false};this.gL={F:`P`,g:`F`};var dF=this.q.hx(`list`);var cW={contrib:1};this.cH={gn:{W:`left`,E:dF,O:null,w:dW},X:{W:`middle`,E:dF,O:`list`,w:dX},l:{W:`gn`,E:dF,O:null,w:fJ},dc:{W:`l`,E:dF,O:null,w:fK},db:{W:`l`,E:cW,O:`country`,w:Q},cX:{W:`l`,E:cW,O:`type`,w:dr},dg:{W:`l`,E:cW,O:`tadiraha`,w:dv},dh:{W:`l`,E:cW,O:`tadiraho`,w:dw},dL:{W:`l`,E:cW,O:`tadiraht`,w:dx}},this.cG={P:{l:{gn:1,X:1},dc:{l:1},db:{l:1,dc:1},cX:{l:1,db:1},dg:{l:1,cX:1},dh:{l:1,dg:1},dL:{l:1,dh:1}},F:{l:{dc:1,db:1,cX:1,dg:1,dh:1,dL:1},dc:{X:1},db:{X:1},cX:{X:1},dg:{X:1},dh:{X:1},dL:{X:1}},g:{l:{dc:1,db:1,cX:1,dg:1,dh:1,dL:1}}};this.cd={};for(var c in this.cH){var d=new dV(c,this.cH[c],this);d.cM={};this.cd[c]=d}for(var c in this.cH){var hn=this.cd[c];var gq=this.cH[c].W;if(gq in this.cd){var hO=this.cd[gq];hO.cM[c]=hn}}for(var c in this.cd){var d=this.cd[c];d.gk={};for(var n in this.cG){var gm=this.cG[n];d.gk[n]={};if(c in gm){for(var hm in gm[c]){d.gk[n][hm]=1}}}}this.hf();this.hj(80);History.Adapter.bind(window,`statechange`,this.q.g())};dt.prototype={hj(hR){var jb=`${window.innerHeight - hR}px`;for(var hZ in{'middle':1,'left':1,'right':1}){$(`#${hZ}`).css(`height`,jb)}},hf(){var dm=[];var dl={};var cP={};for(var c in this.cH){for(var n in this.dK){dm.push(`${c}-${n}`)}}function gh(cj,Y){if(!(cj in dl)){dl[cj]={}}if(!(Y in cP)){cP[Y]={}}dl[cj][Y]=true;cP[Y][cj]=true}for(var gD in this.gL){var fx=this.gL[gD];for(var c in this.cH){gh(`${c}-${fx}`,`${c}-${gD}`)}}for(var n in this.cG){for(var gC in this.cG[n]){for(var fw in this.cG[n][gC]){gh(`${fw}-${n}`,`${gC}-${n}`)}}}var cg=0;var cD=[];var cQ={};while(cg <=dm.length){cD.push({});if(cg==0){dm.forEach(function(ch){if(!(ch in cP)){cD[cg][ch]=1}})}else{for(var cj in cQ){if(cj in dl){for(var Y in dl[cj]){if(!(Y in cQ)){var gt=true;for(var hK in cP[Y]){if(!(hK in cQ)){gt=false;break}}if(gt){cD[cg][Y]=1}}}}}}if(!Object.keys(cD[cg]).length){break}for(var ch in cD[cg]){cQ[ch]=1}cg++}this.fl=[];this.fZ={};if(Object.keys(cQ).length !=dm.length){var gp=[];dm.forEach(function(ch){if(!(ch in cQ)){gp.push(ch)}})}else{cD.forEach(function(hG,cg){for(var ch in hG){this.fl.push(ch)}},this);this.fZ=cP}},cx:function(c){return this.cd[c]},hw:function(c,E){var m={};if(c in this.cd){m=this.cd[c].m}else{for(var b in E){m[b]=$(`#${c}`)}}return m},hv:function(c,n){var gI=[];var Y=`${c}-${n}`;for(var cj in(this.fZ[Y]||{})){gI.push(cj.split(`-`))}return gI},g:function(){this.fl.forEach(function(dM){var gN=dM.split(`-`);var c=gN[0];var n=gN[1];var d=this.cx(c);for(var b in d.E){d[n](b)}},this)}};$(function(){new dt().g()});