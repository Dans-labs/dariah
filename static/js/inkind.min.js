function cU(L){if((typeof(L)==`object`)&&(typeof(L.then)==`function`)){return L}return $.Deferred().resolve(L).promise()};function dh(dD){return cU(dD())};function ds(ck,f,cv,dg,dV,E,y){this.ck=ck;this.f=f;this.cv=cv;this.dg=dg;this.dV=dV;this.E=E;this.cp={};this.fm={fA:true,F:true,j:false};this.y=y;this.V={};this.v={};this.n={};this.l=this.y.l;this.x={};this.fH={};this.fh={}};ds.prototype={fC:function(b,M){return !(b in this.cp)|| !(M in this.cp[b])||(typeof(this.cp[b][M])==`function`)||(this.cp[b][M].state()==`rejected`)},ff:function(b,M,df){if(!(b in this.cp)){this.cp[b]={}}var fF=cU(this[df](b));this.cp[b][M]=fF;return fF},Z:function(b,M,df){var c=this;if(M in this.fm){if(this.fm[M]){return function(){return c.fC(b,M)?c.ff(b,M,df):cU(true)}}return function(){c.ff(b,M,df)}}return function(){cU(true)}},fg:function(b){var c=this;if(this.dg){this.v[b].v(`fetching data ...`);return $.ajax({type:`POST`,url:this.fh[b],contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cD){c.fV(b,cD)})}},fV:function(b,cD){this.v[b].fv();cD.msgs.forEach(function(gs){this.v[b].v(gs)});if(cD.good){this.x[b]=cD.data;this.fH[b]=cD.relvals}},fr:function(b){this.I.F(b);if(!this.dV){for(var p in this.D){this.D[p].F(b)}}},gd:function(b){this.I.j(b);for(var p in this.D){this.D[p].j(b)}},dc:function(b){return(b in this.cv)},r:function(b){if(this.dc(b)){if(this.I.r(b)){this.n[b].show()}else{if(this.n[b]!=undefined){this.n[b].hide()}}}for(var p in this.D){this.D[p].r(b)}},cl:function(){this.I=new this.E(this);if(this.ck in this.y.Y){var gm=this.y.Y[this.ck].n;this.V=gm}else{for(var b in this.cv){this.V[b]=$(`#${this.ck}`)}}for(var b in this.cv){if(this.dg){this.fh[b]=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.f}_${b}`)+`.json`}this.n[b]=$(`#${this.f}_${b}`);if(this.n[b].length==0){var fz=this.V[b];fz.append(`<div id="msg_${this.f}_${b}"></div>`);fz.append(`<div id="${this.f}_${b}"></div>`);this.n[b]=$(`#${this.f}_${b}`)}this.v[b]=new cS(`msg_${this.f}_${b}`);this.I.cl(b)}},F:function(b){if(this.dc(b)&& this.I.r(b)){dh(this.Z(b,`fA`,`fg`)).then(this.Z(b,`F`,`fr`))}},j:function(b){var c=this;if(this.dc(b)&& this.I.r(b)){dh(this.Z(b,`fA`,`fg`)).then(this.Z(b,`F`,`fr`)).then(this.Z(b,`j`,`gd`))}}};function dt(d){this.d=d;this.dr={};this.db={}};dt.prototype={S:function(b){this.d.n[b].html(`<a class="•fN radio" href="#">${this.d.l.gD('list', b, 'dK')}</a> `)},cI:function(b){var c=this;this.db[b].click(function(s){s.preventDefault();c.d.l.ch(`list`,b)})},fU:function(b){return this.d.l.U(`list`)==b},r:function(b){return true},cl:function(b){this.S(b);this.dr[b]=this.d.n[b];this.db[b]=this.d.n[b].find(`a`)},F:function(b){this.cI(b)},j:function(b){if(this.fU(b)){this.db[b].addClass(`•A`);this.dr[b].addClass(`isonn`)}else{this.db[b].removeClass(`•A`);this.dr[b].removeClass(`isonn`)}}};function dX(d){this.d=d;this.f=`ctype`;this.dC=this.d.y.cc(`facet`).I;this.t={};this.B={};this.dx={};this.cm={};this.W={};this.G={};this.cF={};this.cx={};this.w={};this.dR={};this.dQ={}};dX.prototype={S:function(b){var dA=2;var k=`<div><p class="dctrl">By type</p>`;k +=`<p class="all"><span ti="_all" class="stats"></span> <a id="t_all_${b}" href="#" class="•cy">all types</a></p>
<table class="clist" id="list-ctype_${b}"><tr>`;for(var g in this.cx[b]){if((g % dA==0)&&(g > 0)&&(g < this.cx[b].length)){k +=`</tr><tr>`}var q=this.cx[b][g];var cG=this.w[b][q];k +=`<td><span ti="${q}" class="stats"></span></td><td><a ti="${q}" href="#" class="•cy">${cG}</a></td>`}k +=`</tr></table></div>`;this.d.n[b].html(k)},cI:function(b){var c=this;this.cm[b]=$(`#list-ctype_${b}`);this.cm[b].find(`.•cy`).click(function(s){s.preventDefault();var q=$(this).attr(`ti`);var ct=$(this).hasClass(`•A`);var cw=c.X(c.d.l.U(`t_${b}`));cw[q]=!ct;c.d.l.ch(`t_${b}`,c.cq(cw))});this.W[b]=this.d.n[b].find(`#t_all_${b}`);this.W[b].click(function(s){s.preventDefault();var ct=$(this).hasClass(`•A`);if(ct){c.d.l.ch(`t_${b}`,c.cq(c.dQ[b]))}else{c.d.l.ch(`t_${b}`,c.cq(c.dR[b]))}})},cJ:function(b,z){var c=this;if(z==null || z==undefined || z==''){z=this.X(``)}var cK=true;for(var q in this.w[b]){var cA=this.cm[b].find(`a[ti="${q}"]`);if(q in z && z[q]){cA.addClass(`•A`)}else{cA.removeClass(`•A`,cA);cK=false}}if(cK){this.W[b].addClass(`•A`)}else{this.W[b].removeClass(`•A`)}},cq:function(O){var N=[];for(var L in O){if(O[L]){N.push(L)}}return N.join(',')},X:function(cj){var O={};if(cj !==null && cj !=undefined && cj !=''){var N=cj.split(',');for(var g in N){O[N[g]]=true}}return O},dL:function(b){var c=this;this.G[b]={};for(var q in this.w[b]){this.G[b][q]=0}for(var L in this.t[b]){var g=this.t[b][L];var dP=this.B[b][g][3];for(var q in dP){this.G[b][q]+=1}}for(var q in this.G[b]){this.d.n[b].find(`span[ti="${q}"].stats`).html(this.G[b][q])}this.d.n[b].find(`span[ti="_all"].stats`).html(this.t[b].length)},cH:function(b,g){var dP=this.B[b][g][3];var cF=this.X(this.cF[b]);for(var q in dP){if((q in cF)&& cF[q]){return true}}return false},r:function(b){return(this.d.l.U(`list`)==b)},cl:function(b){},F:function(b){},dT:function(b){this.fk=this.d.y.cc(`list`);this.B[b]=this.fk.x[b];this.dx[b]=this.fk.fH[b];this.cx[b]=[];this.w[b]={};this.dQ[b]={};this.dR[b]={};for(var q in this.dx[b].type){var cG=this.dx[b].type[q];this.dQ[b][q]=false;this.dR[b][q]=true;this.cx[b].push(q);this.w[b][q]=cG}this.cx[b].sort();this.S(b);this.cI(b)},j:function(b){},dW:function(b){this.cF[b]=this.d.l.U(`t_${b}`);this.cJ(b,this.X(this.cF[b]))}};function dv(d){this.d=d;this.f=`eumap`;this.dC=this.d.y.cc(`facet`).I;this.cX={};this.cz={};this.cm={};this.t={};this.cE={};this.B={};this.W={};this.G={};this.fd={AT:[`Austria`,true,47.7,15.11],BE:[`Belgium`,true,51.3,3.1],HR:[`Croatia`,true,44.7,15.6],CY:[`Cyprus`,true,35.0,32.8],CZ:[`Czech Republic`,true,49.8,15.2],DK:[`Denmark`,true,55.6,11.0],EE:[`Estonia`,true,59.0,25.0],FR:[`France`,true,46.5,1.9],DE:[`Germany`,true,51.0,10.4],GR:[`Greece`,true,38.0,23.8],HU:[`Hungary`,true,46.9,19.8],IE:[`Ireland`,true,53.1,-8.4],IT:[`Italy`,true,41.6,13.0],LV:[`Latvia`,true,56.9,26.8],LT:[`Lithuania`,true,55.2,24.9],LU:[`Luxembourg`,true,49.6,6.1],MT:[`Malta`,true,35.9,14.4],NL:[`Netherlands`,true,52.8,5.8],PL:[`Poland`,true,52.3,19.8],PT:[`Portugal`,true,38.7,-9.0],RS:[`Serbia`,true,44.0,20.8],SK:[`Slovakia`,true,48.8,19.9],SI:[`Slovenia`,true,46.2,14.4],CH:[`Switzerland`,true,46.9,8.3],GB:[`United Kingdom`,true,52.9,-1.8],AL:[`Albania`,false],AD:[`Andorra`,false],BY:[`Belarus`,false],BA:[`Bosnia and Herzegovina`,false],BG:[`Bulgaria`,false],FI:[`Finland`,false],GE:[`Georgia`,false],IS:[`Iceland`,false],SM:[`San Marino`,false],KS:[`Kosovo`,false],LI:[`Liechtenstein`,false],MK:[`Macedonia`,false],MD:[`Moldova`,false],MC:[`Monaco`,false],ME:[`Montenegro`,false],NO:[`Norway`,false],RO:[`Romania`,false],RU:[`Russian Federation`,false],ES:[`Spain`,false],SE:[`Sweden`,false],TR:[`Turkey`,false],UA:[`Ukraine`,false]};this.gv={CY:true};this.cs=[];this.cB={};this.fB={};this.fx={};this.fy={};this.dJ={};for(var h in this.fd){var cC=this.fd[h];if(cC[1]){this.fx[h]=false;this.fy[h]=true;this.cs.push(h);this.cB[h]=cC[0];if(cC.length > 3){this.fB[h]={latLng:[cC[2],cC[3]],f:cC[0]}}this.dJ[h]='gq'}else{this.dJ[h]='gz'}}this.cs.sort()};dv.prototype={S:function(b){var dA=2;var k=`<div><p class="dctrl">By country</p>`;k +=`<div id="map-europe_${b}"></div>
<p class="all"><span cd="_all" class="stats"></span> <a id="m_all_${b}" href="#" class="•cy">all DARIAH</a></p>
<table class="clist" id="list-europe_${b}"><tr>`;for(var g in this.cs){if((g % dA==0)&&(g > 0)&&(g < this.cs.length)){k +=`</tr><tr>`}var h=this.cs[g];var gk=this.cB[h];k +=`<td><span cd="${h}" class="stats"></span></td><td><a cd="${h}" href="#" class="•cy">${gk}</a></td>`}k +=`</tr></table></div>`;this.d.n[b].html(k)},cI:function(b){var c=this;var Q=this.d.n[b];this.cz[b]=Q.find(`#map-europe_${b}`);this.cm[b]=Q.find(`#list-europe_${b}`);this.cz[b].width(`100%`);this.cz[b].height(this.cz[b].width()*0.6);this.cz[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,regionsSelectableOne:false,markerStyle:{initial:{fill:`#448844`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1,'r':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#000000`,'stroke-width':0,'stroke-opacity':1},selected:{},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{'fill-opacity':0.8,cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{'fill-opacity':1,fill:`#dd8844`},selectedHover:{}},markers:this.fB,series:{markers:[{values:{},scale:[0,25],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'gz':`#ffffff`,'gq':`#ffeedd`},attribute:`fill`,values:c.dJ}]},onRegionTipShow:function(s,gn,h){gn.html(`${h}: ${(h in c.G[b])?c.G[b][h]:'not in DARIAH'}`)},onRegionClick:function(s,p){if(!(p in c.cB)){s.preventDefault()}},onRegionSelected:function(s,p,g,cw){if(c.ft){c.d.l.ch(`m_${b}`,c.fR(cw))}}});this.cX[b]=this.cz[b].vectorMap('get','mapObject');this.cX[b].setFocus({regions:[`GB`,`GR`]});this.cm[b].find(`.•cy`).click(function(s){s.preventDefault();var h=$(this).attr(`cd`);var ct=$(this).hasClass(`•A`);var cw=c.X(c.d.l.U(`m_${b}`));cw[h]=!ct;c.d.l.ch(`m_${b}`,c.cq(cw))});this.W[b]=this.d.n[b].find(`#m_all_${b}`);this.W[b].click(function(s){s.preventDefault();var ct=$(this).hasClass(`•A`);if(ct){c.d.l.ch(`m_${b}`,c.cq(c.fx))}else{c.d.l.ch(`m_${b}`,c.cq(c.fy))}})},cJ:function(b,z){var c=this;if(z==null || z==undefined || z==''){z=this.X(``)}this.ft=false;var dM={};for(var cr in this.gv){if(cr in z){dM[cr]=z[cr];delete z[cr]}}this.cX[b].setSelectedRegions(z);for(var cr in dM){z[cr]=dM[cr]}this.ft=true;var cK=true;for(var h in this.cB){var cA=this.cm[b].find(`a[cd="${h}"]`);if(h in z && z[h]){cA.addClass(`•A`)}else{cA.removeClass(`•A`);cK=false}}if(cK){this.W[b].addClass(`•A`)}else{this.W[b].removeClass(`•A`)}},fR:function(N){return N.join(',')},cq:function(O){var N=[];for(var L in O){if(O[L]){N.push(L)}}return N.join(',')},X:function(cj){var O={};if(cj !==null && cj !=undefined && cj !=''){var N=cj.split(',');for(var g in N){O[N[g]]=true}}for(var h in this.cB){if(!(h in O)){O[h]=false}}return O},dL:function(b){var c=this;this.G[b]={};for(var h in this.cB){this.G[b][h]=0}for(var L in this.t[b]){var g=this.t[b][L];var h=this.B[b][g][2];this.G[b][h]+=1}var dp=this.t[b].length;if(dp==0){dp=1}for(var h in this.G[b]){this.d.n[b].find(`span[cd="${h}"].stats`).html(this.G[b][h])}var fL={};for(var h in this.G[b]){var fE=100 * this.G[b][h]/ dp;fL[h]=(dp < 10)?fE:(10*Math.sqrt(fE))}this.cX[b].series.markers[0].setValues(fL);this.d.n[b].find(`span[cd="_all"].stats`).html(this.t[b].length)},cH:function(b,g){var h=this.B[b][g][2];var cE=this.X(this.cE[b]);return(h in cE)&& cE[h]},r:function(b){return(this.d.l.U(`list`)==b)},cl:function(b){this.S(b)},F:function(b){this.cI(b)},dT:function(b){this.B[b]=this.d.y.cc(`list`).x[b]},j:function(b){},dW:function(b){this.cE[b]=this.d.l.U(`m_${b}`);this.cJ(b,this.X(this.cE[b]))}};function dY(d){this.d=d;this.fn={};this.x={};this.dm={};this.t={};this.cO={}};dY.prototype={S:function(b){var k=``;k +=`<p class="facet">Filtering <span id="fstats_${b}"></span></p>`;this.d.n[b].html(k)},gc:function(b){var Q=this.d.n[b];var gr=this.d.y.cc(`list`).n[b];this.fn[b]=Q.find(`#fstats_${b}`);this.dm[b]=gr.find(`#table_${b}`);var gl=`<a class="showc fa fa-chevron-right" href="#" title="Show details"></a><a class="hidec fa fa-chevron-down" href="#" title="Hide details"></a>`;Q.find(`p.dctrl`).each(function(){var gy=$(this).html();$(this).html(`${gl}&nbsp;${gy}`)});Q.find(`p.dctrl`).closest(`div`).find(`table,.flt`).show();Q.find(`.hidec`).show();Q.find(`.showc`).hide();Q.find(`.hidec`).click(function(s){s.preventDefault();var cN=$(this).closest(`p`);var dB=$(this).closest(`div`).find(`table,.flt`);dB.hide();cN.find(`.hidec`).hide();cN.find(`.showc`).show()});Q.find(`.showc`).click(function(s){s.preventDefault();var cN=$(this).closest(`p`);var dB=$(this).closest(`div`).find(`table,.flt`);dB.show();cN.find(`.hidec`).show();cN.find(`.showc`).hide()})},gg:function(b){this.dm[b].find(`tr[id]`).hide();var x=this.d.y.cc(`list`).x[b];var J=this.cO[b];this.t[b]=[];for(var K in J){var T=J[K].I;T.t[b]=[]}for(var g in x){var cH=true;var cR=null;var cM=false;for(var K in J){if(!cM){var T=J[K].I;var cG=T.cH(b,g);if(!cG){cH=false;if(cR==null){cR=T}else{cM=true}}}}if(!cM){if(cH){this.t[b].push(g);this.dm[b].find(`tr[id="r${x[g][0]}"]`).show()}if(cR !=null){cR.t[b].push(g)}else{for(var K in J){var T=J[K].I;T.t[b].push(g)}}}}for(var K in J){var T=J[K].I;T.dL(b)}this.fn[b].html(`${this.t[b].length} of ${x.length}`)},r:function(b){return this.d.l.U(`list`)==b},cl:function(b){this.D=this.d.D;this.cO[b]={};for(var K in this.D){var T=this.D[K];if(T.dc(b)){this.cO[b][K]=T}}this.S(b)},F:function(b){if(this.r(b)){var J=this.cO[b];for(var K in J){J[K].I.dT(b)}this.gc(b)}},j:function(b){if(this.r(b)){var J=this.cO[b];for(var K in J){J[K].I.dW(b)}this.gg(b)}}};function dZ(d){this.d=d;this.f=`filter`;this.dC=this.d.y.cc(`facet`).I;this.dN={};this.cb={};this.dz={};this.fs={};this.fI={};this.cZ={};this.cW={};this.B={};this.t={};this.dU={}};dZ.prototype={S:function(b){var k=`<div><p class="dctrl">By full text search</p>`;k +=`<div class="flt" id="fltw_${b}">`;k +=`<p id="fbox_${b}" class="fbox ui-dr">`;k +=`<input id="flt_${b}" class="flt"/>`;k +=`<a href="#" class="•fN fa fa-close filtc" id="clearf_${b}"></a>`;k +=`<span class="stats" id="stats_${b}"></span>&nbsp;`;k +=`</p>`;k +=`<div id="autoc_${b}" style="display: none;">here ${b}</div>`;k +=`</div>`;this.d.n[b].html(k)},cJ:function(b){var dn=this.d.l.U(`f_${b}`);this.d.n[b].addClass(`flt`);this.cb[b].val(dn);this.cb[b].autocomplete(`search`,dn)},gf:function(b){var dn=this.cb[b].val();if(dn==``){this.dz[b].removeClass(`•A`);this.cZ[b].hide()}else{this.dz[b].addClass(`•A`);this.cZ[b].show()}},fW:function(b){var c=this;return function(gK,fJ){c.cW[b]={};for(var g in fJ.content){c.cW[b][fJ.content[g].value]=1}if(!(c.dU[b])){c.d.l.ch(`f_${b}`,c.cb[b].val())}}},fY:function(b){var c=this;this.cZ[b].click(function(s){s.preventDefault();c.cb[b].val(``);c.cb[b].autocomplete(`search`,``)})},dL:function(b){var gB=(this.cb[b].val()!=``)?`${this.dC.t[b].length} of `:``;this.fI[b].html(`${gB}${this.t[b].length}`)},cH:function(b,g){return(g in this.cW[b])},r:function(b){return(this.d.l.U(`list`)==b)},cl:function(b){this.S(b)},F:function(b){this.fY(b);this.cb[b].autocomplete({appendTo:this.fs[b],source:this.dN[b],response:this.fW(b),minLength:0});this.dU[b]=true;this.cJ(b);this.dU[b]=false},dT:function(b){var c=this;var Q=this.d.n[b];var cL=Q.find(`#fltw_${b}`);this.cb[b]=cL.find(`#flt_${b}`);this.dz[b]=cL.find(`#fbox_${b}`);this.fs[b]=cL.find(`#autoc_${b}`);this.fI[b]=cL.find(`#stats_${b}`);this.cZ[b]=cL.find(`#clearf_${b}`);this.cW[b]={};this.t[b]=[];var x=this.d.y.cc(`list`).x[b];this.B[b]=x;this.dN[b]=[];for(var g in x){this.dN[b].push({label:x[g][1],value:g})}},j:function(b){},dW:function(b){this.gf(b)}};var gJ=(function(){`use strict`;var gj={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(dO){return dO.replace(/[&<>]/g,function(gh){return gj[gh]})}}());var fQ={dj:function(f){return this.fD()[f]},fD:function(dq){var g,dj,dG,fG,cg;cg={};if(!dq){dq=window.location.search}if(dq.indexOf("?")===-1){return{}}fG=dq.slice(1);dG=fG.split("&");for(var g in dG){dj=dG[g].split("=");cg[dj[0]]=dj[1];g++}return cg}};var dI=fQ.fD();var gw=$.initNamespaceStorage(`req`);var cP=gw.localStorage;function dw(d){this.d=d};dw.prototype={S:function(b){var k=``;k +=`<table id="table_${b}">`;if(b==`contrib`){for(var g in this.d.x[b]){cf=this.d.x[b][g];k +=`<tr id="r${cf[0]}"><td class="•fO">${cf[2]}<td><td class="•fP">${cf[3]}<td><td><a href="#" rid="${cf[0]}">${cf[1]}</a></td></tr>`}}else if(b==`country`){for(var g in this.d.x[b]){cf=this.d.x[b][g];k +=`<tr id="r${cf[0]}"><td class="•fO">${cf[0]}<td><td class="•fP">${cf[1]}<td></tr>`}}k +=`</table>`;this.d.n[b].html(k)},r:function(b){return this.d.l.U(`list`)==b},cl:function(b){},F:function(b){this.S(b)},j:function(b){}};var fK;$(function(){fK=new cT();fK.j()});function cS(ck,gx){var c=this;this.V=$(`#${ck}`);this.fp=$(`#trash_${ck}`);this.fq=this.fp.closest(`p`);this.fp.click(function(s){s.preventDefault();c.fv()});this.fj();this.fl=gx};cS.prototype={fj:function(){this.V.hide();this.fq.hide()},fZ:function(){this.V.show();if(this.V.html()!=``){this.fq.show()}},fv:function(){this.V.html(``);if(this.fl !=undefined){this.fl()}this.fj()},v:function(dO,dE){if(dE==undefined){dE=`info`}var gt=this.V.html();this.V.html(`${gt}<p class="${dE}">${dO}</p>`);this.fZ()}};function cT(){this.f=`page`;this.v=new cS(`msg_${this.f}`);this.l=new fb(this);var dd=this.l.gp(`list`);var fw={contrib:1};this.cV=[[`left`,`control`,dd,false,true,dt],[`control`,`facet`,dd,false,false,dY],[`facet`,`filter`,dd,false,false,dZ],[`facet`,`eumap`,fw,false,false,dv],[`facet`,`ctype`,fw,false,false,dX],[`middle`,`list`,dd,true,false,dw]];this.Y={};this.cY={page:[`control`],control:[`list`],list:[`facet`],facet:[`filter`,`eumap`,`ctype`]};this.Y={};for(var g in this.cV){var p=this.cV[g];var R=new ds(p[0],p[1],p[2],p[3],p[4],p[5],this);this.Y[p[1]]=R}for(var dl in this.cY){var dH=(dl in this.Y)?this.Y[dl]:this;dH.D={};for(var g in this.cY[dl]){var p=this.cY[dl][g];var R=this.Y[p];dH.D[p]=R;R.dk=dH}}for(var g in this.cV){var p=this.cV[g];var R=this.Y[p[1]];R.cl()}this.fX(80);History.Adapter.bind(window,`statechange`,this.l.j())};cT.prototype={fX(gE){var gI=`${window.innerHeight - gE}px`;for(var gH in{middle:1,left:1,right:1}){$(`#${gH}`).css(`height`,gI)}},r:function(){for(var p in this.D){var R=this.D[p];for(var b in R.cv){R.r(b)}}},cc:function(f){return this.Y[f]},j:function(){this.r();for(var p in this.D){var R=this.D[p];for(var b in R.cv){R.j(b)}}}};function fb(y){this.B={};this.y=y;this.v=y.v;this.fS();this.fc()};fb.prototype={cn:{list:{w:`string`,C:{contrib:1,country:1},H:`contrib`},f_contrib:{w:`string`,C:null,H:``},f_country:{w:`string`,C:null,H:``},m_contrib:{w:`string`,C:null,H:``},m_country:{w:`string`,C:null,H:``},t_contrib:{w:`string`,C:null,H:``},t_country:{w:`string`,C:null,H:``},id:{w:`integer`,C:{gO:-1,gL:1000000},H:0},sort:{w:`boolean`,C:{v:true,x:false},H:true}},dy:{list:{contrib:{dK:`contribution`,gA:`contributions`},country:{dK:`country`,gA:`countries`}}},gb:function(f,m){var cd,gN;if(f in this.cn){var P=this.cn[f];if(P.w==`string`){if(P.C){if(m in P.C){cd=m}else{cd=P.H;this.v.v(`illegal string value for ${f}: "${m}" is replaced by "${P.H}"`,`warning`)}}else{cd=m}}else if(P.w==`integer`){if(/^(\-|\+)?[0-9]+$/.test(m)){cd=Number(m)}else{cd=P.H;this.v.v(`not a number value for ${f}: "${m}" is replaced by "${P.H}"`,`warning`)}}else if(P.w==`boolean`){if(m in P.C){cd=P.C[m]}else{cd=P.H;this.v.v(`illegal boolean value for ${f}: "${m}" is replaced by "${P.H}"`,`warning`)}}}else{cd=null;this.v.v(`unknown parameter: ${f}=${m}`,`warning`)}return cd},fT:function(){dS=[];for(var f in this.B){var m=this.B[f];var cQ=this.cn[f];if(cQ.w==`string` || cQ.w==`integer`){dS.push(`${f}=${m}`)}else if(cQ.w==`boolean`){for(fM in cQ.C){if(cQ.C[fM]==m){dS.push(`${f}=${fM}`)}}}}return dS.join(`&`)},fS:function(){for(var f in dI){if(!(f in this.cn)){this.v.v(`unknown parameter: ${f}=${m}`,`warning`)}}for(var f in this.cn){var m=null;if(f in dI){var gC=dI[f];m=this.gb(f,gC);cP.set(f,m)}else if(cP.isSet(f)){m=cP.get(f)}else{m=this.cn[f].H;cP.set(f,m)}this.B[f]=m}},fc:function(gP,gQ){var gG=`DARIAH contribution tool`;var gF=`${app_url}?${this.fT()}`;History.pushState(this.B,gG,gF)},ch:function(f,m){this.B[f]=m;cP.set(f,m);this.fc()},U:function(f){return this.B[f]},gp:function(f){return this.cn[f].C},gD:function(f,m,dF){var cg=m;var gM=(dF==undefined)?`dK`:dF;if(this.dy[f]!=undefined && this.dy[f][m]!=undefined){cg=this.dy[f][m][dF]}return cg},j:function(){var c=this;return function(){var l=History.getState();if(l && l.data){c.B=l.data;c.y.j()}}}};