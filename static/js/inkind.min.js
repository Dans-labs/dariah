function db(L){if((typeof(L)==`object`)&&(typeof(L.then)==`function`)){return L}return $.Deferred().resolve(L).promise()};function dn(dJ){return db(dJ())};function dy(cq,g,cz,dm,fd,D,y){this.cq=cq;this.g=g;this.cz=cz;this.dm=dm;this.fd=fd;this.D=D;this.cw={};this.fy={fI:true,E:true,j:false};this.y=y;this.Z={};this.v={};this.p={};this.m=this.y.m;this.x={};this.dP={};this.fv={}};dy.prototype={fK:function(b,M){return !(b in this.cw)|| !(M in this.cw[b])||(typeof(this.cw[b][M])==`function`)||(this.cw[b][M].state()==`rejected`)},fs:function(b,M,dl){if(!(b in this.cw)){this.cw[b]={}}var fO=db(this[dl](b));this.cw[b][M]=fO;return fO},ch:function(b,M,dl){var c=this;if(M in this.fy){if(this.fy[M]){return function(){return c.fK(b,M)?c.fs(b,M,dl):db(true)}}return function(){c.fs(b,M,dl)}}return function(){db(true)}},ft:function(b){var c=this;if(this.dm){this.v[b].v(`fetching data ...`);return $.ajax({type:`POST`,url:this.fv[b],contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cD){c.gd(b,cD)})}},gd:function(b,cD){this.v[b].fF();cD.msgs.forEach(function(gA){this.v[b].v(gA)});if(cD.good){this.x[b]=cD.data;this.dP[b]=cD.relvals}},fC:function(b){this.G.E(b);if(!this.fd){for(var k in this.C){this.C[k].E(b)}}},gm:function(b){this.G.j(b);for(var k in this.C){this.C[k].j(b)}},dj:function(b){return(b in this.cz)},t:function(b){if(this.dj(b)){if(this.G.t(b)){this.p[b].show()}else{if(this.p[b]!=undefined){this.p[b].hide()}}}for(var k in this.C){this.C[k].t(b)}},cr:function(){this.G=new this.D(this);if(this.cq in this.y.cg){var gw=this.y.cg[this.cq].p;this.Z=gw}else{for(var b in this.cz){this.Z[b]=$(`#${this.cq}`)}}for(var b in this.cz){if(this.dm){this.fv[b]=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.g}_${b}`)+`.json`}this.p[b]=$(`#${this.g}_${b}`);if(this.p[b].length==0){var fH=this.Z[b];fH.append(`<div id="msg_${this.g}_${b}"></div>`);fH.append(`<div id="${this.g}_${b}"></div>`);this.p[b]=$(`#${this.g}_${b}`)}this.v[b]=new cY(`msg_${this.g}_${b}`);this.G.cr(b)}},E:function(b){if(this.dj(b)&& this.G.t(b)){dn(this.ch(b,`fI`,`ft`)).then(this.ch(b,`E`,`fC`))}},j:function(b){var c=this;if(this.dj(b)&& this.G.t(b)){dn(this.ch(b,`fI`,`ft`)).then(this.ch(b,`E`,`fC`)).then(this.ch(b,`j`,`gm`))}}};function dz(f){this.f=f;this.cV={};this.dh={}};dz.prototype={V:function(b){this.f.p[b].html(`<a class="•fh" href="#">${this.f.m.gJ('list', b, 'dS')}</a> `)},cJ:function(b){var c=this;this.dh[b].click(function(q){q.preventDefault();c.f.m.cc(`list`,b)})},gc:function(b){return this.f.m.X(`list`)==b},t:function(b){return true},cr:function(b){this.V(b);this.cV[b]=this.f.p[b];this.cV[b].addClass(`•fg`);this.dh[b]=this.f.p[b].find(`a`)},E:function(b){this.cJ(b)},j:function(b){if(this.gc(b)){this.dh[b].addClass(`•r`);this.cV[b].addClass(`•r`)}else{this.dh[b].removeClass(`•r`);this.cV[b].removeClass(`•r`)}}};function fl(f){this.f=f;this.g=`ctype`;this.dI=this.f.y.ck(`facet`).G;this.s={};this.z={};this.ct={};this.cs={};this.cd={};this.A={};this.J={};this.U={};this.Q={};this.cF={};this.cE={}};fl.prototype={V:function(b){var dF=2;var l=`<div><p class="•cW">By type</p>`;l +=`<p class="•fV"><span rv="_all" class="•Y"></span> <a rv="_all" href="#" class="•cH">all types</a></p>
<table class="•fX" id="list-ctype_${b}"><tr>`;for(var h in this.U[b]){if((h % dF==0)&&(h > 0)&&(h < this.U[b].length)){l +=`</tr><tr>`}var d=this.U[b][h];var dZ=this.Q[b][d];l +=`<td><span rv="${d}" class="•Y"></span></td><td><a rv="${d}" href="#" class="•cI">${dZ}</a></td>`}l +=`</tr></table></div>`;this.f.p[b].html(l)},cJ:function(b){var c=this;this.cs[b]=$(`#list-ctype_${b}`);this.cs[b].find(`.•cI`).click(function(q){q.preventDefault();var d=$(this).attr(`rv`);var S=c.cf(c.f.m.X(`t_${b}`));S[d]=(d in S)?!S[d]:true;c.f.m.cc(`t_${b}`,c.cx(S))});this.cd[b]=this.f.p[b].find(`[rv="_all"]`);this.cd[b].click(function(q){q.preventDefault();var dK=$(this).hasClass(`•r`);if(dK){c.f.m.cc(`t_${b}`,c.cx(c.cE[b]))}else{c.f.m.cc(`t_${b}`,c.cx(c.cF[b]))}})},cM:function(b,w){var c=this;if(w==null || w==undefined || w==''){w=this.cf(``)}var cN=true;for(var d in this.Q[b]){var cB=this.cs[b].find(`[rv="${d}"]`);if(d in w && w[d]){cB.addClass(`•r`)}else{cB.removeClass(`•r`,cB);cN=false}}if(cN){this.cd[b].addClass(`•r`)}else{this.cd[b].removeClass(`•r`)}},cx:function(P){var N=[];for(var L in P){if(P[L]){N.push(L)}}return N.join(',')},cf:function(cp){var P={};if(cp !==null && cp !=undefined && cp !=''){var N=cp.split(',');for(var h in N){P[N[h]]=true}}return P},dT:function(b){var c=this;this.A[b]={};for(var d in this.Q[b]){this.A[b][d]=0}for(var L in this.s[b]){var h=this.s[b][L];var cn=this.z[b][h][3];for(var d in cn){this.A[b][d]+=1}}for(var d in this.A[b]){this.f.p[b].find(`span[rv="${d}"].•Y`).html(this.A[b][d])}this.f.p[b].find(`span[rv="_all"].•Y`).html(this.s[b].length)},cG:function(b,h){var cn=this.z[b][h][3];var J=this.cf(this.J[b]);if(Object.keys(cn).length !=0){for(var d in cn){if((d in J)&& J[d]){return true}}}else{if(this.J[b]=='-'){return true}}return false},t:function(b){return(this.f.m.X(`list`)==b)},cr:function(b){},E:function(b){},fb:function(b){this.cK=this.f.y.ck(`list`);this.z[b]=this.cK.x[b];this.ct[b]=this.cK.dP[b];this.U[b]=[];this.Q[b]={};this.cE[b]={};this.cF[b]={};for(var d in this.ct[b].type){var dZ=this.ct[b].type[d];this.cE[b][d]=false;this.cF[b][d]=true;this.U[b].push(d);this.Q[b][d]=dZ}this.U[b].sort();this.V(b);this.cJ(b)},j:function(b){},ff:function(b){this.J[b]=this.f.m.X(`t_${b}`);this.cM(b,this.cf(this.J[b]))}};function dA(f){this.f=f;this.g=`eumap`;this.dI=this.f.y.ck(`facet`).G;this.cL={};this.cA={};this.cs={};this.s={};this.J={};this.z={};this.ct={};this.cd={};this.A={};this.gC={CY:true}};dA.prototype={V:function(b){var dF=2;var l=`<div><p class="•cW">By country</p>`;l +=`<div id="map-europe_${b}"></div>
<p class="•fV"><span rv="_all" class="•Y"></span> <a rv="_all" href="#" class="•cH">all DARIAH</a></p>
<table class="•fX" id="list-europe_${b}"><tr>`;for(var h in this.U){if((h % dF==0)&&(h > 0)&&(h < this.U.length)){l +=`</tr><tr>`}var d=this.U[h];var gs=this.Q[d];l +=`<td><span rv="${d}" class="•Y"></span></td><td><a rv="${d}" href="#" class="•cI">${gs}</a></td>`}l +=`</tr></table></div>`;this.f.p[b].html(l)},cJ:function(b){var c=this;var O=this.f.p[b];this.cA[b]=O.find(`#map-europe_${b}`);this.cs[b]=O.find(`#list-europe_${b}`);this.cA[b].width(`100%`);this.cA[b].height(this.cA[b].width()*0.6);this.cA[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,markersSelectable:true,regionsSelectableOne:false,markersSelectableOne:false,markerStyle:{initial:{fill:`#008800`,'fill-opacity':0.2,stroke:`none`,'stroke-width':0,'stroke-opacity':0.2,'r':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':1,'stroke-opacity':1},selected:{fill:`#008800`,'fill-opacity':1},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{fill:`#dd8844`,'fill-opacity':1},selectedHover:{}},markers:this.fJ,series:{markers:[{values:{},scale:[0,20],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'gG':`#ffffff`,'gy':`#ffeedd`},attribute:`fill`,values:c.dR}]},onRegionTipShow:function(q,dH,d){dH.html(`${d}: ${(d in c.A[b])?c.A[b][d]:'not in DARIAH'}`)},onMarkerTipShow:function(q,dH,d){dH.html(`${d}: ${(d in c.A[b])?c.A[b][d]:'not in DARIAH'}`)},onRegionClick:function(q,k){if(!(k in c.Q)){q.preventDefault()}},onMarkerClick:function(q,k){if(!(k in c.Q)){q.preventDefault()}},onRegionSelected:function(q,k,h,S){if(c.dE){c.f.m.cc(`m_${b}`,c.fq(S))}},onMarkerSelected:function(q,k,h,S){if(c.dE){c.f.m.cc(`m_${b}`,c.fq(S))}}});this.cL[b]=this.cA[b].vectorMap('get','mapObject');this.cL[b].setFocus({regions:[`GB`,`GR`]});this.cs[b].find(`.•cI`).click(function(q){q.preventDefault();var d=$(this).attr(`rv`);var S=c.cf(c.f.m.X(`m_${b}`));S[d]=(d in S)?!S[d]:true;c.f.m.cc(`m_${b}`,c.cx(S))});this.cd[b]=this.f.p[b].find(`[rv="_all"]`);this.cd[b].click(function(q){q.preventDefault();var dK=$(this).hasClass(`•r`);if(dK){c.f.m.cc(`m_${b}`,c.cx(c.cE))}else{c.f.m.cc(`m_${b}`,c.cx(c.cF))}})},cM:function(b,w){var c=this;if(w==null || w==undefined || w==''){w=this.cf(``)}this.dE=false;var dU={};for(var cy in this.gC){if(cy in w){dU[cy]=w[cy];delete w[cy]}}this.cL[b].setSelectedRegions(w);this.cL[b].setSelectedMarkers(w);for(var cy in dU){w[cy]=dU[cy]}this.dE=true;var cN=true;for(var d in this.Q){var cB=this.cs[b].find(`[rv="${d}"]`);if(d in w && w[d]){cB.addClass(`•r`)}else{cB.removeClass(`•r`);cN=false}}if(cN){this.cd[b].addClass(`•r`)}else{this.cd[b].removeClass(`•r`)}},fq:function(N){return N.join(',')},cx:function(P){var N=[];for(var L in P){if(P[L]){N.push(L)}}return N.join(',')},cf:function(cp){var P={};if(cp !==null && cp !=undefined && cp !=''){var N=cp.split(',');for(var h in N){P[N[h]]=true}}for(var d in this.Q){if(!(d in P)){P[d]=false}}return P},dT:function(b){var c=this;this.A[b]={};for(var d in this.Q){this.A[b][d]=0}for(var L in this.s[b]){var h=this.s[b][L];var cn=this.z[b][h][2];for(var d in cn){this.A[b][d]+=1}}var dv=this.s[b].length;if(dv==0){dv=1}for(var d in this.A[b]){this.f.p[b].find(`span[rv="${d}"].•Y`).html(this.A[b][d])}var fT={};for(var d in this.A[b]){var fM=100 * this.A[b][d]/ dv;fT[d]=(dv < 10)?fM:(10*Math.sqrt(fM))}this.cL[b].series.markers[0].setValues(fT);this.f.p[b].find(`span[rv="_all"].•Y`).html(this.s[b].length)},cG:function(b,h){var cn=this.z[b][h][2];var J=this.cf(this.J[b]);if(Object.keys(cn).length !=0){for(var d in cn){if((d in J)&& J[d]){return true}}}return false},t:function(b){return(this.f.m.X(`list`)==b)},cr:function(b){},E:function(b){},fb:function(b){this.cK=this.f.y.ck(`list`);this.z[b]=this.cK.x[b];this.ct[b]=this.cK.dP[b];this.U=[];this.Q={};this.fJ={};this.cE={};this.cF={};this.dR={};for(var d in this.ct[b].country){var cC=this.ct[b].country[d];if(cC[1]){this.cE[d]=false;this.cF[d]=true;this.U.push(d);this.Q[d]=cC[0];if(cC.length > 3){this.fJ[d]={latLng:[cC[2],cC[3]],g:cC[0]}}this.dR[d]='gy'}else{this.dR[d]='gG'}}this.U.sort();this.V(b);this.cJ(b)},j:function(b){},ff:function(b){this.J[b]=this.f.m.X(`m_${b}`);this.cM(b,this.cf(this.J[b]))}};function fm(f){this.f=f;this.fz={};this.x={};this.dV={};this.s={};this.cR={}};fm.prototype={V:function(b){var l=``;l +=`<p>Filtering <span id="fstats_${b}"></span></p>`;this.f.p[b].html(l)},gl:function(b){var O=this.f.p[b];var gz=this.f.y.ck(`list`).p[b];this.fz[b]=O.find(`#fstats_${b}`);this.dV[b]=gz.find(`#table_${b}`);var gv=`<a class="showc fa fa-chevron-right" href="#" title="Show details"></a><a class="hidec fa fa-chevron-down" href="#" title="Hide details"></a>`;O.addClass(`•fk`);O.find(`p.•cW`).each(function(){var gF=$(this).html();$(this).html(`${gv}&nbsp;${gF}`)});O.find(`p.•cW`).closest(`div`).find(`table,.•cX`).show();O.find(`.hidec`).show();O.find(`.showc`).hide();O.find(`.hidec`).click(function(q){q.preventDefault();var cQ=$(this).closest(`p`);var dG=$(this).closest(`div`).find(`table,.•cX`);dG.hide();cQ.find(`.hidec`).hide();cQ.find(`.showc`).show()});O.find(`.showc`).click(function(q){q.preventDefault();var cQ=$(this).closest(`p`);var dG=$(this).closest(`div`).find(`table,.•cX`);dG.show();cQ.find(`.hidec`).show();cQ.find(`.showc`).hide()})},gp:function(b){this.dV[b].find(`tr[id]`).hide();var x=this.f.y.ck(`list`).x[b];var H=this.cR[b];this.s[b]=[];for(var I in H){var W=H[I].G;W.s[b]=[]}for(var h in x){var cG=true;var cU=null;var cP=false;for(var I in H){if(!cP){var W=H[I].G;var fQ=W.cG(b,h);if(!fQ){cG=false;if(cU==null){cU=W}else{cP=true}}}}if(!cP){if(cG){this.s[b].push(h);this.dV[b].find(`tr[id="r${x[h][0]}"]`).show()}if(cU !=null){cU.s[b].push(h)}else{for(var I in H){var W=H[I].G;W.s[b].push(h)}}}}for(var I in H){var W=H[I].G;W.dT(b)}this.fz[b].html(`${this.s[b].length} of ${x.length}`)},t:function(b){return this.f.m.X(`list`)==b},cr:function(b){this.C=this.f.C;this.cR[b]={};for(var I in this.C){var W=this.C[I];if(W.dj(b)){this.cR[b][I]=W}}this.V(b)},E:function(b){if(this.t(b)){var H=this.cR[b];for(var I in H){H[I].G.fb(b)}this.gl(b)}},j:function(b){if(this.t(b)){var H=this.cR[b];for(var I in H){H[I].G.ff(b)}this.gp(b)}}};function fn(f){this.f=f;this.g=`filter`;this.dI=this.f.y.ck(`facet`).G;this.dW={};this.cj={};this.dD={};this.fD={};this.ds={};this.dg={};this.dd={};this.z={};this.s={};this.fc={}};fn.prototype={V:function(b){var l=`<div><p class="•cW">By full text search</p>`;l +=`<div id="fltw_${b}">`;l +=`<p id="•gP${b}" class="•cX •cH •dx ui-cV">`;l +=`<input id="flt_${b}" class="flt"/>`;l +=`<a href="#" class="•cH fa fa-close •gQ" id="clearf_${b}"></a>`;l +=`<span •dx class="•Y" id="stats_${b}"></span>&nbsp;`;l +=`</p>`;l +=`<div id="autoc_${b}" style="display: none;">here ${b}</div>`;l +=`</div>`;this.f.p[b].html(l)},cM:function(b){var dt=this.f.m.X(`f_${b}`);this.cj[b].val(dt);this.cj[b].autocomplete(`search`,dt)},gn:function(b){var dt=this.cj[b].val();if(dt==``){this.dD[b].removeClass(`•r`);this.dg[b].hide()}else{this.dD[b].addClass(`•r`);this.dg[b].show()}},gf:function(b){var c=this;return function(gS,fR){c.dd[b]={};for(var h in fR.content){c.dd[b][fR.content[h].value]=1}if(!(c.fc[b])){c.f.m.cc(`f_${b}`,c.cj[b].val())}}},gh:function(b){var c=this;this.dg[b].click(function(q){q.preventDefault();c.cj[b].val(``);c.cj[b].autocomplete(`search`,``)})},dT:function(b){if(this.cj[b].val()==``){var fN=``;this.ds[b].removeClass(`•r`)}else{var fN=`${this.dI.s[b].length} of `;this.ds[b].addClass(`•r`)}this.ds[b].html(`${fN}${this.s[b].length}`)},cG:function(b,h){return(h in this.dd[b])},t:function(b){return(this.f.m.X(`list`)==b)},cr:function(b){this.V(b)},E:function(b){this.gh(b);this.cj[b].autocomplete({appendTo:this.fD[b],source:this.dW[b],response:this.gf(b),minLength:0});this.fc[b]=true;this.cM(b);this.fc[b]=false},fb:function(b){var c=this;var O=this.f.p[b];var cO=O.find(`#fltw_${b}`);this.cj[b]=cO.find(`#flt_${b}`);this.dD[b]=cO.find(`#•gP${b}`);this.fD[b]=cO.find(`#autoc_${b}`);this.ds[b]=cO.find(`#stats_${b}`);this.dg[b]=cO.find(`#clearf_${b}`);this.dd[b]={};this.s[b]=[];var x=this.f.y.ck(`list`).x[b];this.z[b]=x;this.dW[b]=[];for(var h in x){this.dW[b].push({label:x[h][1],value:h})}},j:function(b){},ff:function(b){this.gn(b)}};var gR=(function(){`use strict`;var gr={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(dX){return dX.replace(/[&<>]/g,function(gq){return gr[gq]})}}());var fY={dp:function(g){return this.fL()[g]},fL:function(dw){var h,dp,dN,fP,cm;cm={};if(!dw){dw=window.location.search}if(dw.indexOf("?")===-1){return{}}fP=dw.slice(1);dN=fP.split("&");for(var h in dN){dp=dN[h].split("=");cm[dp[0]]=dp[1];h++}return cm}};var dQ=fY.fL();var gD=$.initNamespaceStorage(`req`);var cS=gD.localStorage;function dB(f){this.f=f};dB.prototype={V:function(b){var l=``;l +=`<table id="table_${b}">`;if(b==`contrib`){for(var h in this.f.x[b]){cb=this.f.x[b][h];var fE=[];for(var k in cb[2]){if(cb[2][k]){fE.push(k)}}l +=`<tr id="r${cb[0]}"><td title="${cb[3]}" class="•fW">${fE.join(`,`)}<td><td><a href="#" rid="${cb[0]}">${cb[1]}</a></td></tr>`}}else if(b==`country`){for(var h in this.f.x[b]){cb=this.f.x[b][h];l +=`<tr id="r${cb[0]}"><td class="•fW">${cb[0]}<td><td class="•hb">${cb[1]}<td></tr>`}}l +=`</table>`;this.f.p[b].html(l)},t:function(b){return this.f.m.X(`list`)==b},cr:function(b){},E:function(b){this.V(b)},j:function(b){}};var fS;$(function(){fS=new cZ();fS.j()});function cY(cq,gE){var c=this;this.Z=$(`#${cq}`);this.fA=$(`#trash_${cq}`);this.fB=this.fA.closest(`p`);this.fA.click(function(q){q.preventDefault();c.fF()});this.fw();this.fx=gE};cY.prototype={fw:function(){this.Z.hide();this.fB.hide()},gj:function(){this.Z.show();if(this.Z.html()!=``){this.fB.show()}},fF:function(){this.Z.html(``);if(this.fx !=undefined){this.fx()}this.fw()},v:function(dX,dL){if(dL==undefined){dL=`info`}var gB=this.Z.html();this.Z.html(`${gB}<p class="${dL}">${dX}</p>`);this.gj()}};function cZ(){this.g=`page`;this.v=new cY(`msg_${this.g}`);this.m=new fp(this);var dk=this.m.gx(`list`);var fG={contrib:1};this.dc=[[`left`,`control`,dk,false,true,dz],[`control`,`facet`,dk,false,false,fm],[`facet`,`filter`,dk,false,false,fn],[`facet`,`eumap`,fG,false,false,dA],[`facet`,`ctype`,fG,false,false,fl],[`middle`,`list`,dk,true,false,dB]];this.cg={};this.df={page:[`control`],control:[`list`],list:[`facet`],facet:[`filter`,`eumap`,`ctype`]};this.cg={};for(var h in this.dc){var k=this.dc[h];var T=new dy(k[0],k[1],k[2],k[3],k[4],k[5],this);this.cg[k[1]]=T}for(var dr in this.df){var dO=(dr in this.cg)?this.cg[dr]:this;dO.C={};for(var h in this.df[dr]){var k=this.df[dr][h];var T=this.cg[k];dO.C[k]=T;T.dq=dO}}for(var h in this.dc){var k=this.dc[h];var T=this.cg[k[1]];T.cr()}this.gg(80);History.Adapter.bind(window,`statechange`,this.m.j())};cZ.prototype={gg(gK){var gO=`${window.innerHeight - gK}px`;for(var gN in{'middle':1,'left':1,'right':1}){$(`#${gN}`).css(`height`,gO)}},t:function(){for(var k in this.C){var T=this.C[k];for(var b in T.cz){T.t(b)}}},ck:function(g){return this.cg[g]},j:function(){this.t();for(var k in this.C){var T=this.C[k];for(var b in T.cz){T.j(b)}}}};function fp(y){this.z={};this.y=y;this.v=y.v;this.fZ();this.fr()};fp.prototype={cv:{list:{K:`string`,B:{contrib:1,country:1},F:`contrib`},f_contrib:{K:`string`,B:null,F:``},f_country:{K:`string`,B:null,F:``},m_contrib:{K:`string`,B:null,F:``},m_country:{K:`string`,B:null,F:``},t_contrib:{K:`string`,B:null,F:``},t_country:{K:`string`,B:null,F:``},id:{K:`integer`,B:{gW:-1,gT:1000000},F:0},sort:{K:`boolean`,B:{v:true,x:false},F:true}},dC:{list:{contrib:{dS:`contribution`,gH:`contributions`},country:{dS:`country`,gH:`countries`}}},gk:function(g,n){var cl,gV;if(g in this.cv){var R=this.cv[g];if(R.K==`string`){if(R.B){if(n in R.B){cl=n}else{cl=R.F;this.v.v(`illegal string value for ${g}: "${n}" is replaced by "${R.F}"`,`warning`)}}else{cl=n}}else if(R.K==`integer`){if(/^(\-|\+)?[0-9]+$/.test(n)){cl=Number(n)}else{cl=R.F;this.v.v(`not a number value for ${g}: "${n}" is replaced by "${R.F}"`,`warning`)}}else if(R.K==`boolean`){if(n in R.B){cl=R.B[n]}else{cl=R.F;this.v.v(`illegal boolean value for ${g}: "${n}" is replaced by "${R.F}"`,`warning`)}}}else{cl=null;this.v.v(`unknown parameter: ${g}=${n}`,`warning`)}return cl},gb:function(){dY=[];for(var g in this.z){var n=this.z[g];var cT=this.cv[g];if(cT.K==`string` || cT.K==`integer`){dY.push(`${g}=${n}`)}else if(cT.K==`boolean`){for(fU in cT.B){if(cT.B[fU]==n){dY.push(`${g}=${fU}`)}}}}return dY.join(`&`)},fZ:function(){for(var g in dQ){if(!(g in this.cv)){this.v.v(`unknown parameter: ${g}=${n}`,`warning`)}}for(var g in this.cv){var n=null;if(g in dQ){var gI=dQ[g];n=this.gk(g,gI);cS.set(g,n)}else if(cS.isSet(g)){n=cS.get(g)}else{n=this.cv[g].F;cS.set(g,n)}this.z[g]=n}},fr:function(gX,gZ){var gM=`DARIAH contribution tool`;var gL=`${app_url}?${this.gb()}`;History.pushState(this.z,gM,gL)},cc:function(g,n){this.z[g]=n;cS.set(g,n);this.fr()},X:function(g){return this.z[g]},gx:function(g){return this.cv[g].B},gJ:function(g,n,dM){var cm=n;var gU=(dM==undefined)?`dS`:dM;if(this.dC[g]!=undefined && this.dC[g][n]!=undefined){cm=this.dC[g][n][dM]}return cm},j:function(){var c=this;return function(){var m=History.getState();if(m && m.data){c.z=m.data;c.y.j()}}}};