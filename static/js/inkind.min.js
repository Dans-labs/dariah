var dM=(function(){`use strict`;var jt={'&':`&amp;`,'<':`&lt;`,'>':`&gt;`};return function(cF){return cF.replace(/[&<>]/g,function(cz){return jt[cz]})}}());var hR={dS:function(d){return this.hn()[d]},hn:function(fb){var j,dS,hp,hw,cb;cb={};if(!fb){fb=window.location.search}if(fb.indexOf("?")===-1){return{}}hw=fb.slice(1);hp=hw.split("&");hp.forEach(function(jS,j){dS=jS.split("=");cb[dS[0]]=dS[1]});return cb}};var fT=hR.hn();var jJ=$.initNamespaceStorage(`req`);var cs=jJ.localStorage;function gR(){if(document.selection){document.selection.empty()}else if(window.getSelection){window.getSelection().removeAllRanges()}};function jX(dK){gR();if(document.selection){var dm=document.body.createTextRange();dm.moveToElementText(document.getElementById(dK));dm.select()}else if(window.getSelection){var dm=document.createRange();dm.selectNode(document.getElementById(dK));window.getSelection().addRange(dm)}};function kj(cg,gT,gV){var kd=(gT==undefined)?cg.closest('div').find('.•hN'):gT;kd.toggle();if(gV !=undefined){gV(cg)}var fY,fR;if(cg.hasClass('fa-chevron-right')){fY='fa-chevron-right';fR='fa-chevron-down'}else{fY='fa-chevron-down';fR='fa-chevron-right'}cg.removeClass(fY);cg.addClass(fR)};function jw(fE,kb,cF){return(cF.length > fE)?cF.replace(/[^ -]+/g,function(cX){return cX.substr(0,kb)}):cF};function gt(ch){return ch.join(',')};function dI(cC){var ch=[];for(var cX in cC){if(cC[cX]){ch.push(cX)}}return ch.join(',')};function dw(dk,jP){this.cI=$(`#${dk}`);this.gI=$(`#trash_${dk}`);this.gJ=this.gI.closest(`p`);this.gI.click(function(g){g.preventDefault();this.gO()}.bind(this));this.gx();this.gD=jP};dw.prototype={gx:function(){this.cI.hide();this.gJ.hide()},jk:function(){this.cI.show();if(this.cI.html()!=``){this.gJ.show()}},gO:function(){this.cI.html(``);if(this.gD !=undefined){this.gD()}this.gx()},v:function(cF,fM){if(fM==undefined){fM=`info`}var jL=this.cI.html();this.cI.html(`${jL}<p class="${fM}">${cF}</p>`);this.jk()}};function gs(D){this.cx={};this.D=D;this.v=D.v;this.hX();this.gv()};gs.prototype={cy:{list:{J:true,A:`string`,B:{contrib:1,country:1,type:1,tadiraha:1,tadiraho:1,tadiraht:1},C:`contrib`},flt_contrib:{J:false,A:`string`,B:null,C:``},flt_country:{J:false,A:`string`,B:null,C:``},flt_type:{J:false,A:`string`,B:null,C:``},flt_tadiraha:{J:false,A:`string`,B:null,C:``},flt_tadiraho:{J:false,A:`string`,B:null,C:``},flt_tadiraht:{J:false,A:`string`,B:null,C:``},rel_country_contrib:{J:false,A:`string`,B:null,C:``},rel_type_contrib:{J:false,A:`string`,B:null,C:``},rel_tadiraha_contrib:{J:false,A:`string`,B:null,C:``},rel_tadiraho_contrib:{J:false,A:`string`,B:null,C:``},rel_tadiraht_contrib:{J:false,A:`string`,B:null,C:``},ids:{J:true,A:`string`,B:null,C:``},id:{J:true,A:`integer`,dP:{hj:-1,hg:1000000},C:0},sort:{J:false,A:`boolean`,B:{v:true,x:false},C:true}},fx:{list:{contrib:{cv:`contribution`,cS:`contributions`},country:{cv:`country`,cS:`countries`},type:{cv:`type`,cS:`types`},tadiraha:{cv:`tadirah activity`,cS:`tadirah activities`},tadiraho:{cv:`tadirah object`,cS:`tadirah objects`},tadiraht:{cv:`tadirah technique`,cS:`tadirah techniques`}}},jl:function(d,q){var M,kK;if(d in this.cy){var w=this.cy[d];if(w.A==`string`){if(w.B){if(q in w.B){M=q}else{M=w.C;this.v.v(`illegal string value for ${d}: "${q}" is replaced by "${w.C}"`,`warning`)}}else{M=q}}else if(w.A==`integer`){if(/^(\-|\+)?[0-9]+$/.test(q)){M=Number(q)}else{M=w.C;this.v.v(`not a number value for ${d}: "${q}" is replaced by "${w.C}"`,`warning`)}if(M < w.dP.hj){this.v.v(`number to small for ${d}: "${M}" is replaced by "${w.dP.hj}"`,`warning`)}if(M > w.dP.hg){this.v.v(`number to big for ${d}: "${M}" is replaced by "${w.dP.hg}"`,`warning`)}}else if(w.A==`boolean`){if(q in w.B){M=w.B[q]}else{M=w.C;this.v.v(`illegal boolean value for ${d}: "${q}" is replaced by "${w.C}"`,`warning`)}}}else{M=null;this.v.v(`unknown parameter: ${d}=${q}`,`warning`)}return M},dN:function(jy){fZ=[];for(var d in this.cx){var q=this.cx[d];var w=this.cy[d];if(jy || w.J){if(w.A==`string` || w.A==`integer`){fZ.push(`${d}=${q}`)}else if(w.A==`boolean`){for(var hC in w.B){if(w.B[hC]==q){fZ.push(`${d}=${hC}`)}}}}}return fZ.join(`&`)},hX:function(){for(var d in fT){if(!(d in this.cy)){this.v.v(`unknown parameter: ${d}=${q}`,`warning`)}}for(var d in this.cy){var q=null;if(d in fT){var jW=fT[d];q=this.jl(d,jW);cs.set(d,q)}else if(cs.isSet(d)){q=cs.get(d)}else{q=this.cy[d].C;cs.set(d,q)}this.cx[d]=q}},gv:function(kL,kN){var kh=`DARIAH contribution tool`;var kf=`${app_url}?${this.dN(false)}`;History.pushState(this.cx,kh,kf)},ct:function(d,q){this.cx[d]=q;cs.set(d,q);this.gv()},R:function(d){return this.cx[d]},jF:function(d){return this.cy[d].B},fU:function(d,q,Z){var cb=q;var kJ=(Z==undefined)?`cv`:Z;if(this.fx[d]!=undefined && this.fx[d][q]!=undefined){cb=this.fx[d][q][Z]}return cb},h:function(){return function(){var k=History.getState();if(k && k.data){this.cx=k.data;this.D.h()}}.bind(this)}};function T(c,A,jv,fE,jZ){this.c=c;this.F={};this.dF={};this.ft={};this.fw={};this.dB={};this.Q={};this.cp={};this.V={};this.dd={};this.dc={};this.cc={cm:`-`,d:`-none`};this.I=A;this.hS=jv || 2;this.hT=fE || 14;this.jj=jZ || 6};T.prototype={U:function(b){var kl=this.c.k.fU(`list`,this.I,`cv`);var kk=this.c.k.fU(`list`,this.I,`cS`);var p=``;p +=this.gF(b);p +=`
<div>
    <p class="•hM"><span fct="${this.c.d}-${b}"></span> By ${kl}</p>
    <p class="•ks"><span rv="_all" class="•cH"></span> <a rv="_all" href="#" class="•hO">all ${kk}</a></p>
    <table class="•kA" id="list-${this.I}-vals_${b}">
        <tr>
`;this.cp[b].forEach(function(f,j,ch){if((j % this.hS==0)&&(j > 0)&&(j < ch.length)){p +=`</tr><tr>`}var dU=this.V[b][f];p +=`
            <td><span rv="${f}" class="•cH"></span></td>
            <td><a rv="${f}" href="#" class="•fd">${dM(dU)}</a></td>
            `},this);p +=`
        </tr>
    </table>
    <p class="•kB" id="list2-${this.I}-vals_${b}">
`;this.cp[b].forEach(function(f,j,ch){var dU=this.V[b][f];var jx=dM(jw(this.hT,this.jj,dU));p +=`<a href="#" rv="${f}" class="•gl" title="${dM(dU)}">${jx}</a> `},this);p +=`
    </p>
</div>`;this.c.l[b].html(p)},fq:function(b){var r=this.c.l[b];this.dF[b]=r.find(`#list-${this.I}-vals_${b}`);this.ft[b]=r.find(`#list2-${this.I}-vals_${b}`);var m=this;this.dF[b].find(`.•fd`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var N=m.db(b,m.c.k.R(`rel_${m.I}_${b}`));N[f]=(f in N)?!N[f]:true;m.c.k.ct(`rel_${m.I}_${b}`,dI(N));r.find(`.•cY`).removeClass(`•cY`);$(this).addClass(`•cY`)});this.ft[b].find(`.•gl`).click(function(g){g.preventDefault();var f=$(this).attr(`rv`);var N=m.db(b,m.c.k.R(`rel_${m.I}_${b}`));N[f]=(f in N)?!N[f]:true;m.c.k.ct(`rel_${m.I}_${b}`,dI(N));$(this).closest(`div`).find(`.morec`).click();var hf=m.dF[b].find(`a[rv="${f}"]`);r.find(`.•cY`).removeClass(`•cY`);hf.addClass(`•cY`);$(`#left`)[0].scrollTop=50;hf[0].scrollIntoView({behavior:`smooth`,alignToTop:`true`})});this.dB[b]=this.c.l[b].find(`[rv="_all"]`);this.dB[b].click(function(g){g.preventDefault();var jH=$(this).hasClass(`•y`);if(jH){m.c.k.ct(`rel_${m.I}_${b}`,dI(m.dc[b]))}else{m.c.k.ct(`rel_${m.I}_${b}`,dI(m.dd[b]))}})},jf:function(b,t){var gN=true;for(var f in this.V[b]){var gW=this.dF[b].find(`[rv="${f}"]`);var gX=this.ft[b].find(`[rv="${f}"]`);if(f in t && t[f]){gW.addClass(`•y`);gX.addClass(`•y`)}else{gW.removeClass(`•y`);gX.removeClass(`•y`);gN=false}}if(gN){this.dB[b].addClass(`•y`)}else{this.dB[b].removeClass(`•y`)}},db:function(b,cT){var cC={};if(cT !==null && cT !=undefined && cT !=''){var ch=cT.split(',');ch.forEach(function(cG){cC[cG]=true})}for(var f in this.V[b]){if(!(f in cC)){cC[f]=false}}return cC},hy:function(b){this.Q[b]={};for(var f in this.V[b]){this.Q[b][f]=0}var dn=this.c.E[b];for(var cX in this.F[b]){var j=this.F[b][cX];var hc=false;for(var f in dn[j]){this.Q[b][f]+=1;hc=true}if(!hc){this.Q[b][this.cc.cm]+=1}}for(var f in this.Q[b]){this.c.l[b].find(`span[rv="${f}"].•cH`).html(this.Q[b][f])}this.c.l[b].find(`span[rv="_all"].•cH`).html(this.F[b].length);this.gA(b)},cG:function(b,j){var dn=this.c.E[b];var dV=this.db(b,this.fw[b]);if((j in dn)&&(Object.keys(dn[j]).length !=0)){for(var f in dn[j]){if((f in dV)&& dV[f]){return true}}}else{if((this.cc.cm in dV)&&(dV[this.cc.cm])){return true}}return false},K:function(b){return(this.c.k.R(`list`)==b)},O:function(b){this.cp[b]=[];this.V[b]={};this.dc[b]={};this.dd[b]={};this.gE(b);this.gB(b);this.cp[b].push(this.cc.cm);this.V[b][this.cc.cm]=this.cc.d;this.dc[b][this.cc.cm]=false;this.dd[b][this.cc.cm]=true;this.U(b)},H:function(b){this.gy(b);this.fq(b)},h:function(b){this.fw[b]=this.c.k.R(`rel_${this.I}_${b}`);var t=this.db(b,this.fw[b]);this.gz(b,t);this.jf(b,t)},gE:function(b){var t=this.c.t[b];for(var j in t){var f=t[j];this.dc[b][j]=false;this.dd[b][j]=true;this.cp[b].push(j);this.V[b][j]=f}this.cp[b].sort(function(cz,dg){return(t[cz]< t[dg])?-1:(t[cz]> t[dg])?1:0})},gB:function(b){},gF:function(b){return ``},gy:function(b){},gz:function(b){},gA:function(b){}};function dv(c){T.call(this,c,`type`)};dv.prototype=Object.create(T.prototype);dv.prototype.constructor=dv;function dz(c){T.call(this,c,`tadiraho`)};dz.prototype=Object.create(T.prototype);dz.prototype.constructor=dz;function dy(c){T.call(this,c,`tadiraha`)};dy.prototype=Object.create(T.prototype);dy.prototype.constructor=dy;function dA(c){T.call(this,c,`tadiraht`,1,30)};dA.prototype=Object.create(T.prototype);dA.prototype.constructor=dA;function P(c){T.call(this,c,`country`);this.cK={};this.cJ={};this.fv={};this.dG={};this.gC={'-':true,CY:true,KS:true,TR:true,MC:true,GE:true}};P.prototype=Object.create(T.prototype);P.prototype.constructor=P;P.prototype.gF=function(b){return `<div id="map-europe_${b}" class="•kz"><p class="•fj"><a class="fa fa-arrows" href="#" title="zoom to fit all countries"/></p></div>`};P.prototype.gy=function(b){var m=this;var r=this.c.l[b];this.cJ[b]=r.find(`#map-europe_${b}`);var hd=this.cJ[b].width()*0.6;this.cJ[b].width(`100%`);this.cJ[b].height(hd);this.cJ[b].vectorMap({'map':`europe_mill`,backgroundColor:`#ccccff`,regionsSelectable:true,markersSelectable:true,regionsSelectableOne:false,markersSelectableOne:false,markerStyle:{initial:{fill:`#008800`,'fill-opacity':0.2,stroke:`none`,'stroke-width':0,'stroke-opacity':0.2,'r':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':1,'stroke-opacity':1},selected:{fill:`#008800`,'fill-opacity':1},selectedHover:{}},regionStyle:{initial:{fill:`#bbbbbb`,'fill-opacity':1,stroke:`none`,'stroke-width':0,'stroke-opacity':1},hover:{cursor:`pointer`,stroke:`#ffff44`,'stroke-width':3,'stroke-opacity':1},selected:{fill:`#dd8844`,'fill-opacity':1},selectedHover:{}},markers:this.fv[b],series:{markers:[{values:{},scale:[0,20],normalizeFunction:`linear`,attribute:`r`,min:0,max:100}],regions:[{scale:{'jR':`#ffffff`,'jG':`#ffddbb`},attribute:`fill`,values:this.dG[b]}]},onRegionTipShow:function(g,fG,f){fG.html(`${f}: ${(f in this.Q[b])?this.Q[b][f]:'not in DARIAH'}`)}.bind(this),onMarkerTipShow:function(g,fG,f){fG.html(`${f}: ${(f in this.Q[b])?this.Q[b][f]:'not in DARIAH'}`)}.bind(this),onRegionClick:function(g,f){if(!(f in this.V[b])){g.preventDefault()}}.bind(this),onMarkerClick:function(g,f){if(!(f in this.V[b])){g.preventDefault()}}.bind(this),onRegionSelected:function(g,f,j,N){if(this.fC){this.c.k.ct(`rel_${this.I}_${b}`,gt(N)+this.gK(b))}}.bind(this),onMarkerSelected:function(g,f,j,N){if(this.fC){this.c.k.ct(`rel_${this.I}_${b}`,gt(N)+this.gK(b))}}.bind(this)});var hE=r.find(`p.•fj`);hE.css(`top`,`${hd-20}px`);hE.css(`left`,`10px`);var kr=r.find(`p.•fj a`);kr.click(function(g){g.preventDefault();m.cK[b].setFocus({regions:[`GB`,`GR`]})});this.cK[b]=this.cJ[b].vectorMap('get','mapObject');this.cK[b].setFocus({regions:[`GB`,`GR`]})};P.prototype.gK=function(b){var cb=[];var hA=this.db(b,this.c.k.R(`rel_${this.I}_${b}`));var gU=true;for(var f in this.gC){if(f in hA && hA[f]){cb.push(f);gU=false}}return gU?``:(`,`+cb.join(','))};P.prototype.gz=function(b,t){this.fC=false;var fN={};for(var f in t){if(!(f in this.gC)&& f !=this.cc.cm){fN[f]=t[f]}}this.cK[b].setSelectedRegions(fN);this.cK[b].setSelectedMarkers(fN);this.fC=true};P.prototype.gA=function(b){var dZ=this.F[b].length;if(dZ==0){dZ=1}var hD={};for(var f in this.Q[b]){if(f !=this.cc.cm){var hq=100 * this.Q[b][f]/ dZ;hD[f]=(dZ < 10)?hq:(10*Math.sqrt(hq))}}this.cK[b].series.markers[0].setValues(hD)};P.prototype.gE=function(b){};P.prototype.gB=function(b){this.fv[b]={};this.dG[b]={};var t=this.c.t[b];for(var j in t){var f=t[j];if(f[1]){this.dc[b][j]=false;this.dd[b][j]=true;this.cp[b].push(j);this.V[b][j]=f[0];if(f.length > 3){this.fv[b][j]={latLng:[f[2],f[3]],d:f[0]}}this.dG[b][j]='jG'}else{this.dG[b][j]='jR'}}this.cp[b].sort(function(cz,dg){return(t[cz]< t[dg])?-1:(t[cz][0]> t[dg][0])?1:0})};function gp(c){this.c=c;this.fy={};this.cn={};this.fr={};this.fn={};this.gw={};this.dH={};this.dD={};this.fA={};this.dE={};this.F={}};gp.prototype={U:function(b){var p=`
<div>
    <p class="•hM"><span fct="${this.c.d}-${b}"></span> By full text search
        <a href="#" title="modify full text filter" id="flt2_${b}" class="•ky •fd •y •gk"></a>
        <a href="#" class="•fc fa fa-close •kx" id="clearf_${b}"></a>
    </p>
    <div id="fltw_${b}">
        <p id="•kw${b}" class="•fg •fc •ff ui-widget">
            <input id="flt_${b}" class="•fg •gk"/>
            <span •ff class="•cH" id="stats_${b}"></span>
        </p>
        <div id="autoc_${b}" style="display: none;">here ${b}</div>
    </div>
</div>`;this.c.l[b].html(p)},jg:function(b){var cw=this.c.k.R(`flt_${b}`);this.fr[b].html(cw);this.cn[b].val(cw);this.cn[b].autocomplete(`search`,cw)},jc:function(b){return function(kG,kn){this.dE[b]={};kn.content.forEach(function(km,j){this.dE[b][km.value]=1},this);if(!(this.fA[b])){var cw=this.cn[b].val();this.c.k.ct(`flt_${b}`,cw)}}.bind(this)},jd:function(b){this.dD[b].click(function(g){g.preventDefault();this.cn[b].val(``);this.cn[b].autocomplete(`search`,``)}.bind(this))},hy:function(b){var fW;if(this.cn[b].val()==``){fW=``;this.dH[b].removeClass(`•y`)}else{fW=`${this.n.F[b].length} of `;this.dH[b].addClass(`•y`)}this.dH[b].html(`${fW}${this.F[b].length}`)},cG:function(b,j){return(j in this.dE[b])},K:function(b){return(this.c.k.R(`list`)==b)},O:function(b){this.U(b)},H:function(b){if(!this.n){this.n=this.c.D.cA(`n`).S}var E=this.c.D.cA(`Y`).E[b];this.fy[b]=[];E.forEach(function(cq,j){this.fy[b].push({label:cq[1],value:`${cq[0]}`})},this);this.dE[b]={};this.F[b]=[];var r=this.c.l[b];var fB=r.find(`#fltw_${b}`);var gY=$(`#flt_${b}`);this.cn[b]=gY;var gZ=$(`#flt2_${b}`);this.fr[b]=gZ;this.fn[b]=fB.find(`#•kw${b}`);this.gw[b]=fB.find(`#autoc_${b}`);this.dH[b]=fB.find(`#stats_${b}`);this.dD[b]=r.find(`#clearf_${b}`);this.cn[b].autocomplete({appendTo:this.gw[b],source:this.fy[b],response:this.jc(b),minLength:0});gZ.click(function(g){g.preventDefault();$(this).closest(`div`).find(`.morec`).click();gY[0].focus()});this.fA[b]=true;this.jd(b);this.jg(b);this.fA[b]=false},h:function(b){var cw=this.c.k.R(`flt_${b}`);if(cw==``){this.fn[b].removeClass(`•y`);this.dD[b].hide()}else{this.fn[b].addClass(`•y`);this.dD[b].show()}this.fr[b].html(cw)}};function gn(c){this.c=c;this.gG={};this.E={};this.fX={};this.F={};this.fH={}};gn.prototype={U:function(b){var p=``;p +=`<p><span fct="all"></span>Filtering <span id="fstats_${b}"></span></p>`;this.c.l[b].html(p)},K:function(b){return this.c.k.R(`list`)==b},O:function(b){var cM=this.c.cM;this.fH[b]={};for(var X in cM){var jC=cM[X];if(jC.cR(b)){this.fH[b][X]=cM[X]}}this.U(b)},cZ:function(cP,Z){var m=this;var fF=cP.closest(`p`);var fJ=fF.find(`.hidec`);var fO=fF.find(`.morec`);var fV=fF.find(`.showc`);var fI=cP.closest(`div`).find(`table,.•fg`);var fD=cP.closest(`div`).find(`.•kB,.•kQ`);var fQ=cP.closest(`div`).find(`.•ky`);var dO=`fctx_${cP.closest('span').attr('fct')}`;var hk=Z==undefined;if(hk){if(cs.isSet(dO)){Z=cs.get(dO)}else{Z=1}}var dJ=dO==`fctx_all`;if(dJ && !hk){cP.closest(`div`).find(`div.•kt span[fct]`).each(function(){m.cZ($(this),Z)})}cs.set(dO,Z);if(Z==0){fJ.show();fO.hide();fV.hide();if(!dJ){fQ.show();fI.hide();fD.hide()}}else if(Z==1){fJ.hide();fO.show();fV.hide();if(!dJ){fQ.show();fI.hide();fD.show()}}else{fJ.hide();fO.hide();fV.show();if(!dJ){fQ.hide();fI.show();fD.hide()}}},H:function(b){var m=this;var r=this.c.l[b];var jI=this.c.D.cA(`Y`).l[b];this.gG[b]=r.find(`#fstats_${b}`);this.fX[b]=jI.find(`#table_${b}`);var fL=` details; click to change level of details`;var jA=`<a class="showc fa fa-fw fa-list-ul" href="#" title="full${fL}"></a><a class="morec fa fa-fw fa-align-left" href="#" title="condensed${fL}"></a><a class="hidec fa fa-fw fa-minus" href="#" title="hidden${fL}"></a>`;r.addClass(`•gj`);r.find(`span[fct]`).each(function(){$(this).html(`${jA}&nbsp`);m.cZ($(this))});r.find(`.hidec`).click(function(g){g.preventDefault();m.cZ($(this),1)});r.find(`.morec`).click(function(g){g.preventDefault();m.cZ($(this),2)});r.find(`.showc`).click(function(g){g.preventDefault();m.cZ($(this),0)})},h:function(b){this.fX[b].find(`tr[id]`).hide();var jM=this.c.D.cA(`Y`);var E=jM.E[b];var cr=this.fH[b];this.F[b]=[];for(var X in cr){var n=cr[X].S;n.F[b]=[]}E.forEach(function(cq,j){var cG=true;var dr=null;var dl=false;for(var X in cr){if(!dl){var n=cr[X].S;var hB=n.cG(b,cq[0]);if(!hB){cG=false;if(dr==null){dr=n}else{dl=true}}}}if(!dl){if(cG){this.F[b].push(cq[0]);this.fX[b].find(`tr[id="r${cq[0]}"]`).show()}if(dr !=null){dr.F[b].push(cq[0])}else{for(var X in cr){var n=cr[X].S;n.F[b].push(cq[0])}}}},this);for(var X in cr){var n=cr[X].S;n.hy(b)}this.gG[b].html(`${this.F[b].length} of ${E.length}`)}};function fm(c){this.c=c};fm.prototype={U:function(b){var p=``;p +=`<table id="table_${b}">`;if(b==`contrib`){this.c.E[b].forEach(function(s){p +=`<tr id="r${s[0]}"><td><a href="#" rid="${s[0]}">${s[1]}</a></td></tr>`})}else if(b==`country`){this.c.E[b].forEach(function(s){fK=(s[3]==1)?`dariah`:``;p +=`<tr id="r${s[0]}"><td class="•hL">${s[1]}<td><td class="•kv">${s[2]}<td><td class="•hP">${fK}</td><td class="•fh">${s[4]}</td><td class="•fh">${s[5]}</td></tr>`})}else if(b==`type` || b==`tadiraha` || b==`tadiraho` || b==`tadiraht`){this.c.E[b].forEach(function(s){p +=`<tr id="r${s[0]}"><td class="•hQ">${s[1]}<td></tr>`})}p +=`</table>`;this.c.l[b].html(p)},K:function(b){return this.c.k.R(`list`)==b},O:function(b){this.U(b)},H:function(b){},h:function(b){}};function gq(c){this.c=c};gq.prototype={U:function(b,kI){var p=``;p +=`<div id="table_${b}">`;if(b==`contrib`){this.c.E[b].forEach(function(s){p +=`<tr id="r${s[0]}"><td><a href="#" rid="${s[0]}">${s[1]}</a></td></tr>`})}else if(b==`country`){this.c.E[b].forEach(function(s){fK=(s[3]==1)?`dariah`:``;p +=`<tr id="r${s[0]}"><td class="•hL">${s[1]}<td><td class="•kv">${s[2]}<td><td class="•hP">${fK}</td><td class="•fh">${s[4]}</td><td class="•fh">${s[5]}</td></tr>`})}else if(b==`type` || b==`tadiraha` || b==`tadiraho` || b==`tadiraht`){this.c.E[b].forEach(function(s){p +=`<tr id="r${s[0]}"><td class="•hQ">${s[1]}<td></tr>`})}p +=`</table>`;this.c.l[b].html(p)},K:function(b){return this.c.k.R(`item`)==b},O:function(b){this.U(b)},H:function(b){},h:function(b){}};function fl(c){this.c=c;this.cg={};this.dL={}};fl.prototype={U:function(b){this.c.l[b].html(`<a class="•gg" href="#">${this.c.k.fU('list', b, 'cv')}</a> `)},fq:function(b){this.dL[b].click(function(g){g.preventDefault();this.c.k.ct(`list`,b)}.bind(this))},hY:function(b){return this.c.k.R(`list`)==b},K:function(b){return true},O:function(b){this.U(b);this.cg[b]=this.c.l[b];this.cg[b].addClass(`•gf`);this.dL[b]=this.c.l[b].find(`a`)},H:function(b){this.fq(b)},h:function(b){if(this.hY(b)){this.dL[b].addClass(`•y`);this.cg[b].addClass(`•y`)}else{this.dL[b].removeClass(`•y`);this.cg[b].removeClass(`•y`)}}};function gr(c){this.c=c};gr.prototype={K:function(b){return true},O:function(b){var p=`
<p id="•gb">Cite</p>
<table align="center">
    <tr>
        <td class="•gc clr">
            <a lnk="" href="#" id="•hJ" title="link to page content and appearance (markdown)" class="ctrl fa fa-level-down fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hH" title="link to page content and appearance (html)" class="ctrl fa fa-external-link-square fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•hI" title="link to page content (html)" class="ctrl fa fa-external-link fa-lg fa-fw"></a>
            <a lnk="" href="#" id="•gd" title="copy page content" class="ctrl fa fa-file-text-o fa-lg fa-fw"></a>
        </td>
    </tr>
    <tr>
        <th class="•gc" width="60px">page view</th>
    </tr>
    <tr class="•kO">
        <td class="•gc"><span id="•kD" class="ctrl fa fa-chevron-right fa-fw"></span><span id="•kC" class="•hN">share link to this page with or without view settings.</span></td>
    </tr>
</table>
<p id="•hF"></p>
<p id="•hG"></p>
`;this.c.l[b].html(p)},H:function(b){var m=this;var r=this.c.l[b];var dW=$(`#self_link`);dW.hide();r.addClass(`•gm`);r.find(`.•hN`).hide();r.find(`#•hJ,#•hH,#•hI,#•kP`).click(function(g){g.preventDefault();window.prompt(`Press <Cmd-C> and then <Enter> to copy link on clipboard`,$(this).attr(`lnk`))});r.find(`#•gd`).click(function(g){g.preventDefault();var dK=`middle`;var df=app_url_cite+m.c.k.dN(true);dW.show();dW.attr(`href`,df);jX(dK)});r.find(`#•kD`).click(function(g){g.preventDefault();kj($(this),$(`#•kC`))});r.click(function(g){g.preventDefault();var df=app_url_cite+m.c.k.dN(true);var jr=app_url_cite+m.c.k.dN(false);$(`#•gb`).hide();$(`#•hF`).html(``);$(`#•hG`).html(``);$(`.•gc.clr,#•hF,#•hG`).removeClass(`error warning good special`);var hv=dM($(`title`).text());$(`#•hJ`).attr(`lnk`,`[${hv}](${df})`);$(`#•hH`).attr(`lnk`,df);$(`#•hI`).attr(`lnk`,jr);$(`#•gd`).attr(`lnk`,df);$(`#•gd`).attr(`tit`,hv);$(this).animate({height:`100px`,width:`200px`,opacity:0.95},300)});r.mouseleave(function(){dW.hide();$(`#•gb`).show();r.animate({height:`20px`,width:`40px`,opacity:.7},300);return false})},h:function(b){}};function fk(d,cD,D){this.d=d;this.D=D;this.cD=cD;this.G=cD.G;this.cL={};for(var b in this.G){this.cL[b]={};for(var cT in this.D.dX){this.cL[b][cT]=true}}this.v={};this.l={};this.k=this.D.k;this.E={};this.t={};this.S=new cD.z(this)};fk.prototype={hl:function(b,x){return !this.cL[b][x].state ||(this.cL[b][x].state()==`rejected`)},hU:function(b,x,dR){var hh=this[dR].bind(this,b);var kg=this.D.jD(this.d,x);var ht=[];kg.forEach(function(dY){var dT=dY[0];var fS=dY[1];var hr=this.D.cA(dT);if(hr.cR(b)){ht.push(hr.cL[b][fS])}},this);this.cL[b][x]=$.when.apply($,ht).then(hh)},cN:function(b,x,dR){if(x in this.D.dX){if(!this.D.dX[x]|| this.hl(b,x)){this.hU(b,x,dR)}}},cR:function(b){return(b in this.G)},gL:function(b,jO){if(this.cR(b)){if(b in this.l){if(jO){this.l[b].show()}else{this.l[b].hide()}}}},hW:function(b){var L=url_tpl.replace(/_c_/,`data`).replace(/_f_/,`${this.cD.L}_${b}`)+`.json`;this.v[b].v(`fetching data ...`);var jV=this.hZ.bind(this,b);return $.ajax({type:`POST`,url:L,contentType:`application/json; charset=utf-8`,dataType:`json`}).then(function(cB){jV(cB)})},hZ:function(b,cB){this.v[b].gO();cB.msgs.forEach(function(jK){this.v[b].v(jK)},this);if(cB.good){this.E[b]=cB.data;if(`relvals` in cB){this.t[b]=cB.relvals}}this.S.O(b)},jm:function(b){this.hV=this.D.jE(this.cD.W,this.G);this.l[b]=$(`#${this.d}_${b}`);if(this.l[b].length==0){var dk=this.hV[b];dk.append(`<div id="msg_${this.d}_${b}"></div>`);dk.append(`<div id="${this.d}_${b}" class="•kt"></div>`);this.l[b]=$(`#${this.d}_${b}`)}this.v[b]=new dw(`msg_${this.d}_${b}`);if(this.cD.L !=null){return this.hW(b)}else{this.S.O(b)}},jn:function(b){this.S.H(b)},jp:function(b){this.gL(b,true);this.S.h(b)},O:function(b){if(this.cR(b)&& this.S.K(b)){this.cN(b,`O`,`jm`)}},H:function(b){if(this.cR(b)&& this.S.K(b)){this.cN(b,`H`,`jn`)}},h:function(b){if(this.cR(b)&& this.S.K(b)){this.cN(b,`h`,`jp`)}else{this.gL(b,false)}}};function dx(){this.d=`page`;this.v=new dw(`msg_${this.d}`);this.k=new gs(this);this.dX={O:true,H:true,h:false};this.hx={H:`O`,h:`H`};var dQ=this.k.jF(`list`);var dh={contrib:1};var jB={'':1};this.fp={jY:{W:`body`,G:jB,L:null,z:gr},gP:{W:`left`,G:dQ,L:null,z:fl},Y:{W:`middle`,G:dQ,L:`list`,z:fm},n:{W:`gP`,G:dQ,L:null,z:gn},cQ:{W:`n`,G:dQ,L:null,z:gp},cO:{W:`n`,G:dh,L:`country`,z:P},dj:{W:`n`,G:dh,L:`type`,z:dv},dp:{W:`n`,G:dh,L:`tadiraha`,z:dy},cU:{W:`n`,G:dh,L:`tadiraho`,z:dz},dq:{W:`n`,G:dh,L:`tadiraht`,z:dA}},this.dC={O:{n:{gP:1,Y:1},cQ:{n:1},cO:{n:1,cQ:1},dj:{n:1,cO:1},dp:{n:1,dj:1},cU:{n:1,dp:1},dq:{n:1,cU:1},jY:{n:1,Y:1}},H:{n:{cQ:1,cO:1,dj:1,dp:1,cU:1,dq:1},cQ:{Y:1},cO:{Y:1},dj:{Y:1},dp:{Y:1},cU:{Y:1},dq:{Y:1}},h:{n:{cQ:1,cO:1,dj:1,dp:1,cU:1,dq:1}}};this.fs={},this.cd={};for(var d in this.fp){if(d in this.fs){continue}var c=new fk(d,this.fp[d],this);c.cM={};this.cd[d]=c}for(var d in this.cd){var js=this.cd[d];var gS=this.fp[d].W;if(gS in this.cd){var jU=this.cd[gS];jU.cM[d]=js}}this.jb();this.jh(80);History.Adapter.bind(window,`statechange`,this.k.h())};dx.prototype={jh(kc){var kq=`${window.innerHeight - kc}px`;for(var kp in{'middle':1,'left':1,'right':1}){$(`#${kp}`).css(`height`,kq)}},jb(){var dt=[];var ds={};var cV={};for(var d in this.cd){for(var x in this.dX){dt.push(`${d}-${x}`)}}function gM(cl,cf){if(!(cl in ds)){ds[cl]={}}if(!(cf in cV)){cV[cf]={}}ds[cl][cf]=true;cV[cf][cl]=true}for(var hm in this.hx){var fS=this.hx[hm];for(var d in this.cd){gM(`${d}-${fS}`,`${d}-${hm}`)}}for(var x in this.dC){for(var fP in this.dC[x]){if(fP in this.fs){continue}for(var dT in this.dC[x][fP]){if(dT in this.fs){continue}gM(`${dT}-${x}`,`${fP}-${x}`)}}}var cj=0;var cE=[];var cW={};while(cj <=dt.length){cE.push({});if(cj==0){dt.forEach(function(ck){if(!(ck in cV)){cE[cj][ck]=1}})}else{for(var cl in cW){if(cl in ds){for(var cf in ds[cl]){if(!(cf in cW)){var hb=true;for(var jQ in cV[cf]){if(!(jQ in cW)){hb=false;break}}if(hb){cE[cj][cf]=1}}}}}}if(!Object.keys(cE[cj]).length){break}for(var ck in cE[cj]){cW[ck]=1}cj++}this.fz=[];this.gH={};if(Object.keys(cW).length !=dt.length){var gQ=[];dt.forEach(function(ck){if(!(ck in cW)){gQ.push(ck)}})}else{cE.forEach(function(jN,cj){for(var ck in jN){this.fz.push(ck)}},this);this.gH=cV}},cA:function(d){return this.cd[d]},jE:function(d,G){var l={};if(d in this.cd){l=this.cd[d].l}else{var jq=(d==`body`)?$(`body`):$(`#${d}`);for(var b in G){l[b]=jq}}return l},jD:function(d,x){var hs=[];var cf=`${d}-${x}`;for(var cl in(this.gH[cf]||{})){hs.push(cl.split(`-`))}return hs},h:function(){this.fz.forEach(function(dY){var hz=dY.split(`-`);var d=hz[0];var x=hz[1];var c=this.cA(d);for(var b in c.G){c[x](b)}},this)}};$(function(){new dx().h()});