<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Global - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li><li><a href="Store.html">Store</a><ul class='methods'><li data-type='method'><a href="Store.html#get">get</a></li><li data-type='method'><a href="Store.html#register">register</a></li><li data-type='method'><a href="Store.html#save">save</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#globals">globals</a></li><li><a href="global.html#saveState">saveState</a></li><li><a href="global.html#withContext">withContext</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">Global</h1>
    

    




<section>

<header>
    
        <h2>
        
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




        

        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="globals"><span class="type-signature">(constant) </span>globals<span class="type-signature"></span></h4>





<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="main.jsx.html">main.jsx</a>, <a href="main.jsx.html#line45">line 45</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Application wide data</p>
<p>Some things need to be practically global, or at least, application wide.
We will not use the javascript <code>window</code> object to store globals.
Instead we use the <em>context</em> mechanism of React to pass global information
around within the app.</p>
<h1>Store</h1><p>The store is a container of component states.
We use it for components with a costly state, that should be preserved when components are swapped in and out from
the user interface.</p>
<p>We pass a reference to the store as a parameter to all routes that invoke a component with state that should be preserved. 
We do not use central state. We only provide for components to store their state when they unmount,
and to load it when they mount.</p>
<p>A component can assign its state to the store using a self chosen key, preferably different for different instances.
So the store consists of saved states keyed by component instances.</p>
<p>The most important use cases for this app:</p>
<ul>
<li>if the big contrib list is loaded, the user must be able to go back and forth between docs like &quot;about&quot;
and the contrib list without the need to reload the list all the time</li>
<li>if a user has set up filters, the filter state should be preserved after navigating to other parts of the app</li>
</ul>
<p>Note that the DOM may be swapped out, but the state info needed to recreate the dom should be preserved.</p>
<h1>Notification</h1><p>We want one place on the interface for displaying notifications.</p>
</div>








        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="saveState"><span class="type-signature"></span>saveState<span class="signature">(ComponentInner, key, object)</span><span class="type-signature"> &rarr; {Component}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers_hoc.js.html">helpers/hoc.js</a>, <a href="helpers_hoc.js.html#line81">line 81</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Wraps a component to let it preserve its state across unmounts.</p>
<p>Up till now I eschew Redux. I prefer the vamilla react way, with small components
and small local state, instead of a centralized store for the state.
Using redux requires a lot of extra code in actions and reducers,
that get separated from the components for which it is used.
But local state has a pitfall: when a component is swapped out from the interface
(because of routing), its state is lost. So if you have applied a lot of filtersettings,
or have fetched a big table of data, and you switch to /docs/about and back,
a lot of ui-work and fetch-work must be done again, by you and the client and the server.
That is why we give components the option to save state when they unmount, and to
retrieve it when they mount.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ComponentInner</code></td>
            

            <td class="type">
            
                
<span class="param-type">Component</span>


            
            </td>

            

            

            <td class="description last"><p>the incoming component (the wrappee)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>key</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>identifier to find the saved state back in the state store</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">initialState</span>


            
            </td>

            

            

            <td class="description last"><p>the state to start with</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>ComponentOuter the enhanced component  (the wrapper)</p>
<p>Connnects ComponentInner with a global object called <a href="Store.html">Store</a> (provided by means
of <a href="global.html#withContext">withContext</a>).
This one works by extending the <code>ComponentInner</code> class, and adding functionality
to its <code>constructor()</code> and <code>componentWillUnmount()</code> methods.
In order to use the <a href="Store.html">Store</a> object, a component needs to register itself with
a key and an initial state value.
The <code>initialState</code> can be passed as a concrete object, or as a function
that computes the <code>initialState</code> on the basis of props.
(See FilterCompute)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Component</span>


    </dd>
</dl>

    


        
            

    

    <h4 class="name" id="withContext"><span class="type-signature"></span>withContext<span class="signature">(ComponentInner)</span><span class="type-signature"> &rarr; {Component}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="helpers_hoc.js.html">helpers/hoc.js</a>, <a href="helpers_hoc.js.html#line37">line 37</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>Wraps a component to provide it with context.</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ComponentInner</code></td>
            

            <td class="type">
            
                
<span class="param-type">Component</span>


            
            </td>

            

            

            <td class="description last"><p>the incoming component (the wrappee)</p></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>ComponentOuter the enhanced component  (the wrapper)</p>
<p>Supplies context to ComponentInner. 
ComponentOuter subscribes to context (a React mechanism to pass data directly
from ancestors to deep descendants), and passes the content of context.globals 
to ComponentInner as props.
These properties are then &quot;magically&quot; present in the methods of ComponentInner.
By wrapping the syntax of the React context mechanism into this enhancer, we
can survive API changes more easily.
The <a href="https://facebook.github.io/react/docs/context.html">React documentation</a>
considers context as a brittle part of itself, and warns
against over-use. At the same time, react-redux, a very popular React extension,
depends critically on it.
So, our withContext enhancer is the only place in the code where context surfaces.</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Component</span>


    </dd>
</dl>

    


        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.2</a> on Wed Nov 02 2016 19:19:04 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>