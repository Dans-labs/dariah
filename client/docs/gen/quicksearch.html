<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"state_Alternatives.jsx.html":{"id":"state_Alternatives.jsx.html","title":"Source: state/Alternatives.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/Alternatives.jsx import React, { Component } from 'react' import { withContext, saveState } from '../helpers/hoc.js' /** * @class * @classdesc * **stateful** {@link external:Component|Component} * * Displays one of a list of alternatives and * let the user cycle through the alternatives. * * Handy for: * * show/hide a component: pass as alternatives: `[component, &lt;div&gt;]` * * view alternative representations of a resource, e.g. * ``` * [ * &lt;div&gt;{MarkDownSource}&lt;/div&gt;, * &lt;div&gt;{FormattedDoc}&lt;/div&gt; * ] * ``` * * The state maintains the number of the currently chosen alternative. * It resides in `state.alt`. */ class Alternatives extends Component { /** * @method * @param {string} tag An extra identification, to distinguish this instance of the class from others. * The tag will be used when the state of this component must be saved or loaded. * **NB:** The tag property will be injected into Alternatives by the * {@link module:hoc.saveState|saveState} component enhancer. * @param {Component[]} alternatives A list of components to choose from * @param {number} initial The number of the initial alternative to be displayed * @returns {void} Updates the state: increases `state.alt` * (the number saying which alternative is active). * The increase is done cyclically modulo *n* = the number of alternatives. */ next(event) { event.preventDefault(); const { tag, alternatives, initial } = this.props; const newAlt = ((this.state.alt || initial || 0) + 1) % alternatives.length; this.setState({alt: newAlt}); } /** * @method * @param {Component[]} alternatives A list of components to choose from * @param {Fragment[]} controls A list of DOM fragments that act as controllers. * `control[i]` corresponds to `alternative[i]` and is displayed with it. * Every individual control must be given as a function `handler =&gt; fragment`. * When the controls are placed, the control functions will be passed the * {@link Alternatives#next|next} method in this class, * so that a click on the control eventually translates to a * call of {@link Alternatives#next|next}. * @param {number} initial The number of the initial alternative to be displayed * @param {function} controlPlacement A function to put the control in place for each alternative. * In this way the caller can fine tune how exactly the control appears in relation to * the alternative component. * @returns {Fragment} The chosen alternative with its control. */ render() { const { controlPlacement, controls, alternatives, initial } = this.props; const alt = this.state.alt || initial || 0; return ( &lt;div&gt; {controlPlacement(controls[alt](this.next.bind(this)))} {alternatives[alt]} &lt;/div&gt; ) } } export default withContext(saveState(Alternatives, 'Alternatives', {})) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_App.jsx.html":{"id":"pure_App.jsx.html","title":"Source: pure/App.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/App.jsx import React from 'react' import Login from '../state/Login.jsx' import NavLink from './NavLink.jsx' import Notification from '../state/Notification.jsx' import { columnStyle } from '../helpers/ui.js' /** * **purely functional** {@link external:Component|Component} * * ## Top level interface component * * As far as the web page is concerned, this is the top level component. * Technically, there are only * some {@link external:Routing|router} components * and ultimately the {@link Provider} * {@link external:Component|component} above it. * * ## Permanent navigation widget * * `App` is always in view and consists of the * * top navigation bar (with logo, {@link Login}, and {@link Notification}) * * right navigation bar (with navigation links to the components of the app * and documentation). * * @constructor * @param {Component[]} children The children of this component as specified in the * {@link external:Routing|route} where App is called * @returns {Fragment} */ const App = ({children}) =&gt; ( &lt;div&gt; &lt;Notification/&gt; &lt;p className=&quot;nav&quot; style={{paddingRight: '5em'}}&gt; &lt;img style={{ marginBottom: '-1em', marginTop: '-1em', height: &quot;3em&quot;, }} src=&quot;/static/images/inkind_logo_small.png&quot; title=&quot;information about this site&quot; /&gt; &lt;Login/&gt; &lt;/p&gt; &lt;div className=&quot;nav&quot; style={columnStyle('left')}&gt; &lt;ul className=&quot;nav&quot; style={{height: '60%'}}&gt; &lt;li&gt;&lt;NavLink to=&quot;/contrib&quot;&gt;Contributions&lt;/NavLink&gt;&lt;/li&gt; &lt;li&gt;&lt;NavLink to=&quot;/docs/about.md&quot;&gt;About&lt;/NavLink&gt;&lt;/li&gt; &lt;/ul&gt; &lt;ul className=&quot;nav&quot; style={{height: '30%', verticalAlign: 'bottom'}} &gt; &lt;li&gt;&lt;NavLink to=&quot;/tech/docs/gen/index.html&quot;&gt;tech doc&lt;/NavLink&gt;&lt;/li&gt; &lt;li&gt;&lt;NavLink to=&quot;/tech/docs/design.pdf&quot;&gt;diagrams&lt;/NavLink&gt;&lt;/li&gt; &lt;li&gt;&lt;NavLink to=&quot;/tech/docs/deploy.md&quot;&gt;deploy&lt;/NavLink&gt;&lt;/li&gt; &lt;/ul&gt; &lt;/div&gt; &lt;div style={columnStyle('right')}&gt; { children } &lt;/div&gt; &lt;/div&gt; ) export default App × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_ByValue.jsx.html":{"id":"pure_ByValue.jsx.html","title":"Source: pure/ByValue.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/ByValue.jsx import React from 'react' import Facet from './Facet.jsx' import CheckboxI from '../object/CheckboxI.jsx' import Stats from './Stats.jsx' import Alternatives from '../state/Alternatives.jsx' import { placeFacets, testAllChecks } from '../helpers/filtering.js' /** * **purely functional** {@link external:Component|Component} * * A widget by which the user can click the facets associated with one field. * There is also a collective checkbox, by which the user can check or uncheck all facets in one go. * All values that occur are displayed, with statistics in the form *subtotal of total*. * * ### Note on performance * There is a subtlety here. * When we have the facets, we want to lay them out in a grid. * That work needs only be done upon construction, * and not for state updates in response to user * events on the filters. * So we want to do the grid computation * {@link module:filtering.placeFacets|placeFacets} * once, in an initialization stage, e.g. in the * {@link external:constructor|constructor()}. * But it turns out that for the visual performance it does not matter. * * This is the virtue of React: the code for rendering just constructs a * {@link external:Fragment|Fragment}, not the real {@link external:DOM|DOM}. * The computation inside {@link module:filtering.placeFacets|placeFacets} * is just a little bit of juggling with tiny datastructures, so the fragment is constructed in no time. * See {@link external:Reconciliation|Reconciliation}. * * @constructor * @param {number} filterId The index of the filter in {@link module:Filters.filterList|filterList} * @param {string} filterField The name of the field in the contribs list whose values are being filtered * @param {Map} fieldValues A mapping of the valueIds to valueRepresentations for all values that occur in `filterField` * @param {Map} filterSettings The current state of the facets belonging to this filter * @param {number} filteredAmount The number of rows that have passed all filters * @param {number} filteredAmountOthers The number of rows that have passed all other filters * @param {Map} amounts The number of rows that have passed all filters per valueId occurring in this field * @param {number} maxCols The maximum number of columns to use when placing facets in a grid * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ const ByValue = ({ filterId, filterField, fieldValues, filterSettings, filteredAmount, filteredAmountOthers, amounts, maxCols, updFilter, }) =&gt; { const rows = placeFacets(filterField, fieldValues, maxCols); const statStyle = {align: 'right'}; return ( &lt;div&gt; {rows === null ? (&lt;p&gt; -no facets &lt;/p&gt;) : ( &lt;Alternatives tag={filterField} controlPlacement={control =&gt; ( &lt;p style={{fontWeight: 'bold', marginTop: '1em', marginBottom: '0.2em', borderTop: '1px solid black'}}&gt; &lt;CheckboxI filterId={filterId} states={testAllChecks(filterSettings)} updFilter={updFilter} /&gt; By {filterField}{' '} &lt;Stats subTotal={filteredAmount} total={filteredAmountOthers}/&gt;{' '} {control} &lt;/p&gt; )} controls={[ (handler =&gt; &lt;a className='fa fa-chevron-down' href='#' onClick={handler}/&gt;), (handler =&gt; &lt;a className='fa fa-chevron-right' href='#' onClick={handler}/&gt;), ]} alternatives={[ (&lt;table&gt; &lt;tbody&gt; {rows.map((row, i) =&gt; ( &lt;tr key={i}&gt; {row.map((f, j) =&gt; { if (f === null) { return &lt;td key={j}/&gt;; } const [valueId, valueRep] = f; return [ (&lt;td key={j} style={j &gt; 0 ? {paddingLeft: '0.5em'} : {}} &gt; &lt;Facet key={valueId} filterId={filterId} valueId={valueId} valueRep={valueRep} checked={filterSettings.get(valueId)} updFilter={updFilter} /&gt; &lt;/td&gt;), (&lt;td style={{textAlign: 'right', paddingLeft: '0.5em'}} &gt; &lt;Stats subTotal={amounts.get(valueId)}/&gt; &lt;/td&gt;), ]})} &lt;/tr&gt; ))} &lt;/tbody&gt; &lt;/table&gt;), (&lt;div/&gt;), ]} /&gt; )} &lt;/div&gt; ) } export default ByValue × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"object_CheckboxI.jsx.html":{"id":"object_CheckboxI.jsx.html","title":"Source: object/CheckboxI.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: object/CheckboxI.jsx import React, { Component } from 'react' const indeterminate = states =&gt; !states.allTrue &amp;&amp; !states.allFalse /** * @class * @classdesc * **stateless, DOM-modifying** {@link external:Component|Component} * Displays a *collective* checkbox for a filter with many facets. * * * Clicking on this box will collectively check and uncheck all associate * checkboxes. * * This checkbox can have an indeterminate state, if some but not all * of the associate checkboxes are checked. * * We have to resort to a DOM manipulation after rendering to get the * indeterminate state across. */ class CheckboxI extends Component { componentDidMount() { const { states } = this.props; this.refs.ci.indeterminate = indeterminate(states); } componentDidUpdate() { const { states } = this.props; this.refs.ci.indeterminate = indeterminate(states); } /** * @method * @param {boolean[]} states Exactly two booleans, indicating whether the associate checkboxes * are all checked or all unchecked * @param {number} filterId The index of the filter in {@link module:Filters.filterList|filterList} * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ render () { const { states, filterId, updFilter } = this.props; return ( &lt;input ref=&quot;ci&quot; type=&quot;checkbox&quot; onChange={event =&gt; updFilter(filterId, this.refs.ci.indeterminate || !states.allTrue)} checked={states.allTrue} /&gt; ) } } export default CheckboxI × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"info_react.js.html":{"id":"info_react.js.html","title":"Source: info/react.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: info/react.js /** * React Documentation references. * * This file does not contain javascript code. * * @module React */ /** * ## React Components * * React components represent pieces of the web page and their functionality. * Components are organized hierarchically. * Components can be parametrized by *properties*, which parents pass to children. * A component acts as a template instruction to build a piece of DOM. * * Components can be programmed as classes or as functions. * In both cases they can be given the * {@link external:PropTypes|types}. * of their incoming properties as metadata. * * In this app we distinguish between three *capability levels* of components. * * ## Pure components * If a component knows how to build the DOM, purely on the basis of its properties and * a static template, it can be (and will be) coded as a pure function. * * We put all these components in a directory called **pure**. * * ## DOM-manipulating components * If a component has to handle the DOM after it has been constructed, * e.g. apply some hiding and showing, fill a div with a third party component, * then we need to program the component as a class with so-called * {@link external:LifeCycle| life cycle methods}. * * We put all these components in a directory called **object**. * * ## Stateful components * If a component maintains a {@link external:state|state}, it is stateful. * We need to program this as a class, like in the previous case. * Stateful components may or may not manipulate the DOM. * * We put all these components in a directory called **state**. * * @example &lt;caption&gt;pure component&lt;/caption&gt; * const Widget = ({shape, children}) =&gt; &lt;div className={shape}&gt;{children}&lt;/div&gt; * * @example &lt;caption&gt;object component (DOM)&lt;/caption&gt; * class Widget extends Component { * render() { * const {typed} = this.props; * return ( * &lt;input ref=&quot;user&quot; type=&quot;text&quot; value={typed}/&gt; * ) * } * componentDidUpdate() { * this.refs.user.value = this.props.typed * } * * @example &lt;caption&gt;stateful component&lt;/caption&gt; * class Widget extends Component { * constructor() { * super(); * this.state = {data: []} * } * render() { * return ( * &lt;div&gt; * {this.state.data.map((line, i) =&gt; &lt;p key={i}&gt;{line}&lt;/p&gt;) * &lt;/div&gt; * ) * } * componentDidMount() { * const newData = getData(); * this.setState(data: newData); * } * } * * @external Component * @see {@link https://facebook.github.io/react/docs/react-component.html|Component} */ /** * @global * @typedef Component * @type {external:Component} */ /** * React renders updates to * {@link external:Component|components} * very efficiently. * The * {@link external:render|render()} * function is a template for a * {@link external:Fragment|element fragment}, not the real * {@link external:DOM|DOM}. * So, after an update, it is not costly to recompute the fragment * for that component completely, because the DOM is not touched. * * Once the new fragment has been constructed, a clever, React-internal * process called **reconciliation** is carried out, which computes the minimum * number of update actions that have to be applied to the previous, real DOM * incarnation of the component, to change it to match the new fragment. * * As an example where we rely on the efficiency of reconciliation, * see {@link ByValue}. * * @external Reconciliation */ /** * A compact internal representation of the * {@link external:DOM}, made from React *elements*. * * A React element is an instance of the React Element class. * In **jsx** you can refer to a React element just by saying * ``` * &lt;p&gt;foo&lt;/p&gt; *``` * React elements reflect HTML elements, but you can mingle them * with React * {@link external:Component|components}, which look nearly the same in **jsx**: * * ``` * &lt;p&gt; * &lt;NavLink to=&quot;/data&quot;&gt;bar&lt;/NavLink&gt; * &lt;/p&gt; *``` * * A fragment is such a mixture of properly nested React elements and components. * It is part of the React's toolkit to manage DOM manipulations efficiently. * * See {@link external:Reconciliation|Reconciliation}. * * @external Fragment * @see {@link https://facebook.github.io/react/docs/rendering-elements.html|Fragments} */ /** * @global * @typedef Fragment * @type {external:Fragment} */ /** * Type checking for React * {@link Component|components}. * * Proptype checking in react only happens in development mode. * React checks whether the named props that are passed to a component * correspond to the props declared. In addition, it performs a basic type check on the values * inside those props. * * I find the `PropType` syntax verbose, and no match for the otherwise clean and pleasant * syntax of JSX. Additionally, most of the mistakes I make, do not reveal themselves as value * type mistakes. On top it this all: declaring `PropTypes` forcres you to repeat all * the names of your proptypes, so is against the principle of *do't repeat yourself*. * In this application, the property names are always clear in the code, either as * * ``` * const MyComponent = ({foo, bar)} =&gt; ... * ``` * * or as * * ``` * const {foo, bar} = this.props * ``` * * Moreover, I describe the types and meaning of the properties also in nearby *jsdoc* comments. * That should suffice. * * @external PropTypes * @see {@link https://facebook.github.io/react/docs/typechecking-with-proptypes.html|PropTypes} */ /** * React mechanism to pass data directly from ancestors to deep descendants. * The React documentation * considers context as a brittle part of itself, and warns * against over-use. At the same time, * {@link external:Redux|Redux} * depends critically on it, so I consider it safe to use. * * By wrapping the syntax of the React context mechanism into an enhancer, we * can survive API changes more easily. * See {@link module:hoc.withContext|withContext}. * * @external context * @see {@link https://facebook.github.io/react/docs/context.html|context} */ /** * The main function of a * {@link external:Component|component} * is to act as a template to be {@link external:render|rendered}. * But if there is additional work to be done, this can be hooked up at various * stages in the component's lifecycle. * Most stages occur during (re)rendering, and there is a stage of construction and unmounting. * * @external LifeCycle * @see {@link https://facebook.github.io/react/docs/react-component.html#the-component-lifecycle|Lifecycle Methods} */ /** * When a * {@link external:Component|component} * is being * {@link https://facebook.github.io/react/docs/react-component.html#render|rendered} * this is the method to construct the corresponding React class. * It will set up the * {@link external:state|state}. * * @external constructor * @see {@link https://facebook.github.io/react/docs/react-component.html#constructor|constructor()} */ /** * When a * {@link external:Component|component} * has been added to the DOM * this method will be called just after. * This is the recommended time to fetch data for this component, if needed. * * @external componentDidMount * @see {@link https://facebook.github.io/react/docs/react-component.html#componentdidmount|componentDidMount()} */ /** * When a * {@link external:Component|component} * has been updated due to receiving new properties, * this method will be called just after. * If DOM manipulations are needed to complete the rendering, this is * the place to do it. * * *NB:** This will not called upon initial rendering, so if the DOM manipulation * is also needed initially, it is handy to write a function for it and * call it in this method and in {@link external:componentDidMount:componentDidMount()}. * * @external componentDidUpdate * @see {@link https://facebook.github.io/react/docs/react-component.html#componentdidupdate|componentDidUpdate()} */ /** * When a * {@link external:Component|component} * will be added to the DOM, * this method will be called just before. * This is the first thing that happens after {@link external:constructor|constructor()}. * * @external componentWillMount * @see {@link https://facebook.github.io/react/docs/react-component.html#componentwillmount|componentWillMount()} */ /** * When a * {@link external:Component|component} * is about to receive new props (as part of the update process), * this method will be called just before. * The new props are passed with it, so that it is possible to execute * actions dependent on whether pros have changed. * * * @external componentWillReceiveProps * @see {@link https://facebook.github.io/react/docs/react-component.html#componentwillreceiveprops|componentWillReceiveProps()} */ /** * When a * {@link external:Component|component} * will be removed from the DOM, * this method will be called just before. * If we want to save state, we can hook it up here. * * @external componentWillUnmount * @see {@link https://facebook.github.io/react/docs/react-component.html#componentwillunmount|componentWillUnmount()} */ /** * The main function of a * {@link external:Component|component} * is to act as a template to be rendered. * During rendering the template will be used as a set of instructions to build a real DOM * somewhere on the actual web page. * * @external render * @see {@link https://facebook.github.io/react/docs/react-component.html#render|render()} */ /** * For elements that can receive user input (forms, inputs, etc) there is the option * to handle input in a way controlled by React, and not by the default HTML behaviour. * * So when a user clicks a checkbox, the check is not managed by the browser, * but a callback is called, a parent component executes it, state gets updated, state changes * trickle down as property updates to child elements, and the checkbox in question is told * to be checked (or unchecked). * * @external ControlledComponent * @see {@link https://facebook.github.io/react/docs/forms.html|Forms} */ /** * ## Local State * * The vanilla React way is that {@link external:Component|components} * have their own state, which only they can modify through {@link external:setState|setState()}. * * But even in React, state is not completely local, because in many * cases several components need to have access to the state. * The preferred way of dealing with that is to lift state up to the nearest * common ancestor of all components that need the state. * Descendants that must modify ancestral state are passed a callback to do so. * * A widely used approach to *central* state is {@link external:Redux|Redux}, * our alternative is * {@link external:StatePolicy|local state plus backup}. * * @external setState * @see {@link https://facebook.github.io/react/docs/react-component.html#setstate|setState()} */ /** * ## State * * There are two main reasons for a component to maintain state: * * * getting external data * * reacting to user events * * In both cases, something happens in the outside world that must be remembered. * Components remember these things in their * {@link external:state|state}, which only they can update. * They can compute derived data from their state and pass that as properties * to their children. * State updates trigger these computations automatically, and children * whose properties are dependent on this state, are rerendered automatically * (and economically). * * See also * {@link external:Component|components}. * * @external state * @see {@link https://facebook.github.io/react/docs/state-and-lifecycle.html} */ /** * ## Central State * * This is a popular implementation of the idea that {@link external:state|state} is centralized * and all components have to subscribe to a state provider, the store. * * * If a component needs to update the state, it dispatches an action to the store. * * So-called *reducers* translate the action into a state update. * * And then the component can re-render. * * Using Redux requires a lot of extra code in actions and reducers, * which get separated from the components for which it is used. * * The plain React alternative is * {@link external:setState|setState()}, * our alternative is * {@link external:StatePolicy|local state plus backup}. * * @external Redux * @see {@link https://github.com/reactjs/react-redux|Redux} */ /** * ## Routing * * React-router is a convenient library to manage the connection between * the url and the part of your app that should be active in response to it. * * ``` * &lt;Router history={browserHistory}&gt; * &lt;Route path=&quot;/&quot; component={App}&gt; * &lt;Route path=&quot;about&quot; component={About} /&gt; * &lt;Route path=&quot;contribs&quot; component={Contribs} /&gt; * &lt;/Route&gt; * &lt;/Router&gt; * ``` * * The router and its routes are basically React * {@link external:Component|components}. * But they come loaded with some extra behaviour. * Basically, when a route is rendered, it checks its `path` attribute with the current url. * If it matches, it renders itself. Otherwise, it does not mount, or if it was mounted, * it will unmount. * * Several tricks are employed to make this a really useful library. * See * {@link https://github.com/ReactTraining/react-router/blob/master/docs/API.md#route|API documentation}. * However, precisely because of this repeated mounting and unmounting * caused by routing events, the need arises for components to save their states. * Especially the ones with a costly state. * See the remarks on the {@link external:StatePolicy|state policy}. * * @external Routing * @see {@link https://github.com/ReactTraining/react-router} */ × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Contrib.jsx.html":{"id":"pure_Contrib.jsx.html","title":"Source: pure/Contrib.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Contrib.jsx import React from 'react' /** * **purely functional** {@link external:Component|Component} * * Displays a contribution record in a table row. * Just the title. * * @constructor * @param {Object} row A record of data from the contributions table * @returns {Fragment} */ const Contrib = ({ row }) =&gt; ( &lt;tr id={row._id}&gt; &lt;td&gt;{row.title}&lt;/td&gt; &lt;/tr&gt; ) export default Contrib × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Contribs.jsx.html":{"id":"pure_Contribs.jsx.html","title":"Source: pure/Contribs.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Contribs.jsx import React from 'react' import Contrib from './Contrib.jsx' /** * **purely functional** {@link external:Component|Component} * * Displays the list of contributions as a table. * Only the rows that have passed all filters. * * @constructor * @param {Object[]} filteredData The list of rows to be displayed * @returns {Fragment} */ const Contribs = ({ filteredData }) =&gt; ( &lt;div style={{height: '100%', overflow: 'auto'}}&gt; &lt;table&gt; &lt;tbody&gt;{ filteredData.map((item) =&gt; ( &lt;Contrib key={item._id} row={item} /&gt; )) }&lt;/tbody&gt; &lt;/table&gt; &lt;/div&gt; ) export default Contribs × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"state_ContribsFiltered.jsx.html":{"id":"state_ContribsFiltered.jsx.html","title":"Source: state/ContribsFiltered.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/ContribsFiltered.jsx import React, { Component } from 'react' import FilterCompute from './FilterCompute.jsx' import { filterList } from '../pure/Filters.jsx' import { compileFiltering } from '../helpers/filtering.js' import { getData } from '../helpers/data.js' import { withContext, saveState } from '../helpers/hoc.js' /** * @class * @classdesc * * **stateful** {@link external:Component|Component} * * Displays one of a list of alternatives * and lets the user cycle through the alternatives. * * &lt;img src=&quot;/api/file/tech/docs/design/design.002.jpeg&quot; width=&quot;800&quot;/&gt; */ class ContribsFiltered extends Component { /** * Calls {@link module:filtering.compileFiltering|compileFiltering} before the actual rendering. * * @method * @param {Contrib[]} contribs (from *state*) The list of contribution records as it comes form mongo db * @param {Map} countries (from *state*) The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @returns {Fragment} */ render() { const { contribs, countries } = this.state; if (contribs == null || countries == null) { return &lt;div/&gt; } const { fieldValues, filterInit } = compileFiltering(contribs, filterList); const countriesMap = new Map(countries.map(x =&gt; [x._id, x])); return &lt;FilterCompute contribs={contribs} countries={countriesMap} fieldValues={fieldValues} filterInit={filterInit} /&gt; } /** * @method * @param {Contrib[]} contribs (from *state*) The list of contribution records as it comes form mongo db * @param {Map} countries (from *state*) The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @returns {Object} The data fetched from the server. */ componentDidMount() { const { contribs, countries } = this.state; if (contribs == null || countries == null) { getData([ { type: 'db', path: '/list_contrib', branch: 'contribs', }, { type: 'db', path: '/member_country', branch: 'countries', }, ], this, this.props.notification.component ); } } } export default withContext(saveState(ContribsFiltered, 'ContribsFiltered', {contribs: null, countries: null})) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_DocHtml.jsx.html":{"id":"pure_DocHtml.jsx.html","title":"Source: pure/DocHtml.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/DocHtml.jsx import React from 'react' /** * **purely functional** {@link external:Component|Component} * * Displays an HTML document by linking to it in an IFRAME. * * @constructor * @param {string} docDir the directory part of the location of the document * @param {string} docName the name part (without extension) of the location of the document * @param {string} docExt the extension the document * @returns {Fragment} */ const DocHtml = ({ docDir, docName, docExt }) =&gt; { const src = `/api/file${docDir}/${docName}.${docExt}`; return ( &lt;iframe height=&quot;100%&quot; width=&quot;100%&quot; src={src} &gt; &lt;/iframe&gt; ) } export default DocHtml × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_DocPdf.jsx.html":{"id":"pure_DocPdf.jsx.html","title":"Source: pure/DocPdf.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/DocPdf.jsx import React from 'react' /** * **purely functional** {@link external:Component|Component} * * Displays a PDF document by linking to it in an OBJECT. * * **NB:** On iOS this does not work well, only the first page of the PDF gets shown, * we work around it by just displaying a link to open the PDF in a new tab. * We only do that when we detect an iOS browser. * * @constructor * @param {string} docDir the directory part of the location of the document * @param {string} docName the name part (without extension) of the location of the document * @param {string} docExt the extension the document * @constructor * @param {Object} * @returns {Fragment} */ const DocPdf = ({ docDir, docName, docExt }) =&gt; { const href = `/api/file${docDir}/${docName}.${docExt}`; const iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) &amp;&amp; !window.MSStream; return iOS ? ( &lt;p&gt; &lt;a target=&quot;_blank&quot; href={href}&gt;{docName}&lt;/a&gt; (open pdf in a new tab) &lt;/p&gt; ) : ( &lt;object height=&quot;100%&quot; width=&quot;100%&quot; data={href} type=&quot;application/pdf&quot; &gt; alt : &lt;a target=&quot;_blank&quot; href={href}&gt;{docName}&lt;/a&gt; (open pdf in a new tab) &lt;/object&gt; ) } export default DocPdf × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"info_es6.js.html":{"id":"info_es6.js.html","title":"Source: info/es6.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: info/es6.js /** * ES6 Documentation references. * * This file does not contain javascript code. * * @module ES6 */ /** * ES6 datastructure to contain key-value pairs. * One could also use plain objects for this, but Maps are cleaner in a number of respects. * * @external Map * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map|Map} */ /** * @global * @typedef Map * @type {external:Map} */ /** * ES6 datastructure to contain the result of an asynchronous function. * It has as state that is either *pending*, *failed* or *resolved*. * Once the state is *failed* or *resolved*, it will not change anymore. * If the state is *resolved*, the return value is available, and will not change anymore. * The typical way to use a promise is * * ``` * const dataStore = {}; * const getData = url =&gt; fetch(url); * // assuming that fetch returns a Promise, we can then say * getData('/api/blob/23'). * then( * blob =&gt; {dataStore.url = blob}, * error =&gt; console.error(error), * ) * ``` * See e.g. {@link module:data.getData|getData()} * * @external Promise * @see {@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise|Promise} */ /** * @global * @typedef Promise * @type {external:Promise} */ /** * The internal representation of the html page rendered in the browser, is called the DOM * (Document object model). It is a tree that reflects the tree of the HTML elements. * To this tree, a lot of data and methods are attached, such as styles, events, custom date. * The DOM is an expensive object to create and to update. * * React can be seen as a library to manage complex DOM manipulations in a performant way. * See {@link external:Reconciliation|Reconciliation}. * * @external DOM */ /** * @global * @typedef DOM * @type {external:DOM} */ × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_hoc.js.html":{"id":"helpers_hoc.js.html","title":"Source: helpers/hoc.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/hoc.js import React, { Component, PropTypes, Children } from 'react' /** * # Higher Order Components * * React embraces a functional paradigm, where you enhance existing * {@link external:Component|components} * by composition rather than by class extension. * Put otherwise, you write an enhancer or *decorator* function, that * takes a component as input and returns it wrapped inside another * so that the new thing as an extra piece of functionality. * * Especially the *pure* * {@link external:Component|react components} * that do not use life-cycle methods are very suitable * to enhance. * If a react component makes essential use of a life cycle method, it is easier * to enhance it by class extension. * But even that can be coded as function composition, as * {@link saveState} shows. * * &lt;img src=&quot;/api/file/tech/docs/design/design.003.jpeg&quot; width=&quot;800&quot;/&gt; * * @module hoc */ /** * A set of functional programming tools, geared to React. * The idea is to enhance simple components by functional composition. * I am not (yet) using this library, because my cases were really simple. * See * {@link withContext} and {@link setState}. * * @external Recompose * @see {@link https://github.com/acdlite/recompose|Recompose} */ /** * Wraps * {@link external:Component|component} * to provide it with context. * * The resulting component subscribes to * {@link external:context|context} * and passes the content of `context.globals` (only the `globals` !) * to the origianal component as props. * * These properties are then *magically* present in the methods of the * original component.. * * @function * @param {Component} ComponentInner - the incoming component (the wrappee) * @returns {Component} ComponentOuter - the enhanced component (the wrapper) * */ export const withContext = (ComponentInner) =&gt; { const ComponentOuter = class extends Component { render() { const newProps = {...this.props, ...this.context.globals}; return &lt;ComponentInner {...newProps}/&gt; } } ComponentOuter.contextTypes = { globals: PropTypes.object, } return ComponentOuter } /** * Wraps a * {@link external:Component|component} * to let it preserve its state across unmounts and certain property updates. * * We assume that the original component can access the * {@link globals} through {@link external:context|context} * by having been enhanced by {@link withContext}. * We assume that {@link Provider} has created a {@link Store} in {@link globals}. * * Now the resulting component is a subclass of the original, * with enhanced * {@link external:constructor|constructor()}, * {@link external:componentWillReceiveProps|componentWillReceiveProps()} * and * {@link external:componentWillMount|componentWillMount()} * methods. * * The resulting component will retrieve an existing state, coming from * the {@link Store}, before mounting. * If there is no such state, the `initialState` parameter will be used. * * And when the component is destroyed, it will save its state in the * {@link Store}. * * One subtlety, though. * Sometimes a component is reused without being unmounted and reconstructed, but by just * getting new props. * For example, the {@link DocMd} component has a property `docName`. * When the user browses from one document to another, the router will pass a new value * for `docName` to the existing component, rather than destroying it and building it from scratch. * Now {@link DocMd} uses the stateful {@link Alternatives} component to give the user the choice * to view the MarkDown source or the formatted version. * When the user switches docs, also this {@link Alternatives} just get new props instead of being * unmounted and reconstructed. * So our method of saving state should also apply when properties change. * * But not all properties. * We only look at the `tag` property on the original component. * The `tag` property is used in two ways: * * * it will be part of the key under which the state will be saved * * if it changes, the present state will be saved (with the old value of `tag` as part of the key) * * and a previously saved state (with the new value of `tag`) will be loaded. * * If there is no property `tag` on the orginial component, we take it to be the empty string. * * @function * @param {Component} ComponentInner - the incoming component (the wrappee) * @param {string} key - identifier to find the saved state back in the state store * @param {initialState} object - the state to start with * @returns {Component} ComponentOuter - the enhanced component (the wrapper) * * */ export const saveState = (ComponentInner, key, initialState) =&gt; { const ComponentOuter = class extends ComponentInner { setKey(tag) { this.stateKey = this.key + ((tag==null)?'':`.${tag}`); } load() { this.store.load(this, this.stateKey, ((typeof this.initialState) == 'function')?this.initialState(this.props):this.initialState) } save() { this.store.save(this, this.stateKey); } constructor(props) { super(props); const { store, tag } = props; this.store = store; this.tag = tag; this.key = key; this.initialState = initialState; this.setKey(tag); this.load(); } componentWillUnmount() { this.save() } componentWillReceiveProps(newProps) { const { oldTag } = this.props; const { tag } = newProps; if (oldTag !== tag) { this.save(); this.setKey(tag); this.load(); } } } return ComponentOuter } × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"info_info.js.html":{"id":"info_info.js.html","title":"Source: info/info.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: info/info.js /** * ## Technical Documentation * * Suggested starting points * * {@link module:main|main} * * {@link App} * * This file does not contain javascript code. * * @file */ /** * ## Local with backup * This app manages state locally through * {@link external:setState|setState()} * but with the enhancement that components can save state in a global store. * * So, we do not adopt the full * {@link external:Redux|Redux} * approach, but * we borrow just one idea from it: a central store of state. * * Our components will use that store not for normal state updates, but only * when they * {@link external:componentWillUnmount|unmount} * or * {@link external:constructor|mount} * * ## Why local state? * We want to keep the pieces of business logic close to the component that deals with them. * We want to avoid the extra book keeping of actions and labels that * {@link external:Redux|Redux} * requires. * * ## Why back up state? * Not all components can be kept on the interface all the time. * But stateful components may harbour costly state: big data tables from a server, * or lots of user interaction events, e.g. the faceted filter settings. * When the user {@link external:Routing|routes} back to a component with state, we want to restore * the last state before the user left the component. * * @external StatePolicy */ /** * @global * @typedef {Object} Source * @property {string} type - either * * `db` (mongo db access, results delivered as json) * * `json` (file contents delivered as json) * This part will be put after the root url for fetching. * @property {string} path - the remaining path to the controller function on the server * @property {string} branch - once the data has been fetched, it has to go somewhere. * It will go into the {@link external:state|state} of the requesting component, where it * will be assigned to the key given in `branch`. * receive the fetched data */ /** * @global * @typedef {Object} Result * @property {string} data - the actual payload of the data transfer; this is what the component needs * to have to do its work * @property {Message[]} messages - messages issued at the server side when carrying out the request * @property {boolean} good - whether the server has successfully carried out the request */ /** * @global * @typedef {Object} Message * @property {string} kind - one of the values `error`, `warning`, `good`, `special`, `info` * @property {string} text - the plain text of the message * @property {number} busy - an number that will be added by {@link module:data.getData|getData}: +1 at the start of a request, * -1 when the waiting is over; the {@link Notification} object can use `busy` for displaying progress * indication. **NB:** The server does not supply the `busy` attribute, only {@link module:data.getData|getData} does. */ × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Facet.jsx.html":{"id":"pure_Facet.jsx.html","title":"Source: pure/Facet.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Facet.jsx import React from 'react' const styles = { rep: { fontSize: 'small' }, box: { fontSize: 'large' }, } /** * **purely functional** {@link external:Component|Component} * * Displays a single facet. Just a checkbox and a value representation. * The clicks received by the checkbox are passed upwards by means of a callback. * * Note that we use the strategy of {@link external:ControlledComponent|controlled components} here. * * @constructor * @param {number} filterId The index of the filter in {@link module:Filters.filterList|filterList} * @param {number} valueId The id of the value that is displayed in this facet * @param {string} valueRep The string representation of the value of this facet (the label next to the checkbox) * @param {boolean} cheked Whether the checkbox is checked * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ const Facet = ({ filterId, valueId, valueRep, checked, updFilter }) =&gt; ( &lt;span&gt; &lt;input type=&quot;checkbox&quot; onChange={event =&gt; updFilter(filterId, [valueId, event.target.checked])} checked={checked} style={styles.box} /&gt; &lt;span style={styles.rep}&gt;{` ${valueRep}`}&lt;/span&gt; &lt;/span&gt; ) export default Facet × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"state_FilterCompute.jsx.html":{"id":"state_FilterCompute.jsx.html","title":"Source: state/FilterCompute.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/FilterCompute.jsx import React, { Component } from 'react' import Contribs from '../pure/Contribs.jsx' import Filters, { filterList } from '../pure/Filters.jsx' import { newFilterSettings, computeFiltering } from '../helpers/filtering.js' import { columnStyle } from '../helpers/ui.js' import { withContext, saveState } from '../helpers/hoc.js' /** * @class * @classdesc * **stateful** {@link external:Component|Component} * * Parent component of all filters. * The filter state (`filterSettings`) are maintained here. */ class FilterCompute extends Component { /** * User events received by children should use this callback to * trigger state updates here. * The callback collects a few pieces of information, which * it passes to {@link module:filtering.newFilterSettings|newFilterSettings} to * update the state. * * @callback * @param {string} filterId The id of the filter where a user event happened * @param {Object} data Data describing what user event has happened. */ updFilter(filterId, data) { const { filterSettings } = this.state; this.setState({...this.state, filterSettings: newFilterSettings(filterSettings, filterId, data) }); } /** * Calls {@link module:filtering.computeFiltering|computeFiltering} before the actual rendering. * * @param {Map} filterSettings (from *state*) The current state of the facets belonging to this filter * @param {Map} countries The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ render() { const { filterSettings } = this.state; const { countries, contribs, fieldValues } = this.props; const { filteredData, filteredAmountOthers, amounts } = computeFiltering( contribs, filterList, fieldValues, filterSettings ); return ( &lt;div&gt; &lt;div style={columnStyle('rightLeft')}&gt; &lt;p style={{fontWeight: 'bold', backgroundColor: '#eeeeff'}} &gt;Showing {filteredData.length} of {contribs.length}&lt;/p&gt; &lt;Filters countries={countries} fieldValues={fieldValues} filteredAmount={filteredData.length} filteredAmountOthers={filteredAmountOthers} amounts={amounts} filterSettings={filterSettings} updFilter={this.updFilter.bind(this)} /&gt; &lt;/div&gt; &lt;div style={columnStyle('rightRight')}&gt; &lt;Contribs filteredData={filteredData}/&gt; &lt;/div&gt; &lt;/div&gt; ) } } export default withContext(saveState(FilterCompute, 'FilterCompute', ({filterInit}) =&gt; ({filterSettings: filterInit}))) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_FullText.jsx.html":{"id":"pure_FullText.jsx.html","title":"Source: pure/FullText.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/FullText.jsx import React from 'react' import Stats from './Stats.jsx' /** * **purely functional** {@link external:Component|Component} * * Displays a full text search input field. * The characters entered in this field are passed upwards by means of a callback. * This is incremental search! * Not only the full text search, but also all other filters are computed upon each character entered. * * Note that we use the strategy of {@link external:ControlledComponent|controlled components} here. * * @constructor * @param {number} filterId The index of the filter in {@link module:Filters.filterList|filterList} * @param {string} filterField The name of the field in the contribs list whose values are being filtered * @param {string} filterSettings The currently entered search string in the input box * @param {number} filteredAmount The number of rows that have passed all filters * @param {number} filteredAmountOthers The number of rows that have passed all other filters * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ const FullText = ({ filterId, filterField, filterSettings, filteredAmount, filteredAmountOthers, updFilter }) =&gt; ( &lt;div&gt; &lt;p&gt;&lt;input type=&quot;text&quot; placeholder={`search in ${filterField}`} value={filterSettings} onChange={event =&gt; updFilter(filterId, event.target.value)} /&gt;{' '} &lt;Stats subTotal={filteredAmount} total={filteredAmountOthers}/&gt; &lt;/p&gt; &lt;/div&gt; ) export default FullText × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"state_Login.jsx.html":{"id":"state_Login.jsx.html","title":"Source: state/Login.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/Login.jsx import React, {Component} from 'react' import { withContext, saveState } from '../helpers/hoc.js' import { getData } from '../helpers/data.js' /** * @class * @classdesc * **stateful** {@link external:Component|Component} * * &lt;img src=&quot;/api/file/tech/docs/design/design.004.jpeg&quot; width=&quot;800&quot;/&gt; */ class Login extends Component { render() { const {user} = this.state; return ( &lt;span style={{float: 'right', fontSize: 'small'}}&gt; { user &amp;&amp; Object.keys(user).length &gt; 0 ? ( &lt;span style={{color: '#333333'}}&gt; &lt;strong className=&quot;fa fa-user&quot; title={user.eppn}&gt;{user.eppn.split('@')[0]}&lt;/strong&gt; &lt;span className=&quot;fa fa-hashtag&quot;/&gt;{user.authority}{' '} &lt;a href=&quot;/logout&quot; className=&quot;control fa fa-user-times&quot;&gt;{' logout'}&lt;/a&gt; &lt;a href=&quot;/slogout&quot; className=&quot;control fa fa-users&quot;&gt;{' quit '}&lt;/a&gt; &lt;/span&gt; ) : ( &lt;a href=&quot;/login&quot; className=&quot;control fa fa-user-plus&quot;&gt;{' login'}&lt;/a&gt; )} &lt;/span&gt; ) } componentDidMount() { getData( [ { type: 'db', path: '/who/ami', branch: 'user' } ], this, this.props.notification.component ) } } export default withContext(saveState(Login, 'Login', {user: {}})) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_data.js.html":{"id":"helpers_data.js.html","title":"Source: helpers/data.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/data.js import 'whatwg-fetch' /** * ## Data fetching * * All data access to the mongo db at server side takes place by functions in this module. * * @module data */ /** * The client fetches data by means of Ajax calls to `/api' plus additional paths. */ const rootUrl = '/api/'; /** * A component may request for a number of data queries in one go. * Every query is specified as {@link Source} object in the parameter `sources`. * * The expected response is always a json {@link Result} object. * * @function * @param {Source[]} sources - List of data sources to fetch * @param {Component} component - Component for which to fetch data * @param {Object} notification - The {@link Notification} component that receives error/progress * {@link Message|messages} * @returns {Promise} * This is an asynchronous call. * The fetched data comes in as a promise, to with getData attaches `.then` handlers, * which will be new promises. * If the fetch is successful, the resolved data will added to the `state[branch]` of `component`. * Progress and error messages from the server appear in the fetched json as {@link Message|messages}. * If the fetch itself failed, we handle it by transforming the error into a {@link Message|message}. * All {@link Message|messages} generated in the process will be send to the * {@link Notification|notification} component. */ export function getData(sources, component, notification) { for (const { type, path, branch } of sources) { notification.notify({kind: 'special', text: `${branch} transferring data ...`, busy: 1}); fetch(`${rootUrl}${type}${path}`, {credentials: 'same-origin'}) .then((response) =&gt; response.json()) .then((responseData) =&gt; { for (const msg of responseData.msgs || []) { notification.notify(msg); } const kind = responseData.good ? 'info' : 'error'; const statm = responseData.good ? 'data fetched' : 'server error'; notification.notify({kind, text: `${branch} ${statm}.`, busy: -1}); try { component.setState({ ...(component.state || {}), [branch]: responseData.data, }); notification.notify({kind: 'info', text: `${branch} processed.`, busy: 0}); } catch (error) { console.error(error); notification.notify({kind: 'error', text: `${branch} processing error.`, busy: 0}); } }) .catch((error) =&gt; { console.error(error); notification.notify({kind: 'error', text: `${branch} transmission error.`, busy: -1}); }); } } × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Doc.jsx.html":{"id":"pure_Doc.jsx.html","title":"Source: pure/Doc.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Doc.jsx import React from 'react' import DocMd from '../state/DocMd.jsx'; import DocPdf from './DocPdf.jsx'; import DocHtml from './DocHtml.jsx'; import NotFound from './NotFound.jsx'; /** * @module Doc */ /** * The document types that can be handled by the Doc component. * `md` stands for MarkDown. */ const docType = { md: DocMd, pdf: DocPdf, html: DocHtml, } /** * **purely functional** {@link external:Component|Component} * * Displays a document. Depending of the type of document, a specialized * Doc class will be invoked. * * @constructor * @param {Object} params The parameters generated by the * {@link external:Routing|route} that rendered this component * @param {Object} route The * {@link external:Routing|route} that rendered this component * @returns {Fragment} */ const Doc = ({ params, route, location }) =&gt; { const docPath = location.pathname; const [x, docDir, docFile] = /^(.*)\\/([^/]+)$/g.exec(docPath); const [y, docName, docExt] = /^(.*)\\.([^.]+)$/g.exec(docFile); const DocClass = docType[docExt]; return DocClass == undefined ? ( &lt;NotFound params={{splat: `document ${docPath}`}}/&gt; ) : ( &lt;DocClass docDir={docDir} docName={docName} docExt={docExt} tag={docName}/&gt; ) } export default Doc × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"state_DocMd.jsx.html":{"id":"state_DocMd.jsx.html","title":"Source: state/DocMd.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/DocMd.jsx import React, {Component} from 'react' import Markdown from 'react-markdown' import { Link } from 'react-router' import Alternatives from '../state/Alternatives.jsx' import { getData } from '../helpers/data.js' import { withContext, saveState } from '../helpers/hoc.js' /** * @module DocMd */ /** * A handler for links in the MarkDown source. * It makes it possible to write MarkDown documents with * internal links to this application. * * A full link (with protocol `http`(`s`) is translated to a * plain HTML `a` element, so it will leave this application. * * Other links are translated to Link elements for the * {@link external:Routing|router}. */ const RouterLink = ({ children, href }) =&gt; ( href.match(/^(https?:)?\\/\\//) ? &lt;a href={href}&gt;{children}&lt;/a&gt; : &lt;Link to={href}&gt;{children}&lt;/Link&gt; ) /** * @class * @classdesc * **stateful** {@link external:Component|Component} * * Component to show MarkDown text, coming from files on the server. * The conversion to HTML is done client side, * and the user gets a control to switch between MarkDown source and * formatted HTML. */ class DocMd extends Component { /** * @method * @param {string} docName the name part (without extension) of the location of the document * @returns {Fragment} */ render() { const { docName } = this.props; const text = this.state.md; if (text == null ) { return &lt;div/&gt; } return ( &lt;div style={{paddingLeft: '0.5em'}}&gt; &lt;Alternatives tag={docName} controlPlacement={control =&gt; ( &lt;p style={{float: 'right'}}&gt;{control}&lt;/p&gt; )} controls={[ (handler =&gt; &lt;a ref='toSrc' className='control fa fa-hand-o-down' href='#' onClick={handler} title=&quot;markdown source&quot;/&gt;), (handler =&gt; &lt;a ref='toFrm' className='control fa fa-file-code-o' href='#' onClick={handler} title=&quot;formatted&quot;/&gt;), ]} alternatives={[ (&lt;div&gt; &lt;Markdown source={text} renderers={{Link: RouterLink}} /&gt; &lt;/div&gt;), (&lt;div&gt; &lt;pre style={{fontSize: 'large', color: '#0000aa', whiteSpace: 'pre-wrap'}}&gt;{text}&lt;/pre&gt; &lt;/div&gt;), ]} /&gt; &lt;/div&gt; ) } /** * Fetches a markdown document from the server, packaged as string in a JSON object. * * @method * @param {string} docDir the directory part of the location of the document * @param {string} docName the name part (without extension) of the location of the document * @param {string} docExt the extension the document */ fetchText() { const { docDir, docName, docExt } = this.props; if (this.state.md == null ) { getData( [ { type: 'json', path: `${docDir}/${docName}.${docExt}`, branch: 'md' } ], this, this.props.notification.component ); } } componentDidMount() { this.fetchText(); } componentDidUpdate() { this.fetchText(); } } export default withContext(saveState(DocMd, 'DocMd', {md: null})) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"object_EUMap.jsx.html":{"id":"object_EUMap.jsx.html","title":"Source: object/EUMap.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: object/EUMap.jsx import React, { Component } from 'react' import ByValue from '../pure/ByValue.jsx' import L from 'leaflet' import {countryBorders} from '../helpers/europe.geo.js' /** * A complex component! * It is a facet filter for the field country, * and it contains a map of Europe, visualizing by means of markers, * how the filter result is distributed over the DARIAH countries. * * Both ingredients of this component are brought together not by * class extension but by functional composition. * * The country facet filter is a true react {@link external:Component|component}. * * The map is a [Leaflet](http://leafletjs.com) module on a blank pane, * with a {@link module:europe_geo_js|geojson} file of country boundaries laid out on it. * The map is not react aware, it will be rendered in its own div. * * Remember that the results of filter computation descend from a stateful * parent into the present component. * So, whenever we receive new props, we manipulate the leaflet map and adjust * the markers on it. * More precisely, since we do not have to manipulate state, we put the marker updates * in the {@link external:componentDidMount|componentDidMount()} * and {@link external:componentDidUpdate|componentDidUpdate()} * {@link external:LifeCycle|life cycle methods} of React. * At those moments we know that the DOM elements that must be rendered have mounted, * so the map exists, and we can put the markers there. * * @module EUMap */ const mapOptions = { HEIGHT: 250, MAX_RADIUS: 25, LEVEL_OFF: 10, ZOOM_INIT: 3, MAP_CENTER: [52, 12], MAP_BOUNDS: [[30, -20], [70,40]], MARKER_COLOR: { [true]: { color: '#008800', fillColor: '#00cc00', }, [false]: { color: '#888844', fillColor: '#bbbb66', }, }, MARKER_SHAPE: { weight: 1, fill: true, fillOpacity: 0.8, }, COUNTRY_STYLE: { [true]: { color: '#884422', weight: 2, fill: true, fillColor: '#aa7766', fillOpacity: 1, }, [false]: { color: '#777777', weight: 1, fill: true, fillColor: '#bbbbbb', fillOpacity: 1, }, } } /** * ## Compute Marker Radius * * When we know the filter results per country, we can put markers on countries * with a radius in proportion to their scores. * However, if the scores are very far apart, either the small markers get invisible, * or the big markers get too big. * We mitigate this effect, by using proportional radii only for values below a certain * threshold (LEVEL_OFF). For higher values we essentiall take the square root. * * @function * @param {string} iso2 Two-letter country code, see [ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2) * @param {number} filteredAmountOthers - how many rows pass all other filters * @param {Map} amounts - `filteredAmountOthers`, but more specific: the amounts per faceted value * @returns {number} the desired radius for this country */ const computeRadius = (iso2, filteredAmountOthers, amounts) =&gt; { const amount = amounts ? amounts.has(iso2) ? amounts.get(iso2) : 0 : 0; if (!amount) {return 0} const proportional = mapOptions.MAX_RADIUS * amount / filteredAmountOthers; if (filteredAmountOthers &lt; mapOptions.LEVEL_OFF) {return proportional} return mapOptions.LEVEL_OFF * Math.sqrt(proportional); } /** * @function * @param {Object} feature A feature (i.e. a country) in the * {@link module:europe_geo_js|geojson} * file of European countries * @param {Map} countries The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @returns {boolean} Whether the country in question is a member of DARIAH. */ const inDariah = (feature, countries) =&gt; { const iso2 = feature.properties.iso2; return countries.has(iso2) &amp;&amp; countries.get(iso2).inDARIAH } /** * @class * @classdesc * **stateless, DOM-modifying** {@link external:Component|Component} * * An ordinary faceted filter on the country field plus a container for the map, * with * {@link external:LifeCycle|life cycle methods} * to place and update markers when the filter results have changed. */ class EUMap extends Component { constructor(props) { super(props); this.features = new Map(); } /** * render() just invokes the ByValue component with the right parameters * to get the country facets. * And it puts a div in place that will receive the map. * @method * @param {Map} countries This parameter is not used, but mentioned to select all the other parameters to * pass on * @param {Object[]} byValueProps The remaining properties, to be passes to the {ByValue} component. * @returns {Fragment} */ render() { const { countries, ...byValueProps } = this.props; return ( &lt;div&gt; &lt;div ref=&quot;eumap&quot; style={{ height: mapOptions.HEIGHT, }}/&gt; &lt;ByValue {...byValueProps}/&gt; &lt;/div&gt; ) } /** * After the initial mount we get the country data and perform * initializations that depend on that information: * * * we put the map in place * * we put the country boundaries on the pane * * we add markers, style them, and maintain references to them * * These do not have to be repeated after subsequent updates. * @method * @param {Map} filterSettings - the current settings of the country facets * @param {number} filteredAmountOthers - how many rows pass all other filters * @param {Map} amounts` - `filteredAmountOthers`, but more specific: the amounts per faceted value * @param {Map} countries The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @returns {DOM} */ componentDidMount() { const { filterSettings, filteredAmountOthers, amounts, countries } = this.props; this.map = L.map(this.refs.eumap, { attributionControl: false, center: mapOptions.MAP_CENTER, zoom: mapOptions.ZOOM_INIT, maxBounds: mapOptions.MAP_BOUNDS, }); L.geoJSON(countryBorders, { style: feature =&gt; mapOptions.COUNTRY_STYLE[inDariah(feature, countries)], onEachFeature: feature =&gt; { if (inDariah(feature, countries)) { const fprops = feature.properties; const iso2 = fprops.iso2; const isOn = filterSettings.get(iso2); const marker = L.circleMarker([fprops.lat, fprops.lng], { ...mapOptions.MARKER_COLOR[isOn], radius: computeRadius(iso2, filteredAmountOthers, amounts), ...mapOptions.MARKER_SHAPE, pane: 'markerPane', }).addTo(this.map); this.features.set(fprops.iso2, marker); } }, }).addTo(this.map); } /** * After getting new filter results, the only thing we have to do is to * * * update the marker radii * * update the marker colors * * @param {Map} filterSettings - the current settings of the country facets * @param {number} filteredAmountOthers - how many rows pass all other filters * @param {Map} amounts` - `filteredAmountOthers`, but more specific: the amounts per faceted value * @returns {DOM} */ componentDidUpdate() { const { filterSettings, filteredAmountOthers, amounts } = this.props; for (const [iso2, marker] of this.features) { const isOn = filterSettings.get(iso2); marker.setRadius(computeRadius(iso2, filteredAmountOthers, amounts)); marker.setStyle(mapOptions.MARKER_COLOR[isOn]); } } } export default EUMap × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_europe.geo.js.html":{"id":"helpers_europe.geo.js.html","title":"Source: helpers/europe.geo.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/europe.geo.js /** * European country borders * * @module europe_geo_js */ /** * Contains low resulution geographical coordinates of borders of European countries. * These coordinates can be drawn on a map, e.g. by [Leaflet](http://leafletjs.com). * * More information, and the computation itself is in * [countries.ipynb](/api/file/tools/country_compose/countries.html) * a Jupyer notebook that you can run for yourself, if you want to tweak the * resolution and precision of the border coordinates. */ export const countryBorders = {&quot;features&quot;: [{&quot;geometry&quot;: {&quot;coordinates&quot;: [], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;AD&quot;, &quot;lng&quot;: 1.5, &quot;lat&quot;: 42.5}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[19.4, 41.0], [19.5, 41.3], [19.5, 41.6], [19.6, 41.7], [19.5, 41.8], [19.4, 41.9], [19.3, 41.9], [19.4, 42.1], [19.5, 42.4], [19.6, 42.6], [19.7, 42.7], [19.7, 42.5], [19.9, 42.5], [20.1, 42.6], [20.2, 42.5], [20.2, 42.3], [20.4, 42.3], [20.5, 42.2], [20.6, 41.9], [20.5, 41.7], [20.5, 41.5], [20.5, 41.4], [20.5, 41.2], [20.6, 41.1], [20.7, 40.9], [20.9, 40.9], [21.0, 40.8], [21.1, 40.7], [21.0, 40.6], [20.9, 40.5], [20.8, 40.4], [20.7, 40.3], [20.7, 40.1], [20.5, 40.1], [20.3, 40.0], [20.4, 39.9], [20.3, 39.8], [20.2, 39.6], [20.1, 39.7], [20.0, 39.8], [19.9, 39.9], [19.8, 40.1], [19.6, 40.1], [19.4, 40.2], [19.3, 40.4], [19.5, 40.3], [19.5, 40.6], [19.3, 40.6], [19.4, 40.7], [19.4, 40.9], [19.5, 41.0], [19.4, 41.0]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;AL&quot;, &quot;lng&quot;: 20, &quot;lat&quot;: 41}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[45.2, 41.2], [45.1, 41.1], [45.4, 41], [45.6, 40.8], [45.5, 40.7], [45.4, 40.6], [45.6, 40.4], [45.9, 40.3], [46.0, 40.2], [45.9, 40.0], [45.7, 40.0], [45.8, 39.9], [45.9, 39.8], [46.0, 39.7], [46.2, 39.6], [46.4, 39.6], [46.5, 39.5], [46.4, 39.4], [46.6, 39.2], [46.4, 39.2], [46.5, 39.0], [46.4, 38.9], [46.2, 38.9], [46.1, 38.9], [46.0, 39.3], [45.8, 39.4], [45.8, 39.6], [45.6, 39.6], [45.5, 39.5], [45.3, 39.6], [45.0, 39.8], [44.9, 39.7], [44.7, 39.7], [44.6, 39.9], [44.5, 40.0], [44.3, 40.0], [44.0, 40.0], [43.7, 40.1], [43.7, 40.2], [43.6, 40.4], [43.7, 40.5], [43.7, 40.7], [43.7, 40.8], [43.6, 41.0], [43.5, 41.1], [43.7, 41.1], [43.8, 41.2], [44.0, 41.2], [44.2, 41.2], [44.4, 41.2], [44.6, 41.2], [44.8, 41.2], [45.0, 41.3], [45.1, 41.2], [45.2, 41.2]]], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;AM&quot;, &quot;lng&quot;: 45, &quot;lat&quot;: 40}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[13.8, 48.8], [14.2, 48.6], [14.6, 48.6], [14.9, 48.8], [15.1, 49.0], [15.5, 49.0], [15.8, 48.9], [16.4, 48.7], [16.7, 48.8], [16.9, 48.6], [16.9, 48.3], [17.1, 48.1], [17.1, 47.8], [16.8, 47.7], [16.4, 47.7], [16.7, 47.5], [16.4, 47.2], [16.3, 47.0], [15.8, 46.7], [15.1, 46.6], [14.8, 46.5], [13.9, 46.5], [13.6, 46.6], [12.8, 46.7], [12.5, 46.7], [12.1, 47.0], [11.8, 47.0], [11.2, 47.0], [10.9, 46.8], [10.6, 46.8], [10.3, 46.9], [9.9, 46.9], [9.6, 47.2], [9.7, 47.5], [10.0, 47.5], [10.4, 47.4], [10.4, 47.6], [10.9, 47.5], [11.5, 47.5], [12.0, 47.6], [12.5, 47.7], [12.7, 47.7], [13.1, 47.6], [12.9, 47.8], [12.8, 48.0], [13.2, 48.3], [13.4, 48.5], [13.7, 48.6], [13.8, 48.8]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;AT&quot;, &quot;lng&quot;: 13.3, &quot;lat&quot;: 47.3}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[46.6, 41.9], [46.9, 41.7], [47.3, 41.4], [47.7, 41.2], [48.0, 41.4], [48.5, 41.8], [48.8, 41.7], [49.1, 41.3], [49.2, 41.0], [49.5, 40.7], [49.9, 40.6], [50.4, 40.4], [50.1, 40.4], [49.5, 40.2], [49.4, 39.9], [49.3, 39.4], [49.2, 39.3], [49.1, 39.1], [49.0, 39.0], [48.9, 38.5], [48.7, 38.4], [48.3, 38.6], [48.1, 38.8], [48.2, 39.0], [48.1, 39.2], [48.3, 39.4], [48.2, 39.6], [47.8, 39.7], [47.3, 39.4], [46.9, 39.2], [46.7, 39.0], [46.5, 39.1], [46.6, 39.3], [46.5, 39.6], [46.1, 39.7], [45.8, 39.8], [45.6, 40.0], [46.0, 40.3], [45.5, 40.5], [45.5, 40.8], [45.3, 41.0], [45.1, 41.2], [45.1, 41.4], [45.4, 41.5], [45.9, 41.2], [46.3, 41.2], [46.5, 41.0], [46.7, 41.3], [46.2, 41.6], [46.4, 41.8], [46.6, 41.9]]], [[[45.1, 39.8], [45.3, 39.6], [45.3, 39.5], [45.5, 39.5], [45.6, 39.5], [45.6, 39.6], [45.7, 39.6], [45.8, 39.6], [45.8, 39.5], [45.8, 39.4], [45.9, 39.3], [46.0, 39.3], [46.0, 39.2], [46.1, 38.9], [46.2, 38.8], [46.0, 38.9], [45.8, 38.9], [45.6, 39.0], [45.5, 39.0], [45.4, 39.0], [45.4, 39.1], [45.3, 39.2], [45.2, 39.2], [45.1, 39.2], [45.1, 39.3], [45.1, 39.4], [45.0, 39.4], [44.9, 39.5], [44.9, 39.6], [44.8, 39.6], [44.8, 39.7], [44.9, 39.7], [45.0, 39.7], [45.0, 39.8], [45.1, 39.8]]], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;AZ&quot;, &quot;lng&quot;: 47.5, &quot;lat&quot;: 40.5}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[17.6, 42.9], [17.4, 43.2], [17.3, 43.5], [17.0, 43.5], [16.8, 43.7], [16.6, 43.9], [16.4, 44.1], [16.2, 44.2], [16.2, 44.4], [16.0, 44.7], [15.7, 44.8], [15.8, 45.2], [16.1, 45.1], [16.4, 45.0], [16.6, 45.2], [16.9, 45.3], [17.2, 45.1], [17.5, 45.1], [17.8, 45.1], [18.1, 45.1], [18.4, 45.1], [18.8, 44.9], [19.1, 44.9], [19.4, 44.9], [19.2, 44.6], [19.1, 44.3], [19.5, 44.1], [19.5, 44.0], [19.2, 44.0], [19.5, 43.8], [19.4, 43.6], [19.0, 43.6], [19.0, 43.4], [19.0, 43.2], [18.8, 43.3], [18.7, 43.1], [18.5, 43.0], [18.6, 42.7], [18.4, 42.6], [18.2, 42.7], [17.8, 42.9], [17.6, 42.9]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;BA&quot;, &quot;lng&quot;: 18, &quot;lat&quot;: 44}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[4.3, 51.3], [4.4, 51.4], [4.5, 51.5], [4.5, 51.4], [4.7, 51.4], [4.8, 51.5], [4.9, 51.4], [5.0, 51.5], [5.1, 51.4], [5.2, 51.3], [5.4, 51.3], [5.6, 51.3], [5.8, 51.2], [5.9, 51.1], [5.8, 51.0], [5.6, 50.9], [5.7, 50.8], [5.9, 50.8], [6.1, 50.7], [6.3, 50.6], [6.3, 50.5], [6.4, 50.3], [6.2, 50.2], [6.1, 50.1], [5.9, 50.1], [5.7, 49.9], [5.8, 49.8], [5.9, 49.6], [5.8, 49.5], [5.6, 49.5], [5.4, 49.6], [5.0, 49.8], [4.8, 50.0], [4.9, 50.1], [4.8, 50.2], [4.7, 50.0], [4.4, 49.9], [4.2, 50.0], [4.2, 50.1], [4.2, 50.3], [4.0, 50.3], [3.8, 50.4], [3.7, 50.5], [3.5, 50.5], [3.3, 50.5], [3.2, 50.8], [3.0, 50.8], [2.8, 50.8], [2.6, 50.9], [2.5, 51.1], [2.9, 51.2], [3.0, 51.3], [3.2, 51.3], [3.4, 51.3], [3.5, 51.2], [3.6, 51.3], [3.8, 51.3], [3.9, 51.2], [4.1, 51.3], [4.2, 51.4], [4.3, 51.3]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;BE&quot;, &quot;lng&quot;: 4, &quot;lat&quot;: 50.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[27.9, 42.8], [27.6, 42.6], [27.5, 42.4], [27.8, 42.2], [28.0, 42.0], [27.6, 42.0], [27.3, 42.1], [27.0, 42.0], [26.5, 41.8], [26.4, 41.7], [26.2, 41.5], [25.9, 41.3], [25.5, 41.3], [25.1, 41.4], [24.6, 41.4], [24.3, 41.6], [24.1, 41.5], [23.7, 41.4], [23.3, 41.4], [23.0, 41.3], [23.0, 41.6], [22.9, 41.9], [22.5, 42.1], [22.6, 42.5], [22.4, 42.8], [23.0, 43.1], [22.8, 43.4], [22.5, 43.5], [22.5, 44.1], [22.9, 44.1], [22.8, 43.9], [23.1, 43.8], [23.4, 43.9], [24.0, 43.7], [24.4, 43.7], [24.6, 43.7], [25.0, 43.7], [25.4, 43.6], [25.8, 43.7], [26.1, 44.0], [26.7, 44.1], [27.1, 44.1], [27.5, 44.0], [27.9, 44.0], [28.1, 43.8], [28.5, 43.7], [28.6, 43.4], [28.2, 43.4], [27.9, 43.2], [27.9, 42.8]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;BG&quot;, &quot;lng&quot;: 25, &quot;lat&quot;: 43}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[26.6, 55.7], [27.0, 55.8], [27.6, 55.8], [27.9, 56.1], [28.3, 56.0], [28.7, 56.0], [29.1, 56.0], [29.4, 55.8], [30.0, 55.9], [30.8, 55.6], [30.9, 55.2], [30.9, 54.9], [31.1, 54.6], [31.3, 54.2], [31.9, 54.0], [32.1, 53.8], [32.5, 53.6], [32.5, 53.2], [32.0, 53.1], [31.4, 53.2], [31.5, 52.9], [31.6, 52.5], [31.8, 52.1], [31.3, 52.1], [31.0, 52.0], [30.6, 51.6], [30.4, 51.4], [29.9, 51.5], [29.4, 51.4], [29.1, 51.6], [28.7, 51.5], [28.3, 51.6], [28.0, 51.6], [27.7, 51.6], [27.2, 51.7], [26.9, 51.8], [26.4, 51.8], [26.0, 51.9], [25.4, 51.9], [25.0, 51.9], [24.3, 51.7], [23.7, 51.7], [23.5, 51.7], [23.7, 52.0], [23.2, 52.3], [23.7, 52.6], [23.9, 53.0], [23.6, 53.7], [23.8, 53.9], [24.2, 54.0], [24.5, 54.0], [24.9, 54.1], [25.3, 54.3], [25.5, 54.2], [25.8, 54.3], [25.7, 54.6], [25.9, 54.9], [26.3, 55.1], [26.6, 55.3], [26.6, 55.7]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;BY&quot;, &quot;lng&quot;: 28, &quot;lat&quot;: 53}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[7.7, 47.5], [8.0, 47.6], [8.3, 47.6], [8.6, 47.6], [8.4, 47.7], [8.7, 47.8], [8.9, 47.7], [9.3, 47.7], [9.7, 47.5], [9.5, 47.3], [9.6, 47.1], [9.9, 46.9], [10.2, 46.9], [10.4, 47.0], [10.5, 46.6], [10.3, 46.5], [10.1, 46.6], [10.0, 46.4], [10.2, 46.3], [9.9, 46.4], [9.7, 46.3], [9.5, 46.4], [9.3, 46.5], [9.3, 46.3], [9.1, 46.1], [9.0, 45.9], [8.9, 45.9], [8.8, 46.1], [8.6, 46.1], [8.4, 46.3], [8.5, 46.5], [8.3, 46.4], [8.1, 46.1], [7.9, 45.9], [7.7, 46.0], [7.5, 45.9], [7.2, 45.9], [7.0, 46.0], [6.8, 46.2], [6.7, 46.5], [6.3, 46.4], [6.3, 46.3], [6.0, 46.1], [6.1, 46.2], [6.1, 46.6], [6.4, 46.8], [6.5, 47.0], [6.7, 47.1], [7.0, 47.3], [7.0, 47.5], [7.3, 47.4], [7.5, 47.5], [7.7, 47.6], [7.7, 47.5]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;CH&quot;, &quot;lng&quot;: 8, &quot;lat&quot;: 47}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[33.7, 35.4], [33.9, 35.4], [34.3, 35.6], [34.5, 35.7], [34.6, 35.6], [34.3, 35.5], [34.1, 35.4], [33.9, 35.3], [34.0, 35.1], [34.1, 35.0], [33.9, 34.9], [33.8, 35.0], [33.6, 34.9], [33.5, 34.8], [33.3, 34.7], [33.1, 34.7], [33.0, 34.6], [32.9, 34.7], [32.8, 34.6], [32.7, 34.7], [32.5, 34.7], [32.4, 34.8], [32.3, 35.0], [32.4, 35.0], [32.5, 35.1], [32.6, 35.2], [32.8, 35.2], [32.9, 35.2], [32.9, 35.4], [33.3, 35.3], [33.5, 35.3], [33.7, 35.4]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;CY&quot;, &quot;lng&quot;: 33, &quot;lat&quot;: 35}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[14.7, 48.6], [14.4, 48.6], [14.1, 48.7], [13.8, 48.8], [13.6, 48.9], [13.4, 49.0], [13.2, 49.2], [12.8, 49.3], [12.6, 49.6], [12.5, 49.9], [12.3, 50.0], [12.2, 50.2], [12.3, 50.2], [12.6, 50.4], [12.8, 50.5], [13.1, 50.5], [13.3, 50.6], [13.5, 50.7], [13.9, 50.8], [14.3, 50.9], [14.3, 51.1], [14.6, 50.9], [14.8, 50.9], [15.2, 51.0], [15.4, 50.8], [15.8, 50.7], [16.1, 50.6], [16.3, 50.7], [16.3, 50.5], [16.4, 50.4], [16.5, 50.2], [16.7, 50.1], [16.9, 50.2], [16.9, 50.3], [17.2, 50.4], [17.4, 50.3], [17.8, 50.3], [17.6, 50.2], [17.8, 50.0], [18.1, 50.1], [18.4, 49.9], [18.6, 49.8], [18.8, 49.6], [18.7, 49.5], [18.4, 49.3], [18.2, 49.2], [18.1, 49.0], [17.7, 48.9], [17.4, 48.8], [17.1, 48.8], [16.9, 48.6], [16.7, 48.7], [16.5, 48.8], [16.3, 48.7], [15.8, 48.9], [15.5, 48.9], [15.3, 49.0], [15.0, 49.0], [14.9, 48.8], [14.7, 48.6]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;CZ&quot;, &quot;lng&quot;: 15.5, &quot;lat&quot;: 49.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[11.0, 54.4], [10.8, 53.9], [11.6, 54.0], [12.4, 54.4], [12.5, 54.2], [13.7, 54.2], [14.3, 53.7], [14.2, 52.8], [14.5, 52.4], [14.7, 51.7], [15.0, 51.4], [14.6, 50.9], [14.0, 50.8], [13.2, 50.6], [12.6, 50.4], [12.3, 50.1], [12.6, 49.5], [13.4, 49.0], [13.8, 48.6], [13.4, 48.4], [13.0, 47.9], [13.0, 47.5], [12.2, 47.6], [11.1, 47.4], [10.5, 47.5], [9.7, 47.6], [8.8, 47.7], [8.6, 47.7], [7.8, 47.6], [7.6, 48.1], [8.1, 48.8], [7.6, 49.1], [6.9, 49.2], [6.5, 49.7], [6.1, 50.1], [6.3, 50.6], [5.9, 51.0], [6.2, 51.6], [6.6, 51.9], [6.9, 52.2], [6.9, 52.4], [7.0, 52.6], [7.2, 53.3], [7.2, 53.6], [8.0, 53.7], [8.3, 53.4], [8.5, 53.7], [9.2, 53.9], [9.8, 53.5], [8.9, 54.1], [8.7, 54.4], [8.7, 54.8], [8.4, 55.0], [9.3, 54.8], [10.0, 54.6], [10.7, 54.3], [11.0, 54.4]]], [[[13.4, 54.6], [13.5, 54.6], [13.6, 54.6], [13.7, 54.6], [13.7, 54.5], [13.6, 54.5], [13.6, 54.4], [13.7, 54.4], [13.7, 54.3], [13.5, 54.3], [13.4, 54.3], [13.4, 54.2], [13.3, 54.2], [13.3, 54.3], [13.2, 54.3], [13.1, 54.3], [13.1, 54.4], [13.2, 54.4], [13.3, 54.4], [13.2, 54.5], [13.1, 54.5], [13.2, 54.6], [13.3, 54.6], [13.4, 54.5], [13.5, 54.5], [13.2, 54.7], [13.3, 54.7], [13.4, 54.7], [13.4, 54.6]]], [[[14.0, 54.1], [14.1, 54.0], [14.2, 53.9], [14.1, 53.9], [14.0, 53.9], [14.0, 53.8], [13.9, 53.8], [13.8, 53.9], [13.9, 53.9], [14.0, 54.0], [13.9, 54.1], [13.9, 54.0], [13.8, 54.0], [13.8, 54.1], [13.8, 54.2], [14.0, 54.1]]], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;DE&quot;, &quot;lng&quot;: 9, &quot;lat&quot;: 51}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[10.4, 57.6], [10.4, 57.5], [10.5, 57.5], [10.5, 57.4], [10.5, 57.2], [10.4, 57.2], [10.4, 57.1], [10.3, 57.0], [10.2, 57.0], [10.1, 57.0], [10.0, 57.1], [9.5, 57.0], [9.3, 57.0], [9.2, 57.0], [9.1, 57.0], [9.1, 57.1], [9.0, 57.0], [8.9, 57.0], [8.8, 57.0], [8.8, 56.9], [8.7, 57.0], [8.7, 56.9], [8.6, 56.9], [8.6, 56.8], [8.5, 56.8], [8.5, 56.7], [8.4, 56.7], [8.6, 56.7], [8.6, 56.6], [8.5, 56.6], [8.2, 56.7], [8.2, 56.8], [8.3, 56.8], [8.3, 56.9], [8.4, 56.9], [8.5, 57.0], [8.6, 57.1], [8.7, 57.1], [8.8, 57.1], [8.9, 57.1], [9.0, 57.2], [9.2, 57.1], [9.3, 57.1], [9.4, 57.2], [9.5, 57.2], [9.6, 57.2], [9.6, 57.3], [9.7, 57.4], [9.8, 57.4], [9.8, 57.5], [9.9, 57.6], [10.0, 57.6], [10.1, 57.6], [10.2, 57.6], [10.3, 57.6], [10.4, 57.7], [10.5, 57.7], [10.6, 57.7], [10.5, 57.6], [10.4, 57.6]]], [[[10.0, 57.1], [10.3, 57.0], [10.3, 56.7], [9.9, 56.6], [10.4, 56.7], [10.2, 56.6], [10.5, 56.5], [10.9, 56.5], [10.7, 56.2], [10.6, 56.1], [10.5, 56.3], [10.2, 56.1], [10.3, 55.9], [10.1, 55.8], [9.9, 55.8], [9.8, 55.7], [9.8, 55.6], [9.7, 55.3], [9.5, 55.2], [9.6, 55.0], [9.8, 54.9], [9.6, 54.9], [9.4, 54.8], [9.2, 54.9], [8.7, 54.9], [8.6, 55.1], [8.6, 55.2], [8.6, 55.4], [8.4, 55.5], [8.1, 55.5], [8.2, 55.8], [8.1, 56.0], [8.3, 55.9], [8.3, 56.1], [8.1, 56.3], [8.2, 56.6], [8.4, 56.6], [8.6, 56.5], [8.8, 56.6], [8.9, 56.8], [9.2, 56.7], [9.0, 56.6], [9.3, 56.5], [9.3, 56.7], [9.4, 57.0], [9.7, 57.0], [9.9, 57.1], [10.0, 57.1]]], [[[12.6, 56.0], [12.6, 55.9], [12.6, 55.7], [12.5, 55.6], [12.3, 55.6], [12.2, 55.4], [12.4, 55.4], [12.5, 55.3], [12.2, 55.2], [12.0, 55.1], [12.2, 55.1], [12.1, 55.0], [11.9, 55.0], [11.7, 55.1], [11.8, 55.2], [11.6, 55.2], [11.4, 55.2], [11.2, 55.2], [11.2, 55.4], [11.1, 55.7], [10.9, 55.7], [11.3, 55.7], [11.5, 55.9], [11.3, 56.0], [11.6, 55.9], [11.7, 56.0], [11.8, 55.9], [11.8, 55.8], [11.9, 55.9], [12.0, 55.8], [12.1, 55.7], [11.9, 55.7], [11.9, 56.0], [12.3, 56.1], [12.6, 56.0]]], [[[10.7, 55.5], [10.8, 55.4], [10.8, 55.3], [10.8, 55.2], [10.8, 55.1], [10.7, 55.1], [10.6, 55.1], [10.5, 55.0], [10.2, 55.1], [10.1, 55.1], [10.1, 55.2], [10.0, 55.2], [9.9, 55.3], [9.8, 55.4], [9.8, 55.5], [9.7, 55.5], [9.9, 55.5], [10.0, 55.5], [10.1, 55.6], [10.2, 55.6], [10.3, 55.6], [10.4, 55.6], [10.5, 55.5], [10.4, 55.5], [10.4, 55.4], [10.5, 55.4], [10.6, 55.5], [10.6, 55.6], [10.7, 55.6], [10.7, 55.5]]], [[[11.5, 54.8], [11.6, 54.8], [11.6, 54.9], [11.7, 54.9], [11.8, 54.8], [11.9, 54.7], [11.8, 54.7], [11.8, 54.6], [11.7, 54.6], [11.7, 54.7], [11.6, 54.7], [11.5, 54.6], [11.4, 54.6], [11.4, 54.7], [11.3, 54.7], [11.2, 54.7], [11.1, 54.7], [11.0, 54.8], [11.0, 54.9], [11.1, 54.9], [11.1, 55.0], [11.2, 55.0], [11.3, 54.9], [11.4, 54.9], [11.5, 54.8]]], [[[12.0, 54.9], [12.1, 54.9], [12.2, 54.8], [12.1, 54.8], [12.0, 54.7], [12.0, 54.6], [11.9, 54.6], [11.9, 54.7], [11.9, 54.8], [11.8, 54.8], [11.8, 54.9], [11.7, 54.9], [11.7, 55.0], [11.8, 55.0], [11.9, 55.0], [11.9, 54.9], [12.0, 54.9]]], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;DK&quot;, &quot;lng&quot;: 10, &quot;lat&quot;: 56}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[25.8, 59.6], [26.1, 59.6], [26.5, 59.5], [26.7, 59.6], [26.9, 59.5], [27.2, 59.4], [27.6, 59.4], [28.0, 59.4], [28.1, 59.4], [28.1, 59.3], [27.9, 59.2], [27.7, 59.0], [27.4, 58.8], [27.5, 58.5], [27.5, 58.2], [27.7, 58.1], [27.8, 57.8], [27.5, 57.8], [27.4, 57.6], [27.1, 57.6], [26.7, 57.6], [26.5, 57.5], [26.0, 57.8], [25.6, 57.9], [25.3, 58.1], [25.2, 58.1], [25.0, 58.0], [24.5, 58.0], [24.3, 57.9], [24.5, 58.2], [24.5, 58.4], [24.3, 58.3], [24.1, 58.3], [23.8, 58.4], [23.6, 58.5], [23.6, 58.7], [23.8, 58.8], [23.4, 58.9], [23.6, 59.0], [23.4, 59.1], [23.6, 59.2], [23.8, 59.3], [24.0, 59.4], [24.3, 59.4], [24.5, 59.5], [24.8, 59.6], [25.2, 59.5], [25.5, 59.6], [25.7, 59.6], [25.8, 59.6]]], [[[23.0, 58.6], [23.1, 58.6], [23.3, 58.5], [23.3, 58.4], [23.2, 58.4], [23.1, 58.4], [23.0, 58.4], [22.8, 58.2], [22.6, 58.2], [22.5, 58.2], [22.4, 58.2], [22.3, 58.2], [22.3, 58.1], [22.2, 58.0], [22.1, 57.9], [22.0, 57.9], [22.0, 58.0], [22.1, 58.1], [22.2, 58.1], [22.2, 58.2], [22.1, 58.2], [21.9, 58.3], [21.8, 58.3], [22.0, 58.3], [22.0, 58.4], [21.9, 58.5], [21.8, 58.5], [22.0, 58.5], [22.1, 58.5], [22.2, 58.5], [22.3, 58.6], [22.5, 58.6], [22.6, 58.6], [22.8, 58.6], [22.9, 58.6], [23.0, 58.6]]], [[[22.7, 59], [22.8, 59.0], [22.9, 59.0], [23.0, 59.0], [23.0, 58.9], [23.0, 58.8], [22.9, 58.8], [22.8, 58.8], [22.7, 58.8], [22.7, 58.7], [22.6, 58.7], [22.5, 58.7], [22.5, 58.8], [22.4, 58.8], [22.4, 58.9], [22.3, 58.9], [22.2, 58.9], [22.1, 58.9], [22.0, 58.9], [22.1, 59.0], [22.4, 59.0], [22.5, 59.0], [22.6, 59.1], [22.7, 59.1], [22.7, 59]]], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;EE&quot;, &quot;lng&quot;: 26, &quot;lat&quot;: 59}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[-7.9, 43.8], [-7.2, 43.6], [-6.3, 43.6], [-5.6, 43.6], [-4.9, 43.4], [-4.2, 43.4], [-3.2, 43.4], [-2.5, 43.3], [-1.8, 43.3], [-1.4, 43.0], [-0.8, 42.9], [-0.3, 42.8], [0.3, 42.7], [0.8, 42.8], [1.4, 42.6], [2.0, 42.4], [2.7, 42.3], [3.3, 42.2], [3.1, 41.8], [2.3, 41.4], [1.7, 41.2], [0.9, 41.0], [0.5, 40.5], [-0.1, 39.9], [-0.1, 39.0], [0.1, 38.7], [-0.5, 38.3], [-0.9, 37.7], [-1.4, 37.5], [-1.9, 37.0], [-2.3, 36.8], [-2.9, 36.7], [-3.7, 36.7], [-4.5, 36.7], [-5.2, 36.4], [-5.9, 36.2], [-6.2, 36.6], [-6.9, 37.2], [-7.4, 37.4], [-7.3, 38.0], [-7.1, 38.2], [-7.1, 38.9], [-7.4, 39.5], [-7.1, 39.7], [-6.8, 40.3], [-6.9, 41.0], [-6.4, 41.4], [-6.5, 41.7], [-6.9, 41.9], [-7.3, 41.8], [-8.0, 41.8], [-8.2, 42.1], [-8.7, 42.0], [-8.6, 42.4], [-8.9, 42.4], [-8.9, 42.6], [-9.1, 42.8], [-9.1, 43.2], [-8.4, 43.4], [-7.9, 43.8]]], [[[3.2, 39.7], [3.3, 39.7], [3.3, 39.8], [3.4, 39.8], [3.5, 39.7], [3.4, 39.6], [3.4, 39.5], [3.3, 39.5], [3.3, 39.4], [3.2, 39.4], [3.1, 39.3], [3.0, 39.3], [2.8, 39.4], [2.7, 39.4], [2.7, 39.5], [2.8, 39.5], [2.7, 39.6], [2.5, 39.5], [2.4, 39.5], [2.4, 39.6], [2.5, 39.7], [2.7, 39.8], [2.8, 39.8], [3.0, 39.9], [3.1, 39.9], [3.1, 39.8], [3.2, 39.8], [3.2, 39.7]]], [[[-14.3, 28.0], [-14.4, 28.0], [-14.4, 28.1], [-14.3, 28.1], [-14.3, 28.2], [-14.2, 28.2], [-14.2, 28.3], [-14.1, 28.4], [-14.1, 28.5], [-14.1, 28.6], [-14.0, 28.6], [-14.0, 28.7], [-13.9, 28.7], [-13.9, 28.8], [-13.8, 28.7], [-13.8, 28.6], [-13.8, 28.5], [-13.9, 28.4], [-13.9, 28.3], [-13.9, 28.2], [-14.0, 28.2], [-14.1, 28.2], [-14.2, 28.1], [-14.3, 28.0]]], [[[-16.3, 28.4], [-16.4, 28.4], [-16.4, 28.2], [-16.4, 28.1], [-16.5, 28.1], [-16.5, 28.0], [-16.6, 28.0], [-16.7, 28.0], [-16.7, 28.1], [-16.8, 28.1], [-16.8, 28.2], [-16.9, 28.3], [-16.9, 28.4], [-16.8, 28.4], [-16.7, 28.4], [-16.6, 28.4], [-16.5, 28.4], [-16.4, 28.5], [-16.3, 28.6], [-16.2, 28.6], [-16.2, 28.5], [-16.3, 28.4]]], [[[-15.6, 27.8], [-15.6, 27.7], [-15.7, 27.8], [-15.8, 27.8], [-15.8, 27.9], [-15.8, 28.0], [-15.7, 28.0], [-15.7, 28.1], [-15.7, 28.2], [-15.6, 28.2], [-15.4, 28.1], [-15.4, 28.0], [-15.4, 27.8], [-15.5, 27.8], [-15.6, 27.8]]], [[[4.3, 40.0], [4.3, 39.9], [4.3, 39.8], [4.2, 39.8], [4.1, 39.9], [4.0, 39.9], [3.9, 39.9], [3.8, 39.9], [3.8, 40.0], [3.8, 40.1], [3.9, 40.1], [4.1, 40.1], [4.2, 40.1], [4.2, 40.0], [4.3, 40.0]]], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;ES&quot;, &quot;lng&quot;: -4, &quot;lat&quot;: 40}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[28.2, 69.9], [29.3, 69.5], [28.9, 69.0], [28.5, 68.6], [29.9, 67.7], [29.1, 66.9], [29.8, 66.2], [29.8, 65.6], [29.8, 65.2], [29.7, 64.8], [30.0, 64.5], [30.6, 64.0], [30.3, 63.6], [31.5, 63.0], [30.8, 62.3], [29.7, 61.5], [28.8, 61.1], [28.1, 60.7], [27.2, 60.6], [26.6, 60.6], [25.9, 60.4], [25.7, 60.4], [24.6, 60.1], [23.6, 60.0], [23.2, 59.9], [23.0, 60.2], [22.5, 60.2], [21.9, 60.5], [21.4, 60.8], [21.5, 61.5], [21.3, 62.0], [21.1, 62.6], [21.6, 63.1], [22.3, 63.3], [22.7, 63.7], [23.4, 64.0], [24.2, 64.5], [25, 64.9], [25.3, 65.0], [25.2, 65.6], [24.7, 65.9], [23.7, 66.2], [24.0, 66.8], [23.8, 67.4], [23.5, 67.9], [23.0, 68.3], [22.1, 68.5], [21.2, 68.8], [20.8, 69.1], [22.0, 69.1], [22.9, 68.7], [23.7, 68.7], [24.5, 68.7], [25.4, 68.9], [25.8, 69.4], [26.4, 69.8], [27.3, 69.9], [28.2, 69.9]]], [], [], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;FI&quot;, &quot;lng&quot;: 26, &quot;lat&quot;: 64}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[2.5, 51.1], [3.2, 50.7], [4.0, 50.3], [4.5, 49.9], [5.0, 49.8], [6.1, 49.5], [6.9, 49.2], [7.7, 49.0], [7.9, 48.7], [7.5, 47.8], [7.1, 47.5], [6.6, 47.0], [6.1, 46.4], [6.2, 46.3], [6.9, 46.1], [7.1, 45.5], [6.7, 45.1], [6.9, 44.5], [7.7, 44.2], [7.2, 43.7], [6.2, 43.1], [5.3, 43.4], [5.0, 43.6], [4.6, 43.4], [3.8, 43.5], [3.0, 42.9], [2.7, 42.4], [1.9, 42.4], [1.4, 42.6], [0.7, 42.8], [-0.1, 42.7], [-0.8, 43.0], [-1.4, 43.1], [-1.6, 43.4], [-1.3, 44.5], [-1.2, 45.0], [-0.8, 45.4], [-0.7, 45.4], [-1.1, 46.1], [-1.9, 46.6], [-2.2, 47.2], [-2.4, 47.3], [-2.9, 47.5], [-3.6, 47.8], [-4.4, 47.8], [-4.3, 48.1], [-4.2, 48.3], [-4.5, 48.6], [-3.5, 48.7], [-2.7, 48.5], [-1.9, 48.7], [-1.5, 48.7], [-1.8, 49.4], [-1.4, 49.7], [-1.0, 49.4], [-0.1, 49.3], [0.2, 49.5], [1.2, 50.0], [1.6, 50.8], [2.5, 51.1]]], [[[9.4, 42.7], [9.4, 42.6], [9.5, 42.6], [9.5, 42.5], [9.6, 42.3], [9.6, 42.2], [9.6, 42.1], [9.5, 42.1], [9.4, 42.0], [9.4, 41.9], [9.4, 41.8], [9.4, 41.7], [9.4, 41.6], [9.3, 41.6], [9.3, 41.5], [9.2, 41.5], [9.2, 41.4], [9.3, 41.4], [9.1, 41.4], [9.0, 41.5], [8.9, 41.5], [8.8, 41.6], [8.9, 41.6], [8.9, 41.7], [8.8, 41.7], [8.7, 41.7], [8.7, 41.8], [8.8, 41.9], [8.7, 41.9], [8.6, 41.9], [8.6, 42.0], [8.7, 42.0], [8.7, 42.1], [8.6, 42.1], [8.6, 42.2], [8.6, 42.3], [8.7, 42.3], [8.6, 42.4], [8.7, 42.5], [8.7, 42.6], [8.9, 42.6], [9.1, 42.7], [9.2, 42.7], [9.3, 42.7], [9.3, 42.8], [9.3, 43.0], [9.4, 43.0], [9.5, 43.0], [9.5, 42.8], [9.5, 42.7], [9.4, 42.7]]], [], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;FR&quot;, &quot;lng&quot;: 2, &quot;lat&quot;: 46}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[-4.2, 53.2], [-3.1, 53.2], [-3.0, 53.8], [-3.5, 54.4], [-3.1, 55.0], [-4.4, 54.9], [-5.0, 54.8], [-5.0, 55.2], [-4.8, 55.9], [-5.2, 55.8], [-5.4, 55.9], [-5.8, 55.4], [-5.5, 56.2], [-5.3, 56.5], [-5.8, 56.5], [-6.1, 56.8], [-5.5, 57.0], [-5.5, 57.4], [-5.6, 57.6], [-5.2, 57.9], [-5.2, 58.3], [-4.6, 58.5], [-3.4, 58.6], [-3.6, 58.1], [-4.0, 57.8], [-4.0, 57.6], [-2.9, 57.7], [-1.8, 57.5], [-2.5, 56.6], [-3.0, 56.4], [-3.2, 56.1], [-2.8, 56.1], [-1.8, 55.6], [-1.3, 54.8], [-0.2, 54.2], [0.0, 53.6], [0.2, 53.5], [0.2, 52.9], [1.2, 52.9], [1.7, 52.3], [0.9, 51.8], [0.4, 51.4], [1.4, 51.1], [0.4, 50.8], [-0.8, 50.7], [-2.1, 50.7], [-2.8, 50.7], [-3.8, 50.2], [-4.9, 50.2], [-5.7, 50.1], [-4.7, 50.7], [-4.0, 51.2], [-2.9, 51.4], [-3.2, 51.5], [-4.2, 51.5], [-4.8, 51.6], [-5.2, 51.9], [-4.1, 52.3], [-4.5, 52.8], [-4.2, 53.2]]], [[[-6.2, 58.4], [-6.2, 58.3], [-6.3, 58.3], [-6.3, 58.2], [-6.2, 58.2], [-6.1, 58.3], [-6.4, 58.2], [-6.4, 58.1], [-6.5, 58.1], [-6.6, 58.1], [-6.4, 58.0], [-6.5, 58.0], [-6.5, 57.9], [-6.6, 57.9], [-6.7, 57.9], [-6.7, 58.0], [-6.6, 58.0], [-6.7, 58.1], [-6.8, 58.0], [-6.7, 57.8], [-7.0, 57.7], [-7.1, 57.8], [-7.0, 57.8], [-6.8, 57.9], [-6.9, 57.9], [-6.9, 58.0], [-7.0, 58.0], [-7.1, 58.0], [-7.1, 58.1], [-7.1, 58.2], [-7.0, 58.2], [-6.9, 58.2], [-6.9, 58.1], [-6.8, 58.2], [-6.7, 58.2], [-6.8, 58.3], [-6.7, 58.3], [-6.6, 58.3], [-6.6, 58.4], [-6.4, 58.5], [-6.3, 58.5], [-6.2, 58.5], [-6.2, 58.4]]], [[[-6.4, 55.2], [-6.2, 55.2], [-6.0, 55.2], [-5.8, 54.9], [-5.7, 54.8], [-5.8, 54.7], [-5.9, 54.6], [-5.5, 54.7], [-5.5, 54.5], [-5.5, 54.4], [-5.6, 54.6], [-5.7, 54.5], [-5.6, 54.3], [-5.7, 54.2], [-5.9, 54.2], [-6.0, 54.1], [-6.1, 54.0], [-6.3, 54.1], [-6.6, 54.1], [-6.7, 54.1], [-6.9, 54.3], [-7.0, 54.4], [-7.2, 54.3], [-7.1, 54.2], [-7.6, 54.1], [-7.7, 54.2], [-7.9, 54.2], [-8.0, 54.4], [-8.2, 54.4], [-8.0, 54.5], [-7.9, 54.6], [-7.8, 54.7], [-7.6, 54.8], [-7.5, 54.9], [-7.4, 55.0], [-7.3, 55.1], [-7.0, 55.0], [-7.0, 55.2], [-6.8, 55.2], [-6.6, 55.2], [-6.4, 55.2]]], [[[-6.1, 57.6], [-6.1, 57.5], [-6.1, 57.4], [-6.1, 57.3], [-5.9, 57.2], [-5.8, 57.3], [-5.7, 57.3], [-5.6, 57.3], [-5.7, 57.2], [-5.8, 57.1], [-5.9, 57.1], [-5.9, 57.0], [-6.0, 57.0], [-6.0, 57.1], [-6.0, 57.2], [-6.1, 57.1], [-6.2, 57.2], [-6.3, 57.2], [-6.4, 57.3], [-6.5, 57.3], [-6.3, 57.3], [-6.5, 57.4], [-6.6, 57.4], [-6.6, 57.3], [-6.7, 57.4], [-6.8, 57.4], [-6.7, 57.5], [-6.6, 57.6], [-6.6, 57.5], [-6.5, 57.5], [-6.4, 57.5], [-6.4, 57.6], [-6.3, 57.7], [-6.2, 57.6], [-6.1, 57.6]]], [[[-1.3, 60.5], [-1.2, 60.5], [-1.0, 60.4], [-1.1, 60.4], [-1.1, 60.3], [-1.2, 60.3], [-1.2, 60.2], [-1.1, 60.2], [-1.1, 60.1], [-1.2, 60.1], [-1.2, 60.0], [-1.3, 59.9], [-1.4, 59.9], [-1.3, 60.0], [-1.3, 60.1], [-1.3, 60.2], [-1.4, 60.3], [-1.4, 60.2], [-1.5, 60.2], [-1.6, 60.2], [-1.7, 60.2], [-1.7, 60.3], [-1.6, 60.3], [-1.5, 60.3], [-1.3, 60.3], [-1.3, 60.4], [-1.4, 60.5], [-1.5, 60.5], [-1.6, 60.5], [-1.4, 60.6], [-1.3, 60.6], [-1.3, 60.5]]], [[[-5.8, 56.5], [-5.7, 56.5], [-5.6, 56.4], [-5.7, 56.4], [-5.8, 56.3], [-5.9, 56.3], [-5.9, 56.4], [-6.0, 56.3], [-6.3, 56.3], [-6.4, 56.3], [-6.2, 56.3], [-6.1, 56.4], [-6.0, 56.4], [-6.2, 56.4], [-6.0, 56.5], [-6.1, 56.5], [-6.3, 56.5], [-6.3, 56.6], [-6.2, 56.6], [-6.1, 56.7], [-6.1, 56.6], [-6.0, 56.6], [-5.9, 56.5], [-5.8, 56.5]]], [[[-6.1, 55.9], [-6.1, 55.8], [-6.0, 55.8], [-6.0, 55.7], [-6.1, 55.6], [-6.2, 55.6], [-6.3, 55.6], [-6.3, 55.7], [-6.3, 55.8], [-6.4, 55.8], [-6.4, 55.7], [-6.5, 55.7], [-6.4, 55.9], [-6.3, 55.9], [-6.2, 55.9], [-6.1, 55.9]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;GB&quot;, &quot;lng&quot;: -2, &quot;lat&quot;: 54}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[41.5, 42.4], [41.5, 42.7], [41.2, 42.8], [41.0, 43.0], [40.8, 43.1], [40.3, 43.2], [40.1, 43.4], [40.1, 43.6], [40.4, 43.6], [40.7, 43.5], [41.0, 43.4], [41.4, 43.3], [42.1, 43.2], [42.4, 43.2], [42.7, 43.2], [42.9, 43.1], [43.2, 42.9], [43.6, 42.9], [43.8, 42.8], [43.7, 42.6], [44.2, 42.6], [44.5, 42.8], [44.7, 42.7], [44.9, 42.8], [45.2, 42.7], [45.4, 42.5], [45.6, 42.6], [45.8, 42.5], [45.6, 42.2], [46.1, 42.0], [46.4, 41.9], [46.3, 41.8], [46.2, 41.6], [46.6, 41.4], [46.7, 41.1], [46.5, 41.1], [46.3, 41.2], [46.0, 41.2], [45.7, 41.3], [45.3, 41.5], [45.1, 41.4], [44.9, 41.2], [44.6, 41.2], [44.3, 41.2], [44.0, 41.2], [43.8, 41.1], [43.5, 41.1], [43.3, 41.2], [43.0, 41.4], [42.7, 41.6], [42.5, 41.4], [42.2, 41.5], [41.9, 41.5], [41.7, 41.5], [41.6, 41.6], [41.8, 41.8], [41.7, 42.1], [41.6, 42.3], [41.5, 42.4]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;GE&quot;, &quot;lng&quot;: 43.5, &quot;lat&quot;: 42}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[23.9, 35.5], [24.0, 35.5], [24.1, 35.5], [24.1, 35.6], [24.2, 35.6], [24.2, 35.5], [24.3, 35.4], [24.4, 35.4], [24.5, 35.4], [24.6, 35.4], [24.8, 35.4], [25.0, 35.4], [25.1, 35.3], [25.2, 35.3], [25.3, 35.3], [25.4, 35.3], [25.5, 35.3], [25.6, 35.3], [25.7, 35.3], [25.8, 35.3], [25.7, 35.2], [25.7, 35.1], [25.8, 35.1], [25.9, 35.2], [26.0, 35.2], [26.1, 35.2], [26.2, 35.2], [26.3, 35.3], [26.3, 35.1], [26.2, 35.0], [26.1, 35.0], [26.0, 35.0], [25.6, 35.0], [25.5, 35.0], [25.3, 35.0], [25.2, 35.0], [25.0, 34.9], [24.9, 34.9], [24.8, 34.9], [24.8, 35.0], [24.7, 35.1], [24.6, 35.1], [24.5, 35.1], [24.4, 35.2], [24.2, 35.2], [24.1, 35.2], [24.0, 35.2], [23.9, 35.2], [23.8, 35.2], [23.7, 35.2], [23.6, 35.2], [23.5, 35.3], [23.6, 35.5], [23.6, 35.6], [23.7, 35.5], [23.7, 35.6], [23.7, 35.7], [23.8, 35.7], [23.8, 35.6], [23.8, 35.5], [23.9, 35.5]]], [[[26.3, 41.7], [26.4, 41.3], [26.1, 40.8], [25.7, 40.9], [25.2, 41.0], [24.4, 40.9], [23.8, 40.8], [24.0, 40.4], [24.1, 40.3], [24.0, 40.1], [23.4, 40.3], [23.7, 39.9], [22.8, 40.5], [22.6, 40.5], [22.7, 40.0], [23.3, 39.3], [23.2, 39.3], [23.0, 39.1], [22.5, 38.9], [23.2, 38.6], [23.6, 38.5], [24.1, 38.2], [24.0, 37.7], [23.3, 38.0], [23.2, 37.6], [23.4, 37.4], [22.9, 37.5], [22.9, 37.1], [23.0, 36.7], [22.9, 36.6], [22.5, 36.4], [22.0, 37.0], [21.7, 36.8], [21.7, 37.4], [21.1, 37.8], [21.6, 38.1], [22.2, 38.2], [23.0, 38.0], [23.1, 38.2], [22.5, 38.4], [21.7, 38.4], [21.3, 38.3], [20.8, 38.8], [21.1, 39.0], [20.7, 39.1], [20.2, 39.6], [20.4, 39.9], [20.7, 40.2], [21.0, 40.6], [21.2, 40.9], [21.9, 41.1], [22.6, 41.1], [23.1, 41.3], [23.7, 41.4], [24.2, 41.6], [24.9, 41.4], [25.6, 41.3], [26.2, 41.5], [26.3, 41.7]]], [[[23.5, 38.9], [23.5, 38.8], [23.6, 38.8], [23.8, 38.7], [23.9, 38.7], [24.0, 38.7], [24.2, 38.6], [24.2, 38.4], [24.2, 38.2], [24.3, 38.2], [24.4, 38.1], [24.5, 38.1], [24.6, 38.1], [24.6, 38.0], [24.5, 38.0], [24.4, 38.0], [24.3, 38.0], [24.1, 38.2], [24.1, 38.3], [24.0, 38.4], [24.1, 38.4], [23.9, 38.4], [23.8, 38.4], [23.7, 38.4], [23.6, 38.4], [23.6, 38.5], [23.6, 38.6], [23.5, 38.6], [23.3, 38.7], [23.2, 38.8], [23.1, 38.9], [23.1, 38.8], [22.8, 38.8], [22.8, 38.9], [22.9, 38.9], [23.1, 39.0], [23.3, 39.0], [23.4, 39.0], [23.4, 38.9], [23.5, 38.9]]], [[[26.4, 39.3], [26.5, 39.2], [26.6, 39.1], [26.6, 39.0], [26.5, 39.0], [26.4, 39.0], [26.3, 39.0], [26.2, 39.0], [26.1, 39.0], [26.1, 39.1], [26.2, 39.1], [26.3, 39.2], [26.2, 39.2], [26.0, 39.1], [25.9, 39.1], [25.9, 39.2], [25.8, 39.2], [25.9, 39.3], [26.0, 39.3], [26.2, 39.3], [26.2, 39.4], [26.3, 39.4], [26.4, 39.3]]], [[[27.8, 35.9], [27.7, 35.9], [27.7, 36.0], [27.7, 36.1], [27.7, 36.2], [27.8, 36.3], [27.9, 36.3], [28.1, 36.4], [28.2, 36.4], [28.2, 36.5], [28.2, 36.3], [28.1, 36.2], [28.1, 36.1], [28.0, 36.1], [28.0, 36.0], [27.9, 36.0], [27.9, 35.9], [27.8, 35.9]]], [[[26.0, 38.2], [26.0, 38.1], [25.9, 38.2], [25.9, 38.3], [26.0, 38.3], [26.0, 38.4], [25.9, 38.5], [25.8, 38.5], [25.8, 38.6], [25.9, 38.6], [26.0, 38.6], [26.1, 38.6], [26.2, 38.6], [26.2, 38.5], [26.1, 38.4], [26.2, 38.3], [26.1, 38.2], [26.0, 38.2]]], [[[19.9, 39.8], [20.0, 39.8], [19.9, 39.7], [19.8, 39.7], [19.8, 39.6], [19.9, 39.5], [20.0, 39.4], [20.1, 39.4], [20.1, 39.5], [19.9, 39.4], [19.8, 39.5], [19.7, 39.6], [19.7, 39.7], [19.6, 39.7], [19.6, 39.8], [19.7, 39.8], [19.8, 39.8], [19.9, 39.8]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;GR&quot;, &quot;lng&quot;: 22, &quot;lat&quot;: 39}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[16.6, 46.5], [16.9, 46.3], [17.2, 46.2], [17.4, 46.0], [17.7, 45.9], [18.2, 45.8], [18.6, 45.8], [18.9, 45.8], [18.9, 45.5], [19.0, 45.4], [19.4, 45.2], [19.1, 44.9], [18.8, 45.0], [18.2, 45.1], [17.8, 45.1], [17.3, 45.2], [17.0, 45.2], [16.6, 45.2], [16.3, 45.0], [15.9, 45.2], [15.7, 44.8], [16.0, 44.6], [16.1, 44.2], [16.4, 44.1], [16.7, 43.9], [17.0, 43.6], [17.3, 43.5], [17.6, 43.1], [17.5, 43.0], [17.1, 43.2], [16.7, 43.4], [16.4, 43.6], [16.1, 43.5], [15.9, 43.7], [15.5, 43.9], [15.2, 44.2], [15.3, 44.3], [15.2, 44.4], [14.9, 44.8], [14.7, 45.1], [14.4, 45.3], [14.2, 45.2], [14.0, 44.9], [13.8, 45.0], [13.5, 45.4], [13.9, 45.5], [14.5, 45.5], [14.7, 45.5], [15.1, 45.5], [15.4, 45.7], [15.6, 45.8], [15.7, 46.1], [15.8, 46.2], [16.3, 46.4], [16.5, 46.5], [16.6, 46.5]]], [[[17.3, 43.0], [17.4, 43.0], [17.4, 42.9], [17.5, 42.9], [17.7, 42.9], [17.6, 42.9], [17.8, 42.9], [17.9, 42.8], [18.0, 42.8], [18.2, 42.7], [18.2, 42.6], [18.3, 42.6], [18.4, 42.6], [18.5, 42.6], [18.5, 42.5], [18.5, 42.4], [18.4, 42.5], [18.1, 42.7], [17.8, 42.8], [17.7, 42.8], [17.6, 42.8], [17.2, 43.0], [17.1, 43.0], [17.0, 43.0], [17.3, 43.0]]], [[[14.5, 44.9], [14.4, 44.9], [14.5, 44.8], [14.5, 44.7], [14.5, 44.6], [14.4, 44.7], [14.4, 44.8], [14.3, 44.8], [14.3, 44.9], [14.4, 45.0], [14.3, 45.1], [14.3, 45.2], [14.4, 45.2], [14.4, 45.1], [14.5, 45.0], [14.5, 44.9]]], [[[14.8, 44.6], [14.9, 44.6], [15.0, 44.6], [15.0, 44.5], [15.1, 44.5], [14.9, 44.5], [15.1, 44.4], [15.2, 44.4], [15.2, 44.3], [15.3, 44.3], [15.1, 44.3], [15.0, 44.4], [14.7, 44.7], [14.8, 44.7], [14.8, 44.6]]], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;HR&quot;, &quot;lng&quot;: 15.5, &quot;lat&quot;: 45.2}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[18.8, 45.9], [18.4, 45.8], [18.0, 45.8], [17.6, 45.9], [17.3, 46.0], [17.1, 46.2], [16.9, 46.4], [16.5, 46.5], [16.3, 46.9], [16.4, 47.0], [16.5, 47.3], [16.7, 47.6], [16.5, 47.7], [16.9, 47.7], [17.1, 47.9], [17.4, 48.0], [17.8, 47.7], [18.1, 47.8], [18.4, 47.8], [18.8, 47.8], [18.8, 48.1], [19.2, 48.1], [19.7, 48.2], [20.1, 48.2], [20.4, 48.4], [20.8, 48.6], [21.1, 48.5], [21.5, 48.5], [21.8, 48.3], [22.1, 48.4], [22.4, 48.2], [22.6, 48.1], [22.9, 48.0], [22.5, 47.8], [22.2, 47.6], [21.9, 47.4], [21.7, 47.1], [21.5, 46.7], [21.2, 46.4], [21.0, 46.3], [20.7, 46.2], [20.5, 46.2], [20.2, 46.2], [19.8, 46.2], [19.5, 46.1], [19.0, 46.0], [18.8, 45.9]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;HU&quot;, &quot;lng&quot;: 20, &quot;lat&quot;: 47}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[-7.4, 55.0], [-7.7, 54.7], [-8.0, 54.5], [-7.9, 54.3], [-7.6, 54.1], [-7.1, 54.4], [-6.7, 54.1], [-6.2, 54.1], [-6.4, 53.9], [-6.2, 53.7], [-6.2, 53.4], [-6.1, 52.9], [-6.2, 52.6], [-6.3, 52.3], [-6.8, 52.2], [-7.1, 52.1], [-7.5, 52.0], [-7.9, 51.9], [-8.3, 51.9], [-8.5, 51.7], [-9.0, 51.6], [-9.6, 51.5], [-9.7, 51.6], [-9.5, 51.8], [-10.1, 51.6], [-9.7, 51.9], [-10.4, 51.9], [-9.8, 52.1], [-10.1, 52.1], [-10.5, 52.2], [-9.7, 52.2], [-9.7, 52.6], [-9.0, 52.6], [-9.1, 52.6], [-9.6, 52.7], [-9.3, 53.2], [-8.9, 53.1], [-9.4, 53.2], [-9.7, 53.4], [-9.8, 53.4], [-10.0, 53.6], [-9.9, 53.8], [-9.7, 53.9], [-9.9, 54.1], [-10.1, 54.3], [-9.6, 54.3], [-9.1, 54.2], [-8.6, 54.3], [-8.3, 54.5], [-8.8, 54.7], [-8.4, 54.8], [-8.5, 55.0], [-7.8, 55.2], [-7.5, 55.1], [-7.5, 55.0], [-7.4, 55.3], [-7.0, 55.2], [-7.3, 55.0], [-7.4, 55.0]]], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;IE&quot;, &quot;lng&quot;: -8, &quot;lat&quot;: 53}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[-15.1, 66.1], [-14.6, 65.9], [-14.3, 65.8], [-13.9, 65.6], [-13.8, 65.2], [-14.0, 65.1], [-14.0, 64.8], [-14.5, 64.6], [-15.2, 64.3], [-16.2, 64.0], [-17.1, 63.8], [-17.9, 63.5], [-19.3, 63.4], [-20.5, 63.7], [-20.8, 63.8], [-21.4, 63.9], [-22.3, 63.9], [-22.3, 64.0], [-21.8, 64.3], [-22.1, 64.3], [-22.1, 64.5], [-22.7, 64.8], [-23.6, 64.7], [-23.8, 64.9], [-22.4, 65.1], [-21.8, 65.2], [-22.2, 65.3], [-22.2, 65.4], [-22.8, 65.5], [-23.7, 65.4], [-24.3, 65.6], [-24.0, 65.7], [-23.5, 65.6], [-23.6, 65.8], [-23.7, 66.0], [-23.6, 66.2], [-22.7, 66.1], [-22.5, 65.8], [-22.7, 66.3], [-23.2, 66.4], [-22.0, 66.3], [-21.6, 65.9], [-21.6, 65.6], [-21.1, 65.5], [-20.4, 65.5], [-20.1, 66.1], [-19.5, 65.7], [-19.2, 66.1], [-18.5, 66.1], [-18.0, 65.7], [-18.0, 66.2], [-17.2, 66.2], [-16.4, 66.2], [-15.9, 66.4], [-15.2, 66.3], [-14.9, 66.2], [-15.1, 66.1]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;IS&quot;, &quot;lng&quot;: -18, &quot;lat&quot;: 65}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[12.1, 47.0], [12.8, 46.6], [13.5, 46.4], [13.5, 46.1], [13.9, 45.6], [13.1, 45.8], [12.4, 45.4], [12.4, 45.0], [12.3, 44.5], [13.0, 43.8], [13.6, 43.5], [14.1, 42.5], [14.9, 42.0], [15.7, 41.9], [15.9, 41.6], [17.0, 41.1], [18.1, 40.5], [18.4, 39.8], [17.9, 40.3], [17.3, 40.5], [16.6, 40.1], [16.8, 39.6], [17.1, 38.9], [16.6, 38.6], [16.1, 38.1], [15.6, 38.0], [15.8, 38.6], [16.2, 39.0], [15.9, 39.5], [15.6, 40.1], [14.9, 40.2], [14.7, 40.6], [14.2, 40.8], [13.6, 41.3], [12.9, 41.4], [12.2, 41.9], [11.6, 42.3], [11.2, 42.6], [10.6, 43.0], [10.3, 43.6], [9.4, 44.3], [8.4, 44.2], [7.7, 43.8], [7.6, 44.2], [6.9, 44.5], [6.6, 45.1], [7.2, 45.4], [6.9, 45.8], [7.6, 46.0], [8.2, 46.2], [8.4, 46.2], [8.9, 45.9], [9.2, 46.2], [9.5, 46.3], [10.1, 46.2], [10.3, 46.6], [10.6, 46.9], [11.5, 47.0], [12.1, 47.0]]], [[[15.5, 38.1], [15.4, 37.9], [15.2, 37.7], [15.2, 37.5], [15.1, 37.4], [15.2, 37.2], [15.3, 37.1], [15.2, 37.0], [15.1, 36.9], [15.1, 36.7], [15.0, 36.7], [14.8, 36.7], [14.6, 36.8], [14.4, 36.9], [14.3, 37.0], [14.1, 37.1], [13.9, 37.1], [13.6, 37.2], [13.5, 37.3], [13.3, 37.4], [13.1, 37.5], [13.0, 37.6], [12.8, 37.6], [12.5, 37.7], [12.5, 37.8], [12.5, 38.0], [12.7, 38.1], [12.9, 38.0], [13.0, 38.1], [13.1, 38.2], [13.4, 38.2], [13.7, 38.0], [13.9, 38.0], [14.1, 38.0], [14.3, 38.0], [14.5, 38.0], [14.7, 38.1], [14.9, 38.2], [15.1, 38.1], [15.3, 38.2], [15.6, 38.3], [15.6, 38.2], [15.5, 38.1]]], [[[9.5, 41.1], [9.6, 41.0], [9.6, 40.9], [9.7, 40.7], [9.7, 40.6], [9.8, 40.5], [9.7, 40.4], [9.6, 40.3], [9.7, 40.1], [9.7, 39.9], [9.7, 39.7], [9.6, 39.5], [9.6, 39.3], [9.6, 39.1], [9.4, 39.1], [9.3, 39.2], [9.0, 39.1], [8.9, 38.9], [8.7, 38.9], [8.6, 39.0], [8.5, 39.0], [8.3, 39.1], [8.4, 39.2], [8.4, 39.4], [8.4, 39.6], [8.4, 39.8], [8.5, 39.7], [8.6, 39.9], [8.4, 39.9], [8.5, 40.1], [8.5, 40.3], [8.3, 40.6], [8.1, 40.6], [8.1, 40.7], [8.3, 40.9], [8.4, 40.8], [8.6, 40.8], [8.7, 40.9], [8.8, 41.0], [9.0, 41.1], [9.2, 41.2], [9.5, 41.1]]], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;IT&quot;, &quot;lng&quot;: 12.8, &quot;lat&quot;: 42.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;LI&quot;, &quot;lng&quot;: 9.5, &quot;lat&quot;: 47.3}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[25, 56.3], [25.3, 56.2], [25.7, 56.1], [26.1, 55.9], [26.3, 55.8], [26.5, 55.7], [26.5, 55.4], [26.8, 55.3], [26.5, 55.2], [26.2, 55.0], [25.9, 54.9], [25.7, 54.7], [25.7, 54.5], [25.5, 54.3], [25.8, 54.3], [25.6, 54.1], [25.6, 54.2], [25.2, 54.2], [25.0, 54.2], [24.8, 54.0], [24.5, 54.0], [24.3, 53.9], [24.1, 54.0], [23.9, 53.9], [23.6, 53.9], [23.5, 54.1], [23.3, 54.2], [23.0, 54.4], [22.7, 54.4], [22.8, 54.8], [22.8, 54.9], [22.5, 55.1], [22.1, 55.1], [21.7, 55.2], [21.3, 55.3], [21.2, 55.4], [21.2, 55.6], [21.0, 55.9], [21.1, 56.1], [21.3, 56.2], [21.7, 56.3], [22.1, 56.4], [22.5, 56.4], [22.8, 56.4], [23.0, 56.3], [23.2, 56.4], [23.4, 56.3], [23.6, 56.4], [24.0, 56.3], [24.3, 56.3], [24.6, 56.3], [24.9, 56.5], [25, 56.3]]], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;LT&quot;, &quot;lng&quot;: 24, &quot;lat&quot;: 56}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[6.0, 50.2], [6.1, 50.1], [6.1, 50.0], [6.2, 50.0], [6.2, 49.9], [6.3, 49.9], [6.3, 49.8], [6.4, 49.8], [6.5, 49.8], [6.5, 49.7], [6.4, 49.7], [6.4, 49.5], [6.3, 49.5], [6.2, 49.5], [6.1, 49.5], [6.0, 49.4], [5.9, 49.5], [5.8, 49.5], [5.8, 49.6], [5.9, 49.6], [5.9, 49.7], [5.8, 49.8], [5.7, 49.8], [5.7, 49.9], [5.8, 50.0], [5.9, 50.1], [6.0, 50.2]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;LU&quot;, &quot;lng&quot;: 6.2, &quot;lat&quot;: 49.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[21.1, 56.4], [21.0, 56.7], [21.1, 56.9], [21.4, 57.0], [21.4, 57.3], [21.6, 57.5], [21.8, 57.6], [22.1, 57.6], [22.6, 57.8], [22.7, 57.6], [22.9, 57.4], [23.2, 57.3], [23.3, 57.1], [23.7, 57.0], [24.0, 57.0], [24.4, 57.3], [24.3, 57.7], [24.4, 57.9], [24.6, 58.0], [25.0, 58.1], [25.2, 58.0], [25.4, 58.0], [25.8, 57.9], [26.2, 57.7], [26.6, 57.5], [26.9, 57.6], [27.3, 57.5], [27.5, 57.4], [27.8, 57.3], [27.8, 57.2], [27.8, 56.9], [27.9, 56.7], [28.2, 56.4], [28.1, 56.2], [27.7, 56.0], [27.6, 55.8], [27.2, 55.8], [26.9, 55.8], [26.7, 55.7], [26.4, 55.7], [26.2, 55.8], [26.0, 56.0], [25.6, 56.2], [25.2, 56.2], [25.0, 56.4], [24.7, 56.4], [24.4, 56.3], [24.1, 56.3], [23.7, 56.4], [23.5, 56.3], [23.3, 56.4], [23.1, 56.3], [22.9, 56.4], [22.6, 56.4], [22.2, 56.4], [21.9, 56.4], [21.4, 56.2], [21.2, 56.1], [21.0, 56.2], [21.1, 56.4]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;LV&quot;, &quot;lng&quot;: 25, &quot;lat&quot;: 57}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;MC&quot;, &quot;lng&quot;: 7.4, &quot;lat&quot;: 43.7}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[28.1, 46.9], [28.0, 47.0], [27.9, 47.1], [27.7, 47.3], [27.6, 47.4], [27.4, 47.6], [27.3, 47.7], [27.2, 47.9], [27.0, 48.2], [26.7, 48.3], [26.8, 48.3], [27.2, 48.4], [27.5, 48.5], [27.8, 48.4], [27.9, 48.3], [28.1, 48.3], [28.2, 48.2], [28.4, 48.2], [28.5, 48.1], [28.7, 48.1], [28.9, 48.0], [29.1, 47.9], [29.2, 48.0], [29.2, 47.6], [29.1, 47.5], [29.2, 47.5], [29.3, 47.4], [29.4, 47.3], [29.6, 47.3], [29.6, 47.0], [29.7, 46.9], [29.9, 46.8], [30.0, 46.6], [29.9, 46.5], [30.0, 46.4], [29.9, 46.4], [29.8, 46.4], [29.6, 46.4], [29.5, 46.5], [29.3, 46.4], [29.2, 46.5], [28.9, 46.4], [29.0, 46.2], [28.9, 46.0], [28.7, 46.0], [28.8, 45.9], [28.7, 45.8], [28.5, 45.7], [28.5, 45.5], [28.3, 45.5], [28.2, 45.4], [28.2, 45.6], [28.1, 45.9], [28.1, 46.1], [28.2, 46.3], [28.3, 46.4], [28.2, 46.7], [28.1, 46.9]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;MD&quot;, &quot;lng&quot;: 29, &quot;lat&quot;: 47}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[18.5, 42.6], [18.6, 42.7], [18.5, 42.8], [18.6, 43.0], [18.7, 43.1], [18.7, 43.3], [18.9, 43.4], [19.0, 43.2], [19.1, 43.3], [19.0, 43.5], [19.0, 43.6], [19.3, 43.5], [19.4, 43.4], [19.6, 43.3], [19.7, 43.2], [19.9, 43.1], [20.0, 43.0], [20.2, 43.0], [20.4, 42.8], [20.1, 42.8], [20.0, 42.7], [20.1, 42.6], [19.9, 42.5], [19.7, 42.5], [19.7, 42.7], [19.6, 42.6], [19.5, 42.4], [19.4, 42.1], [19.3, 41.9], [19.2, 41.9], [19.1, 42.0], [19.0, 42.1], [18.9, 42.3], [18.7, 42.4], [18.5, 42.4], [18.5, 42.5], [18.5, 42.6]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;ME&quot;, &quot;lng&quot;: 19.3, &quot;lat&quot;: 42.5}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[20.8, 40.9], [20.7, 41.1], [20.6, 41.2], [20.5, 41.3], [20.6, 41.4], [20.5, 41.6], [20.5, 41.8], [20.7, 41.9], [20.8, 42.0], [20.9, 42.1], [21.2, 42.1], [21.3, 42.2], [21.6, 42.3], [21.8, 42.3], [22.0, 42.3], [22.2, 42.3], [22.4, 42.3], [22.5, 42.1], [22.7, 42.1], [22.9, 41.9], [23.0, 41.8], [23.0, 41.6], [23.0, 41.4], [22.8, 41.3], [22.7, 41.2], [22.6, 41.1], [22.4, 41.1], [22.3, 41.2], [22.0, 41.1], [21.9, 41.0], [21.6, 40.9], [21.4, 40.9], [21.2, 40.9], [21.0, 40.9], [20.8, 40.9]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;MK&quot;, &quot;lng&quot;: 22, &quot;lat&quot;: 41.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;MT&quot;, &quot;lng&quot;: 14.6, &quot;lat&quot;: 35.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[6.9, 53.4], [7.2, 53.0], [7.1, 52.7], [6.9, 52.7], [6.7, 52.5], [7.0, 52.5], [7.1, 52.2], [6.8, 52.1], [6.8, 51.9], [6.4, 51.8], [6.0, 51.7], [6.2, 51.4], [6.0, 51.1], [6.1, 50.9], [5.9, 50.8], [5.6, 50.9], [5.9, 51.2], [5.5, 51.3], [5.1, 51.3], [5.0, 51.4], [4.7, 51.5], [4.5, 51.5], [4.3, 51.4], [3.8, 51.4], [3.5, 51.6], [3.9, 51.6], [4.1, 51.5], [4.1, 51.6], [3.7, 51.7], [4.1, 51.8], [4.0, 52.0], [4.5, 52.3], [4.7, 52.5], [5.0, 52.4], [5.4, 52.3], [5.6, 52.4], [5.9, 52.5], [5.6, 52.7], [5.6, 52.9], [5.3, 53.1], [5.1, 52.8], [5.2, 52.7], [5.1, 52.5], [4.7, 52.8], [4.8, 52.9], [5.5, 53.2], [6.1, 53.4], [6.7, 53.5], [6.9, 53.4]]], [[[3.8, 51.3], [3.9, 51.3], [4.0, 51.4], [4.2, 51.4], [4.2, 51.3], [4.1, 51.3], [4.0, 51.2], [3.9, 51.2], [3.8, 51.2], [3.7, 51.3], [3.6, 51.3], [3.5, 51.3], [3.5, 51.2], [3.4, 51.2], [3.4, 51.3], [3.4, 51.4], [3.5, 51.4], [3.6, 51.4], [3.7, 51.4], [3.8, 51.3]]], [[[5.8, 52.4], [5.7, 52.4], [5.6, 52.4], [5.5, 52.4], [5.5, 52.3], [5.6, 52.3], [5.4, 52.3], [5.3, 52.3], [5.2, 52.3], [5.1, 52.3], [5.1, 52.4], [5.2, 52.4], [5.3, 52.5], [5.4, 52.5], [5.5, 52.5], [5.6, 52.6], [5.8, 52.6], [5.9, 52.5], [5.8, 52.5], [5.8, 52.4]]], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;NL&quot;, &quot;lng&quot;: 5.8, &quot;lat&quot;: 52.5}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[5.3, 61.6], [5.2, 61.9], [6.3, 62.4], [6.4, 62.5], [7.6, 62.8], [8.3, 62.8], [8.8, 63.3], [10.6, 63.4], [11.0, 64.0], [9.6, 63.7], [10.9, 64.6], [11.2, 64.7], [12.4, 65.3], [12.9, 66.1], [13.0, 66.4], [13.8, 66.9], [15.5, 67.2], [15.5, 67.4], [15.0, 67.8], [16.0, 68.2], [16.4, 68.3], [17.1, 68.5], [17.7, 69.1], [19.2, 69.3], [19.7, 69.4], [20.8, 69.8], [21.5, 70.1], [22.7, 70.1], [24.2, 70.6], [25.3, 70.9], [25.3, 70.1], [26.6, 70.4], [27.7, 71.1], [28.3, 70.7], [29.3, 70.7], [30.7, 70.3], [29.7, 69.9], [30.9, 69.5], [29.1, 69.4], [26.2, 69.8], [24.4, 68.7], [21.7, 69.3], [19.9, 68.3], [16.1, 67.4], [14.3, 65.1], [12.3, 63.7], [12.8, 61.4], [11.9, 59.8], [10.6, 59.9], [10.0, 59.0], [7.2, 58.0], [5.6, 59.0], [6.5, 59.3], [5.2, 59.5], [6.2, 60.3], [5.7, 60.4], [5.0, 60.8], [6.3, 61.1], [6.7, 61.4], [5.3, 61.6]]], [[[16.0, 68.8], [16.0, 68.7], [15.9, 68.7], [15.9, 68.6], [15.8, 68.6], [15.7, 68.5], [15.8, 68.5], [16.1, 68.7], [16.1, 68.8], [16.2, 68.9], [16.4, 68.9], [16.4, 68.8], [16.5, 68.8], [16.6, 68.7], [16.6, 68.6], [16.5, 68.6], [16.4, 68.6], [16.3, 68.6], [16.2, 68.5], [16.1, 68.5], [16.0, 68.5], [16.0, 68.4], [15.9, 68.4], [15.8, 68.4], [15.7, 68.3], [15.6, 68.3], [15.5, 68.3], [15.4, 68.3], [15.3, 68.3], [15.4, 68.4], [15.5, 68.4], [15.6, 68.5], [15.5, 68.5], [15.3, 68.4], [15.2, 68.3], [15.1, 68.3], [15.0, 68.2], [15.0, 68.3], [15.1, 68.4], [15.2, 68.5], [15.3, 68.5], [15.2, 68.6], [15.3, 68.6], [15.4, 68.6], [15.5, 68.7], [15.4, 68.7], [15.6, 68.7], [15.7, 68.7], [15.5, 68.8], [15.6, 68.9], [15.7, 69.0], [15.9, 69.0], [15.9, 68.9], [15.9, 68.8], [16.0, 68.8]]], [[[17.6, 69.5], [17.7, 69.5], [17.7, 69.6], [17.8, 69.6], [17.9, 69.6], [18.0, 69.5], [18.1, 69.4], [18.1, 69.3], [18.0, 69.3], [17.9, 69.3], [17.9, 69.2], [18.0, 69.2], [17.6, 69.2], [17.5, 69.2], [17.4, 69.2], [17.2, 69.1], [17.2, 69.0], [17.1, 69.0], [17.0, 69.0], [17.1, 69.1], [17.0, 69.1], [16.9, 69.1], [16.8, 69.0], [16.8, 69.1], [17.1, 69.2], [17.2, 69.2], [17.0, 69.2], [16.9, 69.2], [17.1, 69.3], [17.0, 69.3], [16.9, 69.3], [17.0, 69.4], [16.9, 69.4], [17.2, 69.4], [17.3, 69.4], [17.4, 69.4], [17.5, 69.4], [17.2, 69.5], [17.3, 69.5], [17.4, 69.5], [17.5, 69.5], [17.5, 69.6], [17.6, 69.6], [17.6, 69.5]]], [[[23.5, 70.8], [23.4, 70.7], [23.3, 70.7], [23.2, 70.7], [23.1, 70.6], [22.9, 70.5], [22.8, 70.5], [22.8, 70.6], [22.7, 70.6], [22.6, 70.6], [22.6, 70.5], [22.5, 70.5], [22.3, 70.5], [22.2, 70.5], [22.1, 70.5], [22.3, 70.6], [22.2, 70.6], [22.1, 70.6], [22.0, 70.6], [21.9, 70.6], [22.0, 70.7], [22.1, 70.7], [22.3, 70.7], [22.4, 70.7], [22.5, 70.7], [22.6, 70.7], [22.7, 70.7], [22.8, 70.7], [22.8, 70.8], [22.9, 70.7], [23.0, 70.7], [23.1, 70.7], [23.2, 70.8], [23.3, 70.8], [23.3, 70.9], [23.4, 70.9], [23.4, 70.8], [23.5, 70.8]]], [[[15.4, 68.8], [15.4, 68.7], [15.3, 68.6], [15.1, 68.6], [15.0, 68.6], [14.9, 68.6], [14.8, 68.6], [14.9, 68.7], [15.1, 68.7], [15.2, 68.7], [15.1, 68.8], [15.0, 68.8], [15.0, 68.7], [14.8, 68.7], [14.7, 68.7], [14.5, 68.6], [14.4, 68.6], [14.4, 68.7], [14.4, 68.8], [14.5, 68.8], [14.6, 68.8], [14.7, 68.8], [14.9, 68.8], [14.9, 68.9], [15.0, 68.9], [15.1, 68.9], [15.2, 68.8], [15.0, 69.0], [15.1, 69.0], [15.2, 69.0], [15.2, 68.9], [15.3, 68.9], [15.4, 68.8]]], [[[18.9, 69.7], [18.8, 69.7], [18.8, 69.6], [18.7, 69.6], [18.6, 69.6], [18.5, 69.6], [18.4, 69.5], [18.3, 69.5], [18.2, 69.5], [18.0, 69.6], [18.1, 69.6], [18.2, 69.6], [18.3, 69.6], [18.2, 69.7], [18.3, 69.7], [18.4, 69.7], [18.6, 69.7], [18.5, 69.7], [18.3, 69.8], [18.4, 69.8], [18.5, 69.8], [18.6, 69.8], [18.7, 69.7], [18.8, 69.8], [18.7, 69.8], [18.7, 69.9], [18.8, 69.9], [19.0, 69.8], [19.1, 69.8], [19.0, 69.7], [18.9, 69.7]]], [[[19.3, 70.0], [19.4, 70.0], [19.5, 70.0], [19.5, 70.1], [19.6, 70.0], [19.7, 70.0], [19.5, 69.9], [19.4, 69.8], [19.3, 69.8], [19.2, 69.8], [19.1, 69.8], [19.0, 69.8], [19.0, 69.9], [18.9, 69.9], [18.8, 69.9], [18.7, 69.9], [18.8, 70.0], [18.9, 70.0], [19.0, 70.0], [19.1, 70.0], [19.1, 70.1], [19.2, 70.1], [19.3, 70.1], [19.3, 70.0]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;NO&quot;, &quot;lng&quot;: 10, &quot;lat&quot;: 62}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[18.9, 49.5], [18.5, 49.9], [17.9, 50.0], [17.8, 50.2], [17.2, 50.3], [17.0, 50.2], [16.6, 50.2], [16.2, 50.4], [16.1, 50.7], [15.5, 50.8], [15.0, 50.9], [15.0, 51.4], [14.8, 51.6], [14.8, 52.1], [14.6, 52.5], [14.2, 52.8], [14.4, 53.3], [14.6, 53.8], [14.2, 53.9], [15.0, 54.1], [15.8, 54.2], [16.3, 54.4], [16.9, 54.6], [17.4, 54.7], [17.9, 54.8], [18.6, 54.7], [18.5, 54.6], [18.9, 54.4], [19.4, 54.4], [19.2, 54.3], [19.9, 54.4], [20.7, 54.4], [21.5, 54.3], [22.3, 54.3], [22.9, 54.4], [23.5, 54.2], [23.6, 53.6], [23.9, 52.8], [23.4, 52.5], [23.6, 52.1], [23.6, 51.7], [23.7, 51.2], [24.1, 50.9], [24.0, 50.4], [23.5, 50.2], [22.7, 49.6], [22.9, 49.1], [22.3, 49.1], [21.5, 49.4], [20.9, 49.3], [20.2, 49.3], [19.8, 49.3], [19.4, 49.6], [18.9, 49.5]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;PL&quot;, &quot;lng&quot;: 20, &quot;lat&quot;: 52}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[-8.2, 41.9], [-7.9, 41.9], [-7.6, 41.8], [-7.2, 41.9], [-6.9, 42.0], [-6.6, 42.0], [-6.5, 41.7], [-6.2, 41.6], [-6.4, 41.3], [-6.8, 41.1], [-6.8, 40.9], [-6.8, 40.4], [-7.0, 40.1], [-7.1, 39.7], [-7.4, 39.6], [-7.3, 39.4], [-7.0, 39.1], [-7.2, 38.8], [-7.2, 38.3], [-7.0, 38.1], [-7.3, 38.0], [-7.4, 37.7], [-7.4, 37.3], [-7.6, 37.1], [-8.1, 37.1], [-8.7, 37.1], [-9.0, 37.1], [-8.8, 37.4], [-8.8, 37.9], [-8.8, 38.3], [-8.9, 38.5], [-9.2, 38.5], [-9.1, 38.6], [-9.0, 38.9], [-9.4, 38.7], [-9.4, 38.9], [-9.3, 39.2], [-9.3, 39.4], [-9.0, 39.7], [-8.9, 40.1], [-8.8, 40.5], [-8.7, 40.8], [-8.7, 41.2], [-8.9, 41.7], [-8.7, 42.0], [-8.4, 42.1], [-8.1, 42.1], [-8.2, 41.9]]], [[[-25.6, 37.8], [-25.5, 37.8], [-25.4, 37.8], [-25.4, 37.9], [-25.3, 37.9], [-25.2, 37.9], [-25.1, 37.8], [-25.2, 37.7], [-25.3, 37.7], [-25.5, 37.7], [-25.6, 37.7], [-25.7, 37.7], [-25.7, 37.8], [-25.8, 37.8], [-25.9, 37.8], [-25.9, 37.9], [-25.8, 37.9], [-25.7, 37.9], [-25.6, 37.8]]], [], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;PT&quot;, &quot;lng&quot;: -8, &quot;lat&quot;: 39.5}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[20.7, 46.2], [21.0, 46.2], [21.3, 46.6], [21.7, 47.0], [21.9, 47.4], [22.2, 47.7], [22.7, 47.8], [23.1, 48.1], [23.5, 48.0], [24.2, 47.9], [24.6, 47.9], [24.9, 47.7], [25.2, 47.9], [25.8, 48.0], [26.3, 48.1], [26.7, 48.3], [27.2, 47.8], [27.6, 47.4], [27.9, 47.0], [28.2, 46.7], [28.1, 46.2], [28.2, 45.6], [28.3, 45.3], [28.8, 45.3], [29.5, 45.4], [29.6, 45.2], [29.5, 44.8], [29.0, 44.8], [28.9, 45.0], [28.8, 44.6], [28.9, 44.5], [28.6, 44.2], [28.6, 43.7], [28.1, 43.8], [27.8, 44.0], [27.3, 44.1], [26.8, 44.1], [26.1, 44.0], [25.7, 43.7], [25.3, 43.7], [24.7, 43.7], [24.4, 43.7], [23.8, 43.8], [23.3, 43.8], [22.9, 43.9], [22.9, 44.1], [22.5, 44.4], [22.8, 44.5], [22.3, 44.7], [21.9, 44.6], [21.5, 44.8], [21.5, 45.0], [21.4, 45.2], [20.8, 45.7], [20.5, 45.9], [20.6, 46.2], [20.7, 46.2]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;RO&quot;, &quot;lng&quot;: 25, &quot;lat&quot;: 46}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[20.1, 42.6], [20.1, 42.8], [20.2, 43.0], [19.9, 43.1], [19.6, 43.3], [19.3, 43.5], [19.5, 43.7], [19.3, 44.0], [19.6, 44.0], [19.2, 44.3], [19.2, 44.6], [19.3, 44.9], [19.1, 45.0], [19.4, 45.2], [19.0, 45.5], [18.9, 45.6], [18.8, 45.9], [19.2, 46.0], [19.7, 46.2], [20.0, 46.2], [20.3, 46.1], [20.7, 45.8], [20.8, 45.6], [21.4, 45.2], [21.4, 45.0], [21.4, 44.9], [21.6, 44.7], [22.0, 44.6], [22.3, 44.7], [22.7, 44.6], [22.6, 44.5], [22.6, 44.3], [22.6, 44.1], [22.4, 43.7], [22.7, 43.4], [23.0, 43.2], [22.5, 42.9], [22.5, 42.5], [22.3, 42.4], [21.9, 42.3], [21.5, 42.3], [21.1, 42.2], [20.8, 41.9], [20.5, 42.2], [20.2, 42.3], [20.1, 42.6]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;RS&quot;, &quot;lng&quot;: 21, &quot;lat&quot;: 44}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[104.3, 77.7], [110.9, 76.8], [110.0, 74.4], [110.6, 73.8], [117.0, 73.6], [127.3, 71.4], [135.3, 71.6], [143.1, 72.7], [148.5, 72.3], [159.0, 70.9], [168.2, 69.5], [178.2, 69.4], [177.0, 64.7], [173.4, 61.6], [164.3, 60.1], [161.7, 55.6], [155.9, 54.0], [164.0, 61.4], [159.8, 61.3], [152.6, 59.0], [144.5, 59.4], [136.7, 53.8], [141.3, 52.3], [135.0, 43.5], [133.5, 45.6], [127.5, 50.2], [120.5, 51.9], [109.6, 49.2], [98.7, 51.8], [89.7, 49.8], [80.3, 50.9], [71.1, 54.3], [61.4, 54.1], [57.9, 51.1], [48.7, 50.5], [47.5, 45.5], [43.1, 43.0], [38.4, 46.7], [37.8, 50.1], [31.9, 54.0], [29.5, 60.0], [29.6, 65.3], [33.0, 69.5], [38.6, 66.1], [34.6, 65.2], [39.7, 65.5], [46.5, 68.0], [52.3, 68.3], [59.0, 68.9], [67.3, 68.7], [70.2, 72.9], [72.3, 67.3], [74.5, 68.7], [74.0, 69.1], [78.0, 71.0], [82.9, 71.7], [80.5, 73.2], [86.5, 74.3], [93.2, 75.8], [99.1, 75.5], [104.3, 77.7]]], [[[68.3, 77.0], [68.9, 76.6], [67.7, 76.2], [66.7, 76.1], [65.2, 75.8], [64.2, 75.7], [63.2, 75.6], [62.3, 75.4], [61.4, 75.2], [60.7, 75.1], [60.5, 75.0], [60.5, 74.9], [60.1, 74.7], [59.9, 74.6], [59.2, 74.6], [58.6, 74.5], [58.7, 74.2], [58.2, 74.1], [57.6, 74.2], [57.9, 73.9], [57.3, 73.8], [57.0, 73.8], [57.0, 73.6], [57.0, 73.4], [56.6, 73.3], [55.9, 73.4], [55.0, 73.4], [54.1, 73.4], [54.5, 73.6], [54.4, 73.7], [53.6, 73.7], [54.2, 73.9], [54.8, 74.1], [55.9, 74.1], [55.7, 74.3], [56.3, 74.5], [55.9, 74.7], [57.0, 74.7], [55.9, 74.8], [56.4, 75.0], [55.8, 75.1], [56.3, 75.2], [56.9, 75.3], [57.5, 75.3], [58.0, 75.6], [58.5, 75.8], [59.4, 75.9], [60.3, 76.0], [60.5, 76.0], [60.9, 76.2], [61.8, 76.3], [62.8, 76.3], [63.7, 76.3], [64.8, 76.5], [65.5, 76.6], [65.9, 76.7], [66.7, 76.9], [67.6, 77.0], [68.3, 77.0]]], [[[97.6, 80.2], [98.0, 80.1], [97.6, 79.8], [97.3, 79.7], [97.7, 79.8], [97.9, 79.9], [98.2, 79.9], [98.6, 80.0], [98.5, 80.1], [98.8, 80.0], [99.1, 80.0], [99.5, 79.9], [99.8, 79.9], [100.0, 79.7], [99.7, 79.6], [99.7, 79.3], [99.4, 79.3], [99.1, 79.3], [99.6, 79.2], [99.7, 79.1], [99.9, 79.0], [99.7, 78.9], [99.4, 78.8], [99.0, 78.8], [98.6, 78.8], [98.0, 78.8], [97.6, 78.8], [97.2, 78.9], [96.9, 79.0], [96.3, 79.0], [96.1, 79.0], [95.7, 79.0], [95.7, 79.1], [95.3, 79.1], [95.0, 79.0], [94.6, 79.2], [94.3, 79.2], [94.4, 79.4], [94.2, 79.5], [94.1, 79.4], [93.7, 79.5], [93.8, 79.6], [93.5, 79.5], [93.2, 79.4], [93.2, 79.5], [92.9, 79.6], [93.8, 79.7], [94.3, 79.8], [94.6, 79.8], [94.2, 79.9], [94.6, 80.0], [95.0, 80.1], [95.2, 80.0], [95.4, 80.1], [96.0, 80.1], [96.4, 80.1], [97.1, 80.2], [97.5, 80.2], [97.6, 80.2]]], [[[-179.6, 68.9], [-179.1, 68.8], [-178.8, 68.6], [-178.0, 68.3], [-178.4, 68.6], [-177.4, 68.2], [-176.8, 68.1], [-175.6, 67.8], [-175.3, 67.4], [-174.8, 67.4], [-174.8, 66.7], [-174.5, 66.6], [-174.3, 66.4], [-174.0, 66.2], [-174.1, 66.6], [-174.4, 67.0], [-174.2, 67.1], [-173.4, 67.1], [-173.4, 66.8], [-172.6, 66.9], [-173.0, 67.1], [-171.7, 67.0], [-171.3, 66.7], [-170.5, 66.3], [-170.2, 66.3], [-169.9, 66.1], [-170.0, 66.0], [-170.5, 65.7], [-171.3, 65.8], [-171.1, 65.5], [-171.9, 65.5], [-172.3, 65.6], [-172.7, 65.6], [-172.3, 65.4], [-172.7, 65.2], [-172.4, 64.9], [-173.2, 64.8], [-173.1, 64.7], [-172.4, 64.4], [-173.0, 64.5], [-173.3, 64.3], [-173.4, 64.5], [-174.1, 64.5], [-175.0, 64.8], [-175.8, 64.9], [-175.9, 65.4], [-176.6, 65.6], [-177.5, 65.5], [-178.6, 65.5], [-178.9, 65.9], [-178.5, 66.3], [-179.1, 66.2], [-179.2, 66.2], [-179.7, 66.2], [-179.4, 65.6], [-179.6, 65.2], [-180, 66.1], [-179.6, 68.9]]], [[[128.1, 72.6], [128.6, 72.5], [128.7, 72.5], [128.8, 72.5], [128.9, 72.5], [129.0, 72.5], [129.1, 72.5], [129.2, 72.5], [129.3, 72.5], [129.3, 72.4], [129.4, 72.4], [129.5, 72.4], [129.5, 72.3], [129.4, 72.3], [129.3, 72.3], [129.5, 72.2], [129.6, 72.2], [129.4, 72.2], [129.2, 72.1], [129.3, 72.1], [129.4, 72.1], [129.5, 72.1], [129.0, 72.1], [128.9, 72.1], [128.8, 72.1], [128.7, 72.1], [128.5, 72.1], [128.5, 72.2], [128.6, 72.2], [128.4, 72.2], [128.2, 72.2], [128.0, 72.3], [127.9, 72.3], [127.7, 72.4], [127.6, 72.4], [127.5, 72.4], [127.4, 72.4], [127.3, 72.4], [127.2, 72.4], [127.1, 72.4], [127.0, 72.4], [126.8, 72.4], [126.7, 72.4], [126.6, 72.5], [126.7, 72.5], [126.8, 72.5], [126.9, 72.5], [127.0, 72.5], [127.0, 72.6], [127.1, 72.6], [127.2, 72.6], [127.3, 72.6], [127.4, 72.6], [127.5, 72.6], [127.7, 72.6], [127.8, 72.6], [128.0, 72.6], [128.1, 72.6]]], [[[124.6, 73.7], [124.8, 73.7], [125.0, 73.6], [125.1, 73.7], [125.2, 73.7], [125.2, 73.5], [125.4, 73.6], [125.5, 73.5], [125.6, 73.4], [125.9, 73.5], [126.2, 73.6], [126.3, 73.5], [126.3, 73.4], [126.2, 73.4], [126.5, 73.4], [126.6, 73.3], [126.7, 73.2], [126.6, 73.0], [126.4, 73.0], [126.3, 72.9], [126.4, 72.8], [126.2, 72.5], [126.3, 72.4], [126.1, 72.3], [125.9, 72.4], [125.7, 72.4], [125.5, 72.4], [125.3, 72.5], [125.2, 72.6], [125.0, 72.6], [124.8, 72.6], [124.7, 72.7], [124.4, 72.7], [124.2, 72.8], [124.0, 72.8], [123.8, 72.8], [123.6, 72.8], [123.4, 72.8], [123.3, 72.9], [123.1, 72.9], [122.9, 72.9], [122.5, 72.9], [122.4, 73.0], [122.7, 73.0], [122.9, 73.0], [123.4, 73.2], [123.6, 73.2], [123.4, 73.3], [123.2, 73.6], [123.4, 73.6], [123.5, 73.7], [123.7, 73.6], [123.9, 73.7], [124.0, 73.8], [124.0, 73.7], [124.2, 73.8], [124.4, 73.8], [124.6, 73.7]]], [[[54.7, 81.1], [54.9, 81.1], [55.0, 81.1], [55.1, 81.1], [55.2, 81.1], [55.3, 81.0], [55.4, 81.0], [55.5, 81.0], [55.6, 81.0], [55.8, 81.0], [56.0, 81.0], [56.1, 81.0], [56.4, 81.0], [56.6, 81.0], [56.6, 80.9], [56.7, 80.9], [56.8, 80.9], [56.9, 80.9], [57.0, 80.9], [57.1, 80.9], [57.2, 80.9], [57.3, 80.9], [57.5, 80.8], [57.6, 80.8], [57.7, 80.8], [57.5, 80.7], [57.4, 80.7], [57.3, 80.7], [57.2, 80.7], [57.1, 80.7], [57.0, 80.7], [56.9, 80.7], [56.8, 80.8], [56.7, 80.8], [56.6, 80.8], [56.5, 80.8], [56.3, 80.8], [56.2, 80.8], [56.1, 80.8], [56.0, 80.8], [55.8, 80.9], [55.7, 80.9], [55.6, 80.9], [55.5, 80.9], [55.4, 80.9], [55.2, 81.0], [55.1, 81.0], [55.0, 80.9], [55.0, 81.0], [54.9, 81.0], [54.8, 81.0], [54.7, 81.0], [54.6, 81.0], [54.5, 81.0], [54.4, 81.0], [54.6, 81.1], [54.7, 81.1]]]], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;RU&quot;, &quot;lng&quot;: 100, &quot;lat&quot;: 60}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[21.8, 68.6], [23.0, 68.3], [23.5, 67.6], [23.7, 67.0], [23.7, 66.2], [23.5, 65.8], [22.4, 65.9], [22.1, 65.5], [21.6, 65.2], [21.2, 64.8], [21.6, 64.4], [20.4, 63.7], [19.5, 63.6], [18.9, 63.2], [17.9, 62.8], [17.5, 62.4], [17.5, 62.0], [17.2, 61.6], [17.5, 60.6], [18.4, 60.3], [19.1, 59.8], [18.2, 59.4], [17.7, 59.6], [17.4, 59.5], [16.5, 59.5], [17.1, 59.4], [18.4, 59.3], [17.9, 58.9], [17.1, 58.8], [16.2, 58.6], [16.8, 58.2], [16.7, 57.7], [16.6, 57.1], [16.0, 56.3], [14.8, 56.1], [14.3, 55.6], [13.4, 55.3], [12.7, 56.2], [12.8, 56.6], [12.2, 57.3], [11.7, 57.8], [11.2, 58.3], [11.4, 59.1], [11.8, 59.7], [12.6, 60.4], [12.6, 61.1], [12.3, 62.1], [12.2, 63.0], [12.7, 64.0], [14.1, 64.5], [14.4, 65.2], [15.0, 66.1], [16.2, 67.3], [17.6, 68.0], [18.6, 68.5], [20.0, 68.5], [20.8, 69.0], [21.8, 68.6]]], [[[18.2, 56.9], [18.1, 56.9], [18.2, 57.0], [18.3, 57.0], [18.3, 57.1], [18.2, 57.1], [18.1, 57.2], [18.2, 57.3], [18.1, 57.4], [18.1, 57.5], [18.1, 57.6], [18.2, 57.6], [18.3, 57.6], [18.3, 57.7], [18.4, 57.7], [18.4, 57.8], [18.5, 57.8], [18.7, 57.9], [18.9, 57.9], [19.0, 57.9], [19.0, 57.8], [18.9, 57.7], [18.8, 57.7], [18.8, 57.5], [18.8, 57.4], [18.7, 57.2], [18.6, 57.2], [18.5, 57.2], [18.4, 57.2], [18.4, 57.1], [18.3, 56.9], [18.2, 56.9]]], [[[16.8, 56.8], [16.7, 56.7], [16.6, 56.5], [16.6, 56.4], [16.6, 56.3], [16.5, 56.2], [16.4, 56.2], [16.4, 56.3], [16.4, 56.5], [16.4, 56.6], [16.5, 56.8], [16.6, 56.9], [16.7, 56.9], [16.8, 57.1], [16.9, 57.1], [17.0, 57.2], [17.0, 57.3], [17.0, 57.4], [17.1, 57.4], [17.1, 57.3], [17.1, 57.2], [17.0, 57.1], [16.9, 57.0], [16.9, 56.9], [16.8, 56.8]]], [], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;SE&quot;, &quot;lng&quot;: 15, &quot;lat&quot;: 62}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[13.7, 46.5], [13.9, 46.5], [14.2, 46.4], [14.8, 46.5], [14.9, 46.6], [15.1, 46.7], [15.4, 46.7], [15.8, 46.7], [16.0, 46.8], [16.2, 46.9], [16.3, 46.8], [16.4, 46.7], [16.6, 46.5], [16.3, 46.5], [16.3, 46.4], [16.1, 46.3], [15.8, 46.2], [15.6, 46.2], [15.7, 46.1], [15.7, 45.9], [15.6, 45.8], [15.3, 45.8], [15.4, 45.7], [15.3, 45.5], [15.1, 45.5], [14.9, 45.5], [14.7, 45.5], [14.6, 45.7], [14.5, 45.5], [14.1, 45.5], [13.9, 45.5], [13.6, 45.5], [13.8, 45.5], [13.7, 45.6], [13.8, 45.7], [13.7, 45.8], [13.6, 45.9], [13.5, 46.0], [13.6, 46.1], [13.7, 46.2], [13.5, 46.2], [13.4, 46.3], [13.7, 46.4], [13.7, 46.5]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;SI&quot;, &quot;lng&quot;: 14.8, &quot;lat&quot;: 46.1}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[17.3, 48.0], [17.1, 48.1], [17.0, 48.3], [16.9, 48.4], [17.0, 48.7], [17.2, 48.9], [17.5, 48.8], [17.8, 48.9], [18.1, 49.1], [18.2, 49.3], [18.5, 49.5], [18.8, 49.5], [19.0, 49.4], [19.3, 49.5], [19.5, 49.5], [19.8, 49.4], [19.9, 49.2], [20.1, 49.3], [20.4, 49.4], [20.8, 49.3], [21.0, 49.4], [21.4, 49.4], [21.8, 49.4], [22.2, 49.2], [22.5, 49.1], [22.5, 49.0], [22.4, 48.8], [22.2, 48.4], [21.9, 48.4], [21.7, 48.4], [21.5, 48.5], [21.2, 48.5], [20.9, 48.5], [20.7, 48.6], [20.4, 48.4], [20.2, 48.3], [19.9, 48.1], [19.6, 48.2], [19.2, 48.1], [18.9, 48.1], [18.8, 47.9], [18.7, 47.8], [18.4, 47.8], [18.2, 47.7], [17.9, 47.8], [17.7, 47.8], [17.4, 48.0], [17.3, 48.0]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;SK&quot;, &quot;lng&quot;: 19.5, &quot;lat&quot;: 48.7}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;SM&quot;, &quot;lng&quot;: 12.4, &quot;lat&quot;: 43.8}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[35.1, 42.0], [36.1, 41.7], [36.6, 41.4], [37.4, 41.1], [38.2, 40.9], [39.1, 41.1], [40.3, 41.0], [41.4, 41.4], [42.3, 41.5], [43.2, 41.2], [43.7, 40.7], [44.0, 40.0], [44.8, 39.6], [44.2, 39.0], [44.5, 38.3], [44.6, 37.4], [44.2, 37.1], [43.5, 37.2], [42.4, 37.1], [41.5, 37.1], [40.3, 36.9], [39.0, 36.7], [38.0, 36.8], [37.0, 36.7], [36.5, 36.2], [36.0, 35.9], [36.0, 36.5], [35.7, 36.8], [34.9, 36.8], [34.0, 36.3], [32.8, 36.0], [32.0, 36.5], [30.7, 36.9], [30.3, 36.3], [29.3, 36.2], [28.9, 36.7], [28.2, 36.7], [27.7, 36.7], [27.8, 37.0], [27.5, 37.1], [27.2, 37.5], [26.8, 38.2], [26.4, 38.3], [26.5, 38.6], [27.0, 38.5], [26.8, 39.0], [27.0, 39.6], [26.2, 39.7], [26.7, 40.3], [27.5, 40.3], [28.0, 40.4], [29.0, 40.5], [29.6, 40.7], [29.1, 40.9], [29.9, 41.1], [30.9, 41.1], [32.0, 41.5], [33.2, 42.0], [34.2, 42.0], [35.1, 42.0]]], [[[27.4, 42.0], [27.6, 42.0], [27.8, 42.0], [28.0, 42.0], [28.0, 41.8], [28.2, 41.5], [28.5, 41.4], [28.9, 41.3], [29.0, 41.3], [29.1, 41.2], [29.0, 41.1], [28.8, 41.0], [28.6, 41.1], [28.5, 41.0], [28.4, 41.1], [28.1, 41.1], [27.9, 41.0], [27.7, 41.0], [27.5, 40.9], [27.4, 40.8], [27.2, 40.6], [27.0, 40.6], [26.7, 40.5], [26.6, 40.4], [26.4, 40.2], [26.2, 40.1], [26.2, 40.2], [26.3, 40.3], [26.4, 40.4], [26.6, 40.5], [26.8, 40.7], [26.6, 40.6], [26.3, 40.6], [26.1, 40.7], [26.1, 40.8], [26.2, 40.9], [26.4, 41.0], [26.3, 41.2], [26.6, 41.3], [26.6, 41.5], [26.5, 41.6], [26.3, 41.7], [26.4, 41.8], [26.6, 41.9], [26.9, 42.0], [27.0, 42.1], [27.2, 42.1], [27.4, 42.1], [27.4, 42.0]]], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;TR&quot;, &quot;lng&quot;: 35, &quot;lat&quot;: 39}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[[33.4, 52.4], [34.2, 51.7], [35.1, 51.1], [35.5, 50.5], [36.5, 50.2], [37.7, 50.1], [38.7, 49.9], [39.5, 49.8], [40.2, 49.2], [40.0, 48.8], [39.8, 47.9], [38.8, 47.9], [38.1, 47.1], [36.8, 46.8], [35.5, 46.5], [35.0, 46.2], [34.2, 46.3], [34.1, 45.9], [35.1, 45.5], [34.7, 46.1], [36.1, 45.5], [35.9, 45.0], [34.7, 44.8], [33.4, 44.6], [33.1, 45.2], [32.8, 45.6], [33.6, 46.0], [32.5, 46.1], [31.5, 46.6], [32.2, 46.6], [31.9, 47.1], [30.9, 46.6], [29.9, 45.7], [29.7, 45.2], [28.4, 45.3], [28.8, 45.9], [29.4, 46.5], [30.0, 46.6], [29.3, 47.5], [28.7, 48.1], [27.8, 48.5], [26.1, 48.0], [24.9, 47.7], [23.8, 48.0], [22.7, 48.1], [22.5, 48.9], [22.8, 49.7], [24.1, 50.7], [23.7, 51.5], [24.9, 51.9], [26.2, 51.9], [27.2, 51.7], [28.2, 51.7], [29.2, 51.6], [30.3, 51.4], [30.9, 52.1], [32.3, 52.1], [33.4, 52.4]]], [], [], []], &quot;type&quot;: &quot;MultiPolygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;UA&quot;, &quot;lng&quot;: 32, &quot;lat&quot;: 49}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[64.4, 39.0], [63.7, 39.3], [62.9, 39.7], [62.3, 40.4], [61.7, 41.2], [60.9, 41.3], [60.2, 41.3], [60.3, 41.8], [59.4, 42.3], [58.8, 42.7], [58.1, 42.6], [57.9, 42.4], [57.4, 42.2], [57.0, 41.5], [56.4, 41.3], [56.0, 42.8], [56.3, 45.1], [58.0, 45.5], [62.0, 43.5], [64.0, 43.6], [65.6, 43.2], [66.0, 42.3], [66.9, 41.1], [67.9, 41.2], [68.3, 40.7], [68.9, 41.1], [69.6, 41.7], [70.5, 42.1], [71.2, 42.2], [70.5, 41.8], [70.6, 41.5], [71.4, 41.3], [71.6, 41.6], [72.3, 41.0], [73.1, 40.8], [72.4, 40.4], [71.5, 40.2], [70.8, 40.2], [70.4, 40.5], [70.4, 41.1], [69.8, 40.6], [69.3, 40.6], [68.7, 40.2], [68.9, 40.0], [68.5, 39.6], [67.4, 39.5], [67.9, 39.0], [68.1, 38.4], [68.1, 37.8], [67.7, 37.2], [66.8, 37.4], [66.7, 38.0], [65.8, 38.2], [64.9, 38.7], [64.4, 39.0]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;UZ&quot;, &quot;lng&quot;: 64, &quot;lat&quot;: 41}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;VA&quot;, &quot;lng&quot;: 12.4, &quot;lat&quot;: 41.9}}, {&quot;geometry&quot;: {&quot;coordinates&quot;: [[[20.8, 42.1], [20.7, 41.8], [20.6, 41.9], [20.5, 42.2], [20.3, 42.3], [20.1, 42.6], [20.3, 42.8], [20.5, 42.9], [20.6, 43.2], [20.8, 43.3], [21.0, 43.1], [21.1, 43.1], [21.3, 42.9], [21.4, 42.9], [21.6, 42.7], [21.8, 42.7], [21.7, 42.4], [21.5, 42.3], [21.6, 42.2], [21.4, 42.2], [20.8, 42.1]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;type&quot;: &quot;Feature&quot;, &quot;properties&quot;: {&quot;iso2&quot;: &quot;XK&quot;, &quot;lng&quot;: 21.2, &quot;lat&quot;: 42.7}}], &quot;type&quot;: &quot;FeatureCollection&quot;} × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_filtering.js.html":{"id":"helpers_filtering.js.html","title":"Source: helpers/filtering.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/filtering.js /** * ## Filters and Facets * * The big contribution list can be filtered by any number of filters. * This module contains helpers to set up the filtering and compute the results. * * The list of available filters is in {@link Filters}. * * @module filtering */ /** * ## Compiling Filters * * The compile stage inspects all data rows and sets up facets according to * the values that actually occur in the data. * * The goal is to collect all the information that is needed to display the * filters and give them an initial state. * * The filter state is represented as follows: * * * a search string for each fullText filter (initially empty) * * for every faceted field: * * a mapping from each of its valueIds to `true` * (representing that every facet of that field is checked) * * to this mapping we add a `-none-` value, with the intention that it matches * those rows that do not have values in this field. * * @param {Contrib[]} contribs - The list of contribution records as it comes form mongo db * @param {Array} filterList - The list of available filters, statically imported from the * @returns {Map} `fieldValues` - a mapping of the valueId to the valueRepresentation of all values that have * been encountered in the `field` of the `contribs` rows * @returns {Map} `filterInit` - a mapping that maps the filterId of each available filter to initial filterSettings * for that filter, i.e. the situation that the user has not yet started using the filters * {@link Filters} component. */ export function compileFiltering(contribs, filterList) { const fields = filterList.filter(x =&gt; x.name !== 'FullText').map(x =&gt; x.field); const fieldValues = new Map(fields.map(f =&gt; [f, new Map([['', '-none-']])])); for (const row of contribs) { for (const field of fields) { const fFieldValues = fieldValues.get(field); const metaraw = row[field]; if (metaraw != undefined &amp;&amp; metaraw.length !== 0) { for (const {_id: valueId, value: valueRep} of metaraw) { if (!fFieldValues.has(valueId)) {fFieldValues.set(valueId, valueRep)} } } } } const filterInit = new Map(filterList.map((filterSpec, filterId) =&gt; [ filterId, filterSpec.name === 'FullText' ? '' : new Map([...fieldValues.get(filterSpec.field).keys()].map(valueId =&gt; [valueId, true])) ])); return { fieldValues, filterInit, }; } /** * ## Computing Filters * * @param {Contrib[]} contribs - as in {@link compileFiltering} * @param {Array} filterList - as in {@link compileFiltering} * @param {Map} fieldValues - as in {@link compileFiltering} * @param {Map} filterSettings - a {@link external:Map|Map} of filters to their current settings * @returns {Map} `filteredData` - the sublist of contribs, the rows that pass all filters * @returns {Map} `filteredAmountOthers` - a mapping that indicates for each filter how many rows pass all other filters * @returns {Map} `amounts` - a mapping like `filteredAmountOthers`, but more specific: it splits the amount per faceted value * * With filteredData.length, filteredAmountOthers, amounts we have exactly the right numbers to * render the &quot;(nn of mm)&quot; statistics on the user interface next to each filter and facet. */ export function computeFiltering(contribs, filterList, fieldValues, filterSettings) { const filterChecks = new Map(filterList.map((filterSpec, filterId) =&gt; ( [filterId, (filterSpec.name === 'FullText' ? fullTextCheck : facetCheck)(filterSpec.field, filterSettings.get(filterId))] ))); const filteredData = []; const otherFilteredData = new Map(filterList.map((filterSpec, filterId) =&gt; [filterId, []])); /** * We determine for every row whether it passes all filters or not. * We are also interested in those rows that fail exactly one filter. * Because those rows are part of the universe that that one filter is filtering. */ for (const row of contribs) { /* * Here we record the one filter for which the row fails, if there is such a filter. */ let the_one_fail = null; let v = true; let discard = false; for (const [filterId, filterCheck] of filterChecks) { const pass = filterCheck(row); if (!pass) { v = false; if (the_one_fail === null) { /* * If no other filters fail, this the the one that fails */ the_one_fail = filterId; } else { /* * More than one filter has failed, the row is uninteresting */ discard = true; break; } } } if (!discard) { if (v) { /* * the row has passed all filters */ filteredData.push(row); filterList.forEach((filterSpec, filterId) =&gt; { otherFilteredData.get(filterId).push(row); }); } else { /* * the row has failed exactly one filter, * we store it in its `otherFilteredData`. */ otherFilteredData.get(the_one_fail).push(row); } } } const amounts = new Map(filterList.map((filterSpec, filterId) =&gt; { const field = filterSpec.field; return [filterId, filterSpec.name === 'FullText' ? null : countFacets(field, fieldValues.get(field), otherFilteredData.get(filterId))]; })); return { filteredData, filteredAmountOthers: new Map([...otherFilteredData.entries()].map(([filterId,x]) =&gt; [filterId, x.length])), amounts, } } /** * ## Updating Filter State * * The task for this function is to generate a new state, * based on the current state and a user event. * It is, in the {@link external:Redux|Redux} sense, a *reducer*. * * We take care that the new state is a shallow copy of the old state, * in such a way that every inside object that contains a mutated element * is replaced by a shallow copy. * So if the old state is * * ``` * state = { * x: { a: [1], b: [2] }, * y: { a: [3], b: [4] }, * } * ``` * * and we want to change * * ``` * state.y.b = [4,5] * ``` * * we do not say: * * ``` * state.y.b.push(5) * ``` * * Instead, we produce a new state like this * * ``` * newstate = { * x: state.x, // we reuse this part * y: { * a: state.y.a, // we also reuse this part * b: [4, 5], // this is new * }, * } * ``` * * So, `newstate` is a new object, and so is `newstate.y` and `newstate.b`. * We need to do this, so React can compare the old and new state efficiently and * make the minimum number of changes to the DOM to reflect the new state. * * The cases are: * * * if the filter is FullText: * * `data` is a string: the search string entered * * * if the filter is a Facet: * * `data` is an object {valueId, boolean}: which value has been checked or unchecked; * * `data` is a boolean: when all values have been checked or unchecked in one go * * @function * @param {Map} filterSettings - as in {@link module:filtering.computeFiltering|computeFiltering} * @param {number} filterId - the id of the filter that fired an event * @returns {Map} `freshFilterSettings` - the nature of the event */ export const newFilterSettings = (filterSettings, filterId, data) =&gt; { const freshFilterSettings = new Map([...filterSettings.entries()]); switch (typeof data) { case 'boolean': { const filterSetting = freshFilterSettings.get(filterId); freshFilterSettings.set(filterId, new Map([...filterSetting.keys()].map(valueId =&gt; [valueId, data]))); break; } case 'string': { freshFilterSettings.set(filterId, data); break; } default: { const [valueId, filterSetting] = data; freshFilterSettings.get(filterId).set(valueId, filterSetting); break; } } return freshFilterSettings; } /** * Performs full text lookup in `field` and delivers * the result as a {boolean} function of rows. * * When the search term is empty, we do not have to inspect the rows: * we deliver `x =&gt; true`, the *is always true* function. * * @function * @param {string} field - the field name * @param {term} term - the search term * @returns {function} A truth function characterizing the lookup result */ const fullTextCheck = (field, term) =&gt; { const search = term.toLowerCase() if (!search) { return row =&gt; true; } return row =&gt; { const val = row[field]; return val != undefined &amp;&amp; val.toLowerCase().indexOf(search) !== -1; } } /** * Performs a facet filter action in `field` and delivers * the result as a {boolean} function of rows. * * When the none of the facets have been checked, we do not have to inspect the rows: * we deliver `x =&gt; false`, the &quot;is always false&quot; function. * * @function * @param {string} field - the field name * @param {Map} facetValues - the facets as mapping from valueIds to whether they are checked * @returns {function} A truth function characterizing the lookup result */ const facetCheck = (field, facetValues) =&gt; { if (facetValues.size === 0) { return row =&gt; false; } return row =&gt; { const fieldVals = row[field]; if (!fieldVals) { return facetValues.get(''); } for (const {_id: valueId} of fieldVals) { if (facetValues.get(valueId)) { return true; } } return false; } } /** * Performs a facet count for a specific filter, * in order to determine how many hits each facet has in a given set of rows. * * countFacets = (field, fieldValues, rows) =&gt; (facetAmounts) * * @function * @param {string} field - the field name * @param {Map} fieldValues - the facets as mapping from valueIds to valueRepresentations * @param {Array} rows - the data rows to look through * @returns {Map} A mapping from valueIds to the number of times they occurred. */ function countFacets(field, fieldValues, rows) { const facetAmounts = new Map(); for (const valueId of fieldValues.keys()) { facetAmounts.set(valueId, 0); } for (const row of rows) { const fieldVals = row[field]; if (!fieldVals) { facetAmounts.set('', facetAmounts.get('') + 1); } else { for (const {_id: valueId} of fieldVals) { facetAmounts.set(valueId, facetAmounts.get(valueId) + 1); } } } return facetAmounts; } /** * Places the facets of a field in a table with at most maxCols columns. * * For example, if you have 20 facets, and want to save space, you can put them * in three columns of 7 facets each, with the last column containing only 6. * * **NB:** if you want to put say 12 facets in 8 columns, the function discovers * first that it needs two rows and then that it can place those facets * in to 2 rows of only 6 columns. It will do so. * * Thus, the maxCols parameter specifies an upper limit, but the outcome might * be less than so many columns! * * @function * @param {string} field - the field name * @param {Map} fieldValues - the facets as mapping from valueIds to valueRepresentations * @param {number} maxCols - the maximum number of columns in the resulting table * @returns {Array} A table (nested array) of facets, ordered by facet value, vertical first. */ export function placeFacets(field, fieldValues, maxCols) { if (!field || !fieldValues) {return []} const facets = [...fieldValues.entries()].sort((x,y) =&gt; x[1].localeCompare(y[1])); const rows = []; const lf = facets.length; const nrows = Math.floor(lf / maxCols) + ((lf % maxCols) ? 1 : 0); const ncols = Math.floor(lf / nrows) + ((lf % nrows) ? 1 : 0); for (let r = 0; r &lt; nrows; r++) { const row = []; for (let c = 0; c &lt; ncols; c++) { const f = nrows * c + r; row.push((f &lt; lf) ? facets[f] : null); } rows.push(row); } return rows; } /** * The facets of a field can be checked and unchecked collectively by a * *collective* checkbox. * If not all facets are checked, and not all facets are unchecked, * the collective checkbox should be in an indeterminate state. * * @function * @param {Map} filterSettings - a {@link external:Map|Map} of filters to their current settings * @returns {Object} Two booleans: * * are they all checked? * * are they all unchecked? */ export function testAllChecks(filterSettings) { let allTrue = true; let allFalse = true; for (const valueId of filterSettings.keys()) { if (filterSettings.get(valueId)) { allFalse = false; } else { allTrue = false; } } return {allTrue: allTrue, allFalse: allFalse}; } × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Filters.jsx.html":{"id":"pure_Filters.jsx.html","title":"Source: pure/Filters.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Filters.jsx import React from 'react' import FullText from './FullText.jsx' import ByValue from './ByValue.jsx' import EUMap from '../object/EUMap.jsx' /** * @module Filters */ /** * ## Filter inventory * * The following types of filters are implemented. * * {@link FullText}: Search in a textual field for a pattern. * The pattern is entered by the user, * the search is incremental, after each keystroke the results are updated. * * {@link ByValue}: Faceted search for values of a specific field. * * {@link EUMap}: Faceted search on country, together with a map visualization * * Here we store the list of the available filter types and their characteristics. * Every entry contains a few items: * * the {@link external:Component|component} class associated with it * * its name (as string) * * the name of the data field it is filtering * * how many columns the grid of facets may have. * * `filterList` is used here and imported by {@link module:filtering} */ export const filterList = [ {kind: FullText, name: 'FullText', field: 'title', maxCols: null}, {kind: EUMap, name: 'EUMap', field: 'country', maxCols: 3}, {kind: ByValue, name: 'ByValue', field: 'typeContribution', maxCols: 2}, {kind: ByValue, name: 'ByValue', field: 'tadirahActivities', maxCols: 2}, {kind: ByValue, name: 'ByValue', field: 'tadirahObjects', maxCols: 2}, {kind: ByValue, name: 'ByValue', field: 'tadirahTechniques', maxCols: 1}, ] const styles = { backgroundColor: '#ffffee', } /** * **purely functional** {@link external:Component|Component} * * All filter computations have been done by stateful parent components, such as FilterCompute. * The filter results are being passed down as properties. * The incoming properties can be divided into * - fieldValues (which facets are there per filter?) * - filterSettings (what has the user typed or clicked?) * - filteredAmount, filteredAmountOthers, amounts (what are the statistics of the filtering?) * - updFilter (callback coming from a stateful parent, to be passed to children that receive user events) * - countries (extra information for the EUMap filter) * The outgoing properties are mostly the same, except that each individual filter * gets only the slice it needs. * * This function merely selects the right filter * {@link external:Component|component} * and calls it with the appropriate props. * Whereas the incoming props contain information for all filters, * each individual child filter is passed the relevant slice only. * * @constructor * @param {Map} filterSettings The current state of the facets belonging to this filter * @param {Map} fieldValues A mapping of the valueIds to valueRepresentations for all values in all filtered fields * @param {Object[]} filteredAmount The number of rows that have passed all filters * @param {Map} filteredAmountOthers For each filter, the number of rows that have passed all other filters * @param {Map} amounts For each filter, the number of rows that have passed all filters per valueId occurring in that field * @param {Map} countries The country information as fetched from the database on the server. * Organized as a {Map} keyed by Two-letter country codes. * @param {FilterCompute#updFilter} updFilter Callback to update the state when user event has occurred * @returns {Fragment} */ const Filters = ({ filterSettings, fieldValues, filteredAmount, filteredAmountOthers, amounts, countries, updFilter }) =&gt; ( &lt;div style={styles}&gt; {filterList.map((filter, filterId) =&gt; { const needs = filter.name === 'EUMap' ? {countries} : {}; const Fclass = filter.kind; return ( &lt;Fclass key={filterId} filterId={filterId} filterField={filter.field} maxCols={filter.maxCols} filterSettings={filterSettings.get(filterId)} fieldValues={fieldValues.get(filter.field)} filteredAmount={filteredAmount} filteredAmountOthers={filteredAmountOthers.get(filterId)} amounts={amounts.get(filterId)} updFilter={updFilter} {...needs} /&gt; );} )} &lt;/div&gt; ) export default Filters; × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"main.jsx.html":{"id":"main.jsx.html","title":"Source: main.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: main.jsx import React, { Component } from 'react' import { render } from 'react-dom'; import { Router, Route, Redirect, DefaultRoute, IndexRoute, IndexRedirect, browserHistory } from 'react-router'; import Provider from './object/Provider.jsx'; import App from './pure/App.jsx'; import ContribsFiltered from './state/ContribsFiltered.jsx'; import Doc from './pure/Doc.jsx'; import NotFound from './pure/NotFound.jsx'; /** * ## Routing * * The entry point `main.jsx` contains the * {@link external:Routing|routes} configuration. * * This is client side routing. * At the server there are other rules linking urls to behaviour. * * Here are a few rules that capture how routing works in a Single Page App (SPA) like this, * and the diagram visualizes the same logic. * * * the server responds to any url with sending the `index.html` page, * which also causes the `bundle.js` to load. * * the server's rules are very simple: no matter what the url, respond with the whole app. * The response is static, it is always the same. * * The client has to figure out what component(s) of the app to show and where, * based on the details of the url. * * this behaviour is needed to cater for the case that the user hits the browser's *refresh* * button. At that moment, the current url might be a deep path, * and we cannot expect the server to know those paths. The best the server can do is to * send the whole app again. * * There are a few exceptions, though: * * * if the url points to a static file, i.e. a file under `/static/`, the server will respond with the * file contents. * Otherwise there was no way to serve the `index.html` and `bundle.js` in the first place. * * if the url points to `/api/`, the server will respond in a variety of ways, depending on the rest * of the url. * By means of these `/api/` urls the client can ask for additional data services, from file system or * database. * The server side routing maps these urls to specific controllers that fetch and assemble the * requested data. * * &lt;img src=&quot;/api/file/tech/docs/design/design.007.jpeg&quot; width=&quot;800&quot;/&gt; * * ## Providing Application wide data * * The {@link Provider} component surrounding the router provides global information to other components. * * @module main */ render( &lt;Provider&gt; &lt;Router history={browserHistory}&gt; &lt;Redirect from=&quot;/about&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Redirect from=&quot;/docs/about&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Redirect from=&quot;/about.md&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Redirect from=&quot;/login&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Redirect from=&quot;/logout&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Redirect from=&quot;/slogout&quot; to=&quot;/docs/about.md&quot;/&gt; &lt;Route path=&quot;/&quot; component={App}&gt; &lt;IndexRoute component={App}/&gt; &lt;IndexRedirect to=&quot;/docs/about.md&quot;/&gt; &lt;Route path=&quot;contrib&quot; component={ContribsFiltered}/&gt; &lt;Route path=&quot;docs/:docFile&quot; component={Doc}/&gt; &lt;Route path=&quot;tech/docs/gen/:docFile&quot; component={Doc}/&gt; &lt;Route path=&quot;tech/docs/:docFile&quot; component={Doc}/&gt; &lt;/Route&gt; &lt;Route path=&quot;*&quot; component={NotFound}/&gt; &lt;/Router&gt; &lt;/Provider&gt;, document.getElementById('body') ); // &lt;Route path=&quot;/tech/docs/:docFile&quot; component={Doc}/&gt; × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_ui.js.html":{"id":"helpers_ui.js.html","title":"Source: helpers/ui.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/ui.js /** * ## User Interface * * This is a collection of methods that directly * address the user interface aspects of the web page. * * &lt;img src=&quot;/api/file/tech/docs/design/design.005.jpeg&quot; width=&quot;800&quot;/&gt; * * @module ui */ /** * scrollbar width */ const scrollBarWidth = 50; /** * top navigation bar height and remaining height */ const topHeight = 80; /** * remaining height under the top navigation bar */ const winHeight = window.innerHeight - topHeight; /** * outer left navigation bar width * and inner left columm width */ const divWidthSpec = { left: 120, rightLeft: 380, } /** * the widths of the main portions on the screen: * * * `left`: outer left navigation bar * * `right`: everything else * * `rightLeft`: left column inside `right` * * `rightRight`: right column inside `right` */ const divWidth = { ...divWidthSpec, right: window.innerWidth - divWidthSpec.left - scrollBarWidth, rightRight: window.innerWidth - divWidthSpec.left - divWidthSpec.rightLeft - 2 * scrollBarWidth, } /** * we use the float property to position the leftish and rightish divs */ const floatSpec = { left: 'left', right: 'right', rightLeft: 'left', rightRight: 'right', } /** * Sets the relevant box properties for a leftish or rightish div * @param {string} kind - The name of the div in question, must be a key in * {@link floatSpec} and {@link divWidth}. */ export function columnStyle(kind) { return { width: divWidth[kind], height: winHeight, overflow: 'auto', 'WebkitOverflowScrolling': 'touch', float: floatSpec[kind], 'paddingLeft': !kind ? '1em' : '0em', 'paddingRight': !kind ? '1em' : '0em', } } × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_NavLink.jsx.html":{"id":"pure_NavLink.jsx.html","title":"Source: pure/NavLink.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/NavLink.jsx import React, {Component} from 'react' import { Link } from 'react-router' /** * **purely functional** {@link external:Component|Component} * * Displays a navigation link that is sensitive to routing. * * @constructor * @param {Object} props Incoming properties to be passed to the underlying &lt;Link&gt; component. * @returns {Fragment} */ const NavLink = (props) =&gt; &lt;Link {...props} activeClassName=&quot;active&quot;/&gt; export default NavLink × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_NotFound.jsx.html":{"id":"pure_NotFound.jsx.html","title":"Source: pure/NotFound.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/NotFound.jsx import React from 'react'; /** * **purely functional** {@link external:Component|Component} * * Displays a 404 if no * {@link external:Routing|route} matches. * * @constructor * @param {Object} params The * {@link external:Routing|route} parameters, among which the full path (`splat`) * @returns {Fragment} */ const NotFound = ({params}) =&gt; (&lt;h1&gt;404: &lt;code&gt;{params.splat}&lt;/code&gt; not found on this site.&lt;/h1&gt;) export default NotFound × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"state_Notification.jsx.html":{"id":"state_Notification.jsx.html","title":"Source: state/Notification.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: state/Notification.jsx import React, { Component } from 'react' import { withContext, saveState } from '../helpers/hoc.js' const msgStyle = { info: { color: '#222222', }, error: { color: '#dd0000', fontWeight: 'bold', }, warning: { color: '#dd8800', fontWeight: 'bold', }, good: { color: '#00aa00', fontWeight: 'bold', }, special: { color: '#000000', fontWeight: 'bold', }, line: { paddingTop: 0, paddingBottom: 0, marginTop: 0, marginBottom: 0, }, trash: { paddingTop: 2, paddingBottom: 0, marginTop: 0, marginBottom: 0, fontSize: 'larger', float: 'left', }, dismiss: { paddingTop: 2, paddingBottom: 0, marginTop: 0, marginBottom: 0, fontStyle: 'italic', fontSize: 'smaller', float: 'right', }, box: { position: 'fixed', top: 40, right: 10, width: 200, height: 100, overflow: 'auto', paddingLeft: 10, paddingRight: 10, zIndex: 2000, opacity: 0.9, verticalAlign: 'middle', cursor: 'pointer', backgroundColor: '#eeeeee', border: '2px solid #aaaaaa', borderRadius: 8, fontSize: 'small', }, spinner: { position: 'fixed', top: '0.05em', right: '1em', width: '5em', height: '2em', textAlign: 'right', paddingLeft: 0, paddingRight: 0, zIndex: 2000, opacity: 0.9, verticalAlign: 'middle', cursor: 'pointer', fontSize: 'medium', }, dot: { fontSize: 'small', } } const empty = []; /** * @class * @classdesc * **stateful** {@link external:Component|Component} * * Component that receives notifications and displays them in a * little div with fixed position on the screen. * * &lt;img src=&quot;/api/file/tech/docs/design/design.006.jpeg&quot; width=&quot;800&quot;/&gt; */ class Notification extends Component { /** * Upon construction this component registers itself as an object in {@link globals}. * The state consists of the list of messages. */ constructor(props) { super(props); props.notification.component = this this.msgs = []; // synchronous list of messages this.visible = false; } notify(msg) { this.msgs.push(msg); // synchronous addition of msg this.setState({msgs: [...(this.msgs)]}); // asynchronous update of the state } clear() { this.msgs = []; // synchronous clearing of msg this.setState({msgs: []}); // asynchronous update of the state } /** * Collects the parameters to display progress information * @method * @returns {Array} See the input of {@link Notification#render|render} */ computeProgress() { const lastMsg = this.msgs.length -1; let lastNote = -1; let lastKind = 'info'; let busy = 0 this.msgs.forEach((msg, i) =&gt; { if (msg.kind == 'error') {lastNote = i, lastKind = 'error'} else if (msg.kind == 'warning') { if (lastKind != 'error') {lastNote = i, lastKind = 'warning'} } busy += msg.busy || 0; }) if (busy &lt; 0) { console.warn(`SHOULD NOT HAPPEN: negative value for busy ${busy}`); busy = 0; } const visible = this.visible || (lastNote &gt; -1); return [lastMsg, lastNote, lastKind, busy, visible]; } /** * Unobtrusive notification: * * * if all is well, just a little circle fixed in the upper right corner * * if we are waiting for the server: a spinner and a few extra disks for each pending process * * clicking on the circle pops up a message panel * * if there are errors/warnings, the circle changes color and a message panel pops up automatically * * which can be dismissed by clicking on it * * and previous messages can be cleared * * @param {number} lastMsg number of the last message in the panel * @param {number} lastNote number of the last error/warning message in the panel * @param {number} lastKind kind of the last error/warning message in the panel * @param {number} busy: the sum of the individual `busy` attributes of the messages * @param {boolean} visible: whether we should show the panel * @returns {Fragment} */ render() { [this.lastMsg, this.lastNote, this.lastKind, this.busy, this.visible] = this.computeProgress(); const busyBlocks = new Array(this.busy).fill(1); return ( &lt;div&gt; &lt;p style={msgStyle.spinner}&gt; &lt;a title=&quot;show/hide notifications and progress messages&quot; href=&quot;#&quot; className={this.lastNote &gt; -1 ? `spin-${this.lastKind}` : 'spin-ok'} onClick={e=&gt;{e.preventDefault(); this.setView(!this.visible)}} &gt; { busyBlocks.map((b, i) =&gt; &lt;span key={i} style={msgStyle.dot} className=&quot;fa fa-circle&quot;&gt;&lt;/span&gt;) } &lt;span className={`fa fa-${this.busy == 0 ? 'circle-o' : 'spinner fa-spin'}`}/&gt; &lt;/a&gt; &lt;/p&gt; &lt;div ref=&quot;notbox&quot; style={msgStyle.box} onClick={e=&gt;{e.preventDefault(); this.setView(false)}} &gt; { (this.msgs || empty).map((msg, index) =&gt; ( &lt;p key={index} ref={`m${index}`} style={{...msgStyle.line, ...msgStyle[msg.kind]}} &gt;{msg.text}&lt;/p&gt; )) } &lt;p style={msgStyle.dismiss}&gt;(click panel to hide) &lt;/p&gt; &lt;p style={msgStyle.trash}&gt; &lt;a href=&quot;#&quot; title=&quot;clear messages&quot; className=&quot;control fa fa-trash&quot; onClick={e=&gt;{e.preventDefault(); this.clear()}} /&gt; &lt;/p&gt; &lt;/div&gt; &lt;/div&gt; ) } componentDidMount() { this.setView(); } componentDidUpdate() { this.setView(); } /** * Hide/show message panel and scrolls to relevant message. * * @method * @param {boolean} on Whether the message panel should be displayed or not * @returns {DOM} * Hides or shows the div containing the message panel. */ setView(on) { if (on !== undefined) { this.visible = on; } this.refs.notbox.style.display = this.visible ? 'block' : 'none'; this.setScroll(); } setScroll() { if (this.visible) { if (this.lastNote &gt; -1) { this.refs[`m${this.lastNote}`].scrollIntoView(); } else { if (this.lastMsg &gt; -1) { this.refs[`m${this.lastMsg}`].scrollIntoView() } } } } } export default withContext(saveState(Notification, 'Notification', {msgs: null})) × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"object_Provider.jsx.html":{"id":"object_Provider.jsx.html","title":"Source: object/Provider.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: object/Provider.jsx import React, { Component, PropTypes, Children } from 'react' import Store from '../helpers/Store.js'; /** * @class * @classdesc * **stateless, context providing** {@link external:Component|Component} * * ## Providing information to all components * * It is tempting to use the javascript `window` object to store globals * However, we will not do so, because that makes * the data accessible to all the javascript that happens to be injected in the current browsing episode. * * Instead we use the mechanism of React to pass global information * around within all the components of the app. * This information will then not spread further than the components. * * Because the *context* data travels from parent to children and then grandchildren, we need * to make this data available in the ultimate ancestor of all components. * The {@link external:context|context} device of React * consists of a context provider and context receivers. * The provider defines, constructs, and declares properties on *context*. * Every component can become *context* receiver by *subscribing* in a way to * those declared context properties. * Context properties pass directly from provider to receiver, * without intervening components having to do any work. * * This Provider sits at the top of the component tree and provides the property * `globals` (which is an object), on *context*. * * At the receiving side: we do not program our components to * get the globals directly from context. * Instead, we enhance the receiving component by means of * {@link module:hoc.withContext|withContext}. * Once we work with the enhanced component, we may assume that it has an * ordinary property `globals`. * * Inside `globals`, we provide the following items: * * ### Store * * The {@link Store} is a container of component states. * We use it for components with a costly state, that should be preserved when components are swapped in and out from * the user interface. * * See more about the why and how of the store in * {@link external:StatePolicy|State Policy} * and * {@link module:hoc.saveState|saveState}. * * The {@link Store} is not a React * {@link external:Component|component}, * but an ordinary * class. It will have one instance, which will be created in the * {@link external:constructor|constructor()} of Provider. * * ### Notification * * We want one place on the interface for displaying notifications. * Every component that feels the need send a notification should be able to find * the notification component. * * {@link Notification} is a React * {@link external:Component|component}, * but it is not available just here. * It will be created as a sub component of {@link App}. * When that happens, the new {@link Notification} object will * inject assign itself to `globals.notification.component`. */ class Provider extends Component { getChildContext() { const globals = { store: new Store(), notification: {component: null}, }; return {globals} } render() { return Children.only(this.props.children); } } Provider.childContextTypes = { globals: PropTypes.object.isRequired, } export default Provider × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"pure_Stats.jsx.html":{"id":"pure_Stats.jsx.html","title":"Source: pure/Stats.jsx","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: pure/Stats.jsx import React from 'react' const style = { color: '#0000dd', fontSize: 'small', fontWeight: 'normal', } /** * **purely functional** {@link external:Component|Component} * * Displays a string of the form *subTotal* `of` *total*. * If one of the two is missing, the `of` will not display. * * @constructor * @param {number=} subTotal * @param {number=} total * @returns {Fragment} */ const Stats = ({subTotal, total}) =&gt; ( &lt;span style={style}&gt; {subTotal == undefined? '' :`${subTotal}`} {(total == undefined || subTotal == undefined)? '' : ' of '} &lt;strong&gt;{total == undefined?'':`${total}`}&lt;/strong&gt; &lt;/span&gt; ) export default Stats × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"helpers_store.js.html":{"id":"helpers_store.js.html","title":"Source: helpers/store.js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Source: helpers/store.js /** * @class * @classdesc * * ## Backup for State * The Store is a * {@link external:Map|Map} * containing saved * {@link external:Component|component} * states as values paired to keys. * The workflow is * * a component presents itself and a key to the store * and loads data found in the store under that key; * * it saves its state to the store under that key when it unmounts; * * when it remounts, it loads again; * * other components can also inspect and even manipulate saved states, if they * know the key. * * ## Usage * Do not use the Store directly. * Provide it to your component on context by means of the {@link module:hoc.withContext|withContext} enhancer, * and enable its functionality by means of the {@link module:hoc.saveState|saveState} enhancer. * * ## Motivation * See * {@link external:StatePolicy|State Policy} */ class Store { constructor() { this.data = new Map(); } /** * A component loads data from the store, from under a key. * The key can be just any string. If component has multiple instances * that need a separate key, make sure that the instances use different keys. * If there is not yet data there, the components loads an initial state. * This can be passed either as a concrete object, * or as a function that computes an object from props. * * This method is typically called in the * {@link external:constructor|constructor()} * of component. * * @method * @param {Component} component - The component that wants to load state * @param {string} key - Identifier under which the saved state is stored * @param {Object} initialState - The initial state to use for a component */ load(component, key, initialState) { if (this.data.has(key)) { component.state = this.data.get(key) } else { component.state = initialState; } } /** * A Component saves its state in the store under key. * Typically, save() is called in the * {@link external:componentWillUnmount|componentWillUnmount()} * of component. * * @method * @param {Component} component - The component that wants to save state * @param {string} key - Identifier under which the saved state is stored */ save(component, key) { this.data.set(key, component.state) } /** get(key) * Retrieve state from under a given key without loading it into a component state. * * **NB**: whoever has retrieved a saved state, can modify its inner parts, * so that the owner component of this state will feel the changes when it loads them. * As an example, you could use this to emit notifications before the {@link Notification} * component mounted. * * @method * @param {string} key - Identifier under which the saved state is stored * @returns {Object} The saved state object from the store found under `key` */ get(key) { if (!this.data.has(key)) { this.data.set(key, {}); } return this.data.get(key) } } export default Store × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"global.html":{"id":"global.html","title":"Global","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Global Type Definitions Component Type: external:Component Source: info/react.js DOM Type: external:DOM Source: info/es6.js Fragment Type: external:Fragment Source: info/react.js Map Type: external:Map Source: info/es6.js Message Type: Object Properties: Name Type Description kind string one of the values error, warning, good, special, info text string the plain text of the message busy number an number that will be added by getData: +1 at the start of a request, -1 when the waiting is over; the Notification object can use busy for displaying progress indication. NB: The server does not supply the busy attribute, only getData does. Source: info/info.js Promise Type: external:Promise Source: info/es6.js Result Type: Object Properties: Name Type Description data string the actual payload of the data transfer; this is what the component needs to have to do its work messages Array.&lt;Message&gt; messages issued at the server side when carrying out the request good boolean whether the server has successfully carried out the request Source: info/info.js Source Type: Object Properties: Name Type Description type string either db (mongo db access, results delivered as json) json (file contents delivered as json)This part will be put after the root url for fetching. path string the remaining path to the controller function on the server branch string once the data has been fetched, it has to go somewhere. It will go into the state of the requesting component, where it will be assigned to the key given in branch. receive the fetched data Source: info/info.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Modules Classes Alternatives App ByValue CheckboxI Contrib Contribs ContribsFiltered DocHtml DocPdf Facet FilterCompute FullText Login DocMd Doc EUMap Filters NavLink NotFound Notification Provider Stats Store × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Classes Classes Alternatives App ByValue CheckboxI Contrib Contribs ContribsFiltered DocHtml DocPdf Facet FilterCompute FullText Login DocMd Doc EUMap Filters NavLink NotFound Notification Provider Stats Store × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"externals.list.html":{"id":"externals.list.html","title":"Externals","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Externals Classes Alternatives App ByValue CheckboxI Contrib Contribs ContribsFiltered DocHtml DocPdf Facet FilterCompute FullText Login DocMd Doc EUMap Filters NavLink NotFound Notification Provider Stats Store × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy DARIAH InKind Assessment Tool The tool is in beta and currently live. General about information: live, in this repo Technical Documentation: live, in this repo Deployment: live, in this repo Diagrams: live, in this repo Index info/info.js Technical DocumentationSuggested starting points main App This file does not contain javascript code. Source: info/info.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"Alternatives.html":{"id":"Alternatives.html","title":"Class: Alternatives","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Alternatives Alternatives stateful Component Displays one of a list of alternatives and let the user cycle through the alternatives. Handy for: show/hide a component: pass as alternatives: [component, &lt;div&gt;] view alternative representations of a resource, e.g.[ &lt;div&gt;{MarkDownSource}&lt;/div&gt;, &lt;div&gt;{FormattedDoc}&lt;/div&gt; ] The state maintains the number of the currently chosen alternative. It resides in state.alt. new Alternatives() Source: state/Alternatives.jsx Methods next(tag, alternatives, initial) Parameters: Name Type Description tag string An extra identification, to distinguish this instance of the class from others. The tag will be used when the state of this component must be saved or loaded. NB: The tag property will be injected into Alternatives by the saveState component enhancer. alternatives Array.&lt;Component&gt; A list of components to choose from initial number The number of the initial alternative to be displayed Source: state/Alternatives.jsx Returns: Updates the state: increases state.alt (the number saying which alternative is active). The increase is done cyclically modulo n = the number of alternatives. Type void render(alternatives, controls, initial, controlPlacement) Parameters: Name Type Description alternatives Array.&lt;Component&gt; A list of components to choose from controls Array.&lt;Fragment&gt; A list of DOM fragments that act as controllers. control[i] corresponds to alternative[i] and is displayed with it. Every individual control must be given as a function handler =&gt; fragment. When the controls are placed, the control functions will be passed the next method in this class, so that a click on the control eventually translates to a call of next. initial number The number of the initial alternative to be displayed controlPlacement function A function to put the control in place for each alternative. In this way the caller can fine tune how exactly the control appears in relation to the alternative component. Source: state/Alternatives.jsx Returns: The chosen alternative with its control. Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:42+01:00 using the DocStrap template. "},"App.html":{"id":"App.html","title":"Class: App","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: App App new App(children) purely functional Component Top level interface componentAs far as the web page is concerned, this is the top level component. Technically, there are only some router components and ultimately the Provider component above it. Permanent navigation widgetApp is always in view and consists of the top navigation bar (with logo, Login, and Notification) right navigation bar (with navigation links to the components of the app and documentation). Parameters: Name Type Description children Array.&lt;Component&gt; The children of this component as specified in the route where App is called Source: pure/App.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"ByValue.html":{"id":"ByValue.html","title":"Class: ByValue","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: ByValue ByValue new ByValue(filterId, filterField, fieldValues, filterSettings, filteredAmount, filteredAmountOthers, amounts, maxCols, updFilter) purely functional Component A widget by which the user can click the facets associated with one field. There is also a collective checkbox, by which the user can check or uncheck all facets in one go. All values that occur are displayed, with statistics in the form subtotal of total. Note on performanceThere is a subtlety here. When we have the facets, we want to lay them out in a grid. That work needs only be done upon construction, and not for state updates in response to user events on the filters. So we want to do the grid computation placeFacets once, in an initialization stage, e.g. in the constructor(). But it turns out that for the visual performance it does not matter. This is the virtue of React: the code for rendering just constructs a Fragment, not the real DOM. The computation inside placeFacets is just a little bit of juggling with tiny datastructures, so the fragment is constructed in no time. See Reconciliation. Parameters: Name Type Description filterId number The index of the filter in filterList filterField string The name of the field in the contribs list whose values are being filtered fieldValues Map A mapping of the valueIds to valueRepresentations for all values that occur in filterField filterSettings Map The current state of the facets belonging to this filter filteredAmount number The number of rows that have passed all filters filteredAmountOthers number The number of rows that have passed all other filters amounts Map The number of rows that have passed all filters per valueId occurring in this field maxCols number The maximum number of columns to use when placing facets in a grid updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: pure/ByValue.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"CheckboxI.html":{"id":"CheckboxI.html","title":"Class: CheckboxI","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: CheckboxI CheckboxI stateless, DOM-modifying Component Displays a collective checkbox for a filter with many facets. Clicking on this box will collectively check and uncheck all associate checkboxes. This checkbox can have an indeterminate state, if some but not all of the associate checkboxes are checked. We have to resort to a DOM manipulation after rendering to get the indeterminate state across. new CheckboxI() Source: object/CheckboxI.jsx Methods render(states, filterId, updFilter) Parameters: Name Type Description states Array.&lt;boolean&gt; Exactly two booleans, indicating whether the associate checkboxes are all checked or all unchecked filterId number The index of the filter in filterList updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: object/CheckboxI.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Contrib.html":{"id":"Contrib.html","title":"Class: Contrib","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Contrib Contrib new Contrib(row) purely functional Component Displays a contribution record in a table row. Just the title. Parameters: Name Type Description row Object A record of data from the contributions table Source: pure/Contrib.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Contribs.html":{"id":"Contribs.html","title":"Class: Contribs","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Contribs Contribs new Contribs(filteredData) purely functional Component Displays the list of contributions as a table. Only the rows that have passed all filters. Parameters: Name Type Description filteredData Array.&lt;Object&gt; The list of rows to be displayed Source: pure/Contribs.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"ContribsFiltered.html":{"id":"ContribsFiltered.html","title":"Class: ContribsFiltered","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: ContribsFiltered ContribsFiltered stateful Component Displays one of a list of alternatives and lets the user cycle through the alternatives. new ContribsFiltered() Source: state/ContribsFiltered.jsx Methods componentDidMount(contribs, countries) Parameters: Name Type Description contribs Array.&lt;Contrib&gt; (from state) The list of contribution records as it comes form mongo db countries Map (from state) The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. Source: state/ContribsFiltered.jsx Returns: The data fetched from the server. Type Object render(contribs, countries) Calls compileFiltering before the actual rendering. Parameters: Name Type Description contribs Array.&lt;Contrib&gt; (from state) The list of contribution records as it comes form mongo db countries Map (from state) The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. Source: state/ContribsFiltered.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"DocHtml.html":{"id":"DocHtml.html","title":"Class: DocHtml","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: DocHtml DocHtml new DocHtml(docDir, docName, docExt) purely functional Component Displays an HTML document by linking to it in an IFRAME. Parameters: Name Type Description docDir string the directory part of the location of the document docName string the name part (without extension) of the location of the document docExt string the extension the document Source: pure/DocHtml.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"DocPdf.html":{"id":"DocPdf.html","title":"Class: DocPdf","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: DocPdf DocPdf new DocPdf(docDir, docName, docExt) purely functional Component Displays a PDF document by linking to it in an OBJECT. NB: On iOS this does not work well, only the first page of the PDF gets shown, we work around it by just displaying a link to open the PDF in a new tab. We only do that when we detect an iOS browser. Parameters: Name Type Description docDir string the directory part of the location of the document docName string the name part (without extension) of the location of the document docExt string the extension the document Object Source: pure/DocPdf.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Component.html":{"id":"external-Component.html","title":"External: Component","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Component React~ Component React ComponentsReact components represent pieces of the web page and their functionality. Components are organized hierarchically. Components can be parametrized by properties, which parents pass to children. A component acts as a template instruction to build a piece of DOM. Components can be programmed as classes or as functions. In both cases they can be given the types. of their incoming properties as metadata. In this app we distinguish between three capability levels of components. Pure componentsIf a component knows how to build the DOM, purely on the basis of its properties and a static template, it can be (and will be) coded as a pure function. We put all these components in a directory called pure. DOM-manipulating componentsIf a component has to handle the DOM after it has been constructed, e.g. apply some hiding and showing, fill a div with a third party component, then we need to program the component as a class with so-called life cycle methods. We put all these components in a directory called object. Stateful componentsIf a component maintains a state, it is stateful. We need to program this as a class, like in the previous case. Stateful components may or may not manipulate the DOM. We put all these components in a directory called state. Source: info/react.js See: Component Examples pure component const Widget = ({shape, children}) =&gt; &lt;div className={shape}&gt;{children}&lt;/div&gt; object component (DOM) class Widget extends Component { render() { const {typed} = this.props; return ( &lt;input ref=&quot;user&quot; type=&quot;text&quot; value={typed}/&gt; ) } componentDidUpdate() { this.refs.user.value = this.props.typed } stateful component class Widget extends Component { constructor() { super(); this.state = {data: []} } render() { return ( &lt;div&gt; {this.state.data.map((line, i) =&gt; &lt;p key={i}&gt;{line}&lt;/p&gt;) &lt;/div&gt; ) } componentDidMount() { const newData = getData(); this.setState(data: newData); } } × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-componentDidMount.html":{"id":"external-componentDidMount.html","title":"External: componentDidMount","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: componentDidMount React~ componentDidMount When a component has been added to the DOM this method will be called just after. This is the recommended time to fetch data for this component, if needed. Source: info/react.js See: componentDidMount() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-componentDidUpdate.html":{"id":"external-componentDidUpdate.html","title":"External: componentDidUpdate","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: componentDidUpdate React~ componentDidUpdate When a component has been updated due to receiving new properties, this method will be called just after. If DOM manipulations are needed to complete the rendering, this is the place to do it. NB:* This will not called upon initial rendering, so if the DOM manipulation is also needed initially, it is handy to write a function for it and call it in this method and in external:componentDidMount:componentDidMount(). Source: info/react.js See: componentDidUpdate() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-componentWillMount.html":{"id":"external-componentWillMount.html","title":"External: componentWillMount","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: componentWillMount React~ componentWillMount When a component will be added to the DOM, this method will be called just before. This is the first thing that happens after constructor(). Source: info/react.js See: componentWillMount() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-componentWillReceiveProps.html":{"id":"external-componentWillReceiveProps.html","title":"External: componentWillReceiveProps","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: componentWillReceiveProps React~ componentWillReceiveProps When a component is about to receive new props (as part of the update process), this method will be called just before. The new props are passed with it, so that it is possible to execute actions dependent on whether pros have changed. Source: info/react.js See: componentWillReceiveProps() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-componentWillUnmount.html":{"id":"external-componentWillUnmount.html","title":"External: componentWillUnmount","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: componentWillUnmount React~ componentWillUnmount When a component will be removed from the DOM, this method will be called just before. If we want to save state, we can hook it up here. Source: info/react.js See: componentWillUnmount() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-constructor.html":{"id":"external-constructor.html","title":"External: constructor","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: constructor React~ constructor When a component is being rendered this is the method to construct the corresponding React class. It will set up the state. Source: info/react.js See: constructor() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-context.html":{"id":"external-context.html","title":"External: context","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: context React~ context React mechanism to pass data directly from ancestors to deep descendants. The React documentation considers context as a brittle part of itself, and warns against over-use. At the same time, Redux depends critically on it, so I consider it safe to use. By wrapping the syntax of the React context mechanism into an enhancer, we can survive API changes more easily. See withContext. Source: info/react.js See: context × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-ControlledComponent.html":{"id":"external-ControlledComponent.html","title":"External: ControlledComponent","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: ControlledComponent React~ ControlledComponent For elements that can receive user input (forms, inputs, etc) there is the option to handle input in a way controlled by React, and not by the default HTML behaviour. So when a user clicks a checkbox, the check is not managed by the browser, but a callback is called, a parent component executes it, state gets updated, state changes trickle down as property updates to child elements, and the checkbox in question is told to be checked (or unchecked). Source: info/react.js See: Forms × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-DOM.html":{"id":"external-DOM.html","title":"External: DOM","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: DOM ES6~ DOM The internal representation of the html page rendered in the browser, is called the DOM (Document object model). It is a tree that reflects the tree of the HTML elements. To this tree, a lot of data and methods are attached, such as styles, events, custom date. The DOM is an expensive object to create and to update. React can be seen as a library to manage complex DOM manipulations in a performant way. See Reconciliation. Source: info/es6.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Fragment.html":{"id":"external-Fragment.html","title":"External: Fragment","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Fragment React~ Fragment A compact internal representation of the external:DOM, made from React elements. A React element is an instance of the React Element class. In jsx you can refer to a React element just by saying &lt;p&gt;foo&lt;/p&gt;React elements reflect HTML elements, but you can mingle them with React components, which look nearly the same in jsx: &lt;p&gt; &lt;NavLink to=&quot;/data&quot;&gt;bar&lt;/NavLink&gt; &lt;/p&gt;A fragment is such a mixture of properly nested React elements and components. It is part of the React's toolkit to manage DOM manipulations efficiently. See Reconciliation. Source: info/react.js See: Fragments × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-LifeCycle.html":{"id":"external-LifeCycle.html","title":"External: LifeCycle","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: LifeCycle React~ LifeCycle The main function of a component is to act as a template to be rendered. But if there is additional work to be done, this can be hooked up at various stages in the component's lifecycle. Most stages occur during (re)rendering, and there is a stage of construction and unmounting. Source: info/react.js See: Lifecycle Methods × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Map.html":{"id":"external-Map.html","title":"External: Map","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Map ES6~ Map ES6 datastructure to contain key-value pairs. One could also use plain objects for this, but Maps are cleaner in a number of respects. Source: info/es6.js See: Map × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Promise.html":{"id":"external-Promise.html","title":"External: Promise","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Promise ES6~ Promise ES6 datastructure to contain the result of an asynchronous function. It has as state that is either pending, failed or resolved. Once the state is failed or resolved, it will not change anymore. If the state is resolved, the return value is available, and will not change anymore. The typical way to use a promise is const dataStore = {}; const getData = url =&gt; fetch(url); // assuming that fetch returns a Promise, we can then say getData('/api/blob/23'). then( blob =&gt; {dataStore.url = blob}, error =&gt; console.error(error), )See e.g. getData() Source: info/es6.js See: Promise × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-PropTypes.html":{"id":"external-PropTypes.html","title":"External: PropTypes","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: PropTypes React~ PropTypes Type checking for React components. Proptype checking in react only happens in development mode. React checks whether the named props that are passed to a component correspond to the props declared. In addition, it performs a basic type check on the values inside those props. I find the PropType syntax verbose, and no match for the otherwise clean and pleasant syntax of JSX. Additionally, most of the mistakes I make, do not reveal themselves as value type mistakes. On top it this all: declaring PropTypes forcres you to repeat all the names of your proptypes, so is against the principle of do't repeat yourself. In this application, the property names are always clear in the code, either as const MyComponent = ({foo, bar)} =&gt; ...or as const {foo, bar} = this.propsMoreover, I describe the types and meaning of the properties also in nearby jsdoc comments. That should suffice. Source: info/react.js See: PropTypes × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Recompose.html":{"id":"external-Recompose.html","title":"External: Recompose","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Recompose hoc~ Recompose A set of functional programming tools, geared to React. The idea is to enhance simple components by functional composition. I am not (yet) using this library, because my cases were really simple. See withContext and setState. Source: helpers/hoc.js See: Recompose × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Reconciliation.html":{"id":"external-Reconciliation.html","title":"External: Reconciliation","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Reconciliation React~ Reconciliation React renders updates to components very efficiently. The render() function is a template for a element fragment, not the real DOM. So, after an update, it is not costly to recompute the fragment for that component completely, because the DOM is not touched. Once the new fragment has been constructed, a clever, React-internal process called reconciliation is carried out, which computes the minimum number of update actions that have to be applied to the previous, real DOM incarnation of the component, to change it to match the new fragment. As an example where we rely on the efficiency of reconciliation, see ByValue. Source: info/react.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Redux.html":{"id":"external-Redux.html","title":"External: Redux","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Redux React~ Redux Central StateThis is a popular implementation of the idea that state is centralized and all components have to subscribe to a state provider, the store. If a component needs to update the state, it dispatches an action to the store. So-called reducers translate the action into a state update. And then the component can re-render. Using Redux requires a lot of extra code in actions and reducers, which get separated from the components for which it is used. The plain React alternative is setState(), our alternative is local state plus backup. Source: info/react.js See: Redux × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-render.html":{"id":"external-render.html","title":"External: render","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: render React~ render The main function of a component is to act as a template to be rendered. During rendering the template will be used as a set of instructions to build a real DOM somewhere on the actual web page. Source: info/react.js See: render() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-Routing.html":{"id":"external-Routing.html","title":"External: Routing","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: Routing React~ Routing RoutingReact-router is a convenient library to manage the connection between the url and the part of your app that should be active in response to it. &lt;Router history={browserHistory}&gt; &lt;Route path=&quot;/&quot; component={App}&gt; &lt;Route path=&quot;about&quot; component={About} /&gt; &lt;Route path=&quot;contribs&quot; component={Contribs} /&gt; &lt;/Route&gt; &lt;/Router&gt;The router and its routes are basically React components. But they come loaded with some extra behaviour. Basically, when a route is rendered, it checks its path attribute with the current url. If it matches, it renders itself. Otherwise, it does not mount, or if it was mounted, it will unmount. Several tricks are employed to make this a really useful library. See API documentation. However, precisely because of this repeated mounting and unmounting caused by routing events, the need arises for components to save their states. Especially the ones with a costly state. See the remarks on the state policy. Source: info/react.js See: https://github.com/ReactTraining/react-router × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-setState.html":{"id":"external-setState.html","title":"External: setState","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: setState React~ setState Local StateThe vanilla React way is that components have their own state, which only they can modify through setState(). But even in React, state is not completely local, because in many cases several components need to have access to the state. The preferred way of dealing with that is to lift state up to the nearest common ancestor of all components that need the state. Descendants that must modify ancestral state are passed a callback to do so. A widely used approach to central state is Redux, our alternative is local state plus backup. Source: info/react.js See: setState() × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-state.html":{"id":"external-state.html","title":"External: state","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: state React~ state StateThere are two main reasons for a component to maintain state: getting external data reacting to user events In both cases, something happens in the outside world that must be remembered. Components remember these things in their state, which only they can update. They can compute derived data from their state and pass that as properties to their children. State updates trigger these computations automatically, and children whose properties are dependent on this state, are rerendered automatically (and economically). See also components. Source: info/react.js See: https://facebook.github.io/react/docs/state-and-lifecycle.html × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"external-StatePolicy.html":{"id":"external-StatePolicy.html","title":"External: StatePolicy","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy External: StatePolicy StatePolicy Local with backupThis app manages state locally through setState() but with the enhancement that components can save state in a global store. So, we do not adopt the full Redux approach, but we borrow just one idea from it: a central store of state. Our components will use that store not for normal state updates, but only when they unmount or mount Why local state?We want to keep the pieces of business logic close to the component that deals with them. We want to avoid the extra book keeping of actions and labels that Redux requires. Why back up state?Not all components can be kept on the interface all the time. But stateful components may harbour costly state: big data tables from a server, or lots of user interaction events, e.g. the faceted filter settings. When the user routes back to a component with state, we want to restore the last state before the user left the component. Source: info/info.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Facet.html":{"id":"Facet.html","title":"Class: Facet","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Facet Facet new Facet(filterId, valueId, valueRep, cheked, updFilter) purely functional Component Displays a single facet. Just a checkbox and a value representation. The clicks received by the checkbox are passed upwards by means of a callback. Note that we use the strategy of controlled components here. Parameters: Name Type Description filterId number The index of the filter in filterList valueId number The id of the value that is displayed in this facet valueRep string The string representation of the value of this facet (the label next to the checkbox) cheked boolean Whether the checkbox is checked updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: pure/Facet.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"FilterCompute.html":{"id":"FilterCompute.html","title":"Class: FilterCompute","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: FilterCompute FilterCompute stateful Component Parent component of all filters. The filter state (filterSettings) are maintained here. new FilterCompute() Source: state/FilterCompute.jsx Methods render(filterSettings, countries, updFilter) Calls computeFiltering before the actual rendering. Parameters: Name Type Description filterSettings Map (from state) The current state of the facets belonging to this filter countries Map The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: state/FilterCompute.jsx Returns: Type Fragment Type Definitions updFilter User events received by children should use this callback to trigger state updates here. The callback collects a few pieces of information, which it passes to newFilterSettings to update the state. Source: state/FilterCompute.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"FullText.html":{"id":"FullText.html","title":"Class: FullText","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: FullText FullText new FullText(filterId, filterField, filterSettings, filteredAmount, filteredAmountOthers, updFilter) purely functional Component Displays a full text search input field. The characters entered in this field are passed upwards by means of a callback. This is incremental search! Not only the full text search, but also all other filters are computed upon each character entered. Note that we use the strategy of controlled components here. Parameters: Name Type Description filterId number The index of the filter in filterList filterField string The name of the field in the contribs list whose values are being filtered filterSettings string The currently entered search string in the input box filteredAmount number The number of rows that have passed all filters filteredAmountOthers number The number of rows that have passed all other filters updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: pure/FullText.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Login.html":{"id":"Login.html","title":"Class: Login","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Login Login stateful Component new Login() Source: state/Login.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-data.html":{"id":"module-data.html","title":"Module: data","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: data Data fetchingAll data access to the mongo db at server side takes place by functions in this module. Source: helpers/data.js Members &lt;inner, constant&gt; rootUrl The client fetches data by means of Ajax calls to `/api' plus additional paths. Source: helpers/data.js Methods &lt;static&gt; getData(sources, component, notification) A component may request for a number of data queries in one go. Every query is specified as Source object in the parameter sources. The expected response is always a json Result object. Parameters: Name Type Description sources Array.&lt;Source&gt; List of data sources to fetch component Component Component for which to fetch data notification Object The Notification component that receives error/progress messages Source: helpers/data.js Returns: This is an asynchronous call. The fetched data comes in as a promise, to with getData attaches .then handlers, which will be new promises. If the fetch is successful, the resolved data will added to the state[branch] of component. Progress and error messages from the server appear in the fetched json as messages. If the fetch itself failed, we handle it by transforming the error into a message. All messages generated in the process will be send to the notification component. Type Promise × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-Doc.html":{"id":"module-Doc.html","title":"Module: Doc","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: Doc Source: pure/Doc.jsx Classes Doc Members &lt;inner, constant&gt; docType The document types that can be handled by the Doc component. md stands for MarkDown. Source: pure/Doc.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-DocMd.html":{"id":"module-DocMd.html","title":"Module: DocMd","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: DocMd Source: state/DocMd.jsx Classes DocMd Methods &lt;inner&gt; RouterLink() A handler for links in the MarkDown source. It makes it possible to write MarkDown documents with internal links to this application. A full link (with protocol http(s) is translated to a plain HTML a element, so it will leave this application. Other links are translated to Link elements for the router. Source: state/DocMd.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-DocMd-DocMd.html":{"id":"module-DocMd-DocMd.html","title":"Class: DocMd","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: DocMd DocMd~ DocMd stateful Component Component to show MarkDown text, coming from files on the server. The conversion to HTML is done client side, and the user gets a control to switch between MarkDown source and formatted HTML. new DocMd() Source: state/DocMd.jsx Methods fetchText(docDir, docName, docExt) Fetches a markdown document from the server, packaged as string in a JSON object. Parameters: Name Type Description docDir string the directory part of the location of the document docName string the name part (without extension) of the location of the document docExt string the extension the document Source: state/DocMd.jsx render(docName) Parameters: Name Type Description docName string the name part (without extension) of the location of the document Source: state/DocMd.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-Doc-Doc.html":{"id":"module-Doc-Doc.html","title":"Class: Doc","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Doc Doc~ Doc new Doc(params, route) purely functional Component Displays a document. Depending of the type of document, a specialized Doc class will be invoked. Parameters: Name Type Description params Object The parameters generated by the route that rendered this component route Object The route that rendered this component Source: pure/Doc.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-ES6.html":{"id":"module-ES6.html","title":"Module: ES6","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: ES6 ES6 Documentation references. This file does not contain javascript code. Source: info/es6.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-EUMap.html":{"id":"module-EUMap.html","title":"Module: EUMap","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: EUMap A complex component! It is a facet filter for the field country, and it contains a map of Europe, visualizing by means of markers, how the filter result is distributed over the DARIAH countries. Both ingredients of this component are brought together not by class extension but by functional composition. The country facet filter is a true react component. The map is a Leaflet module on a blank pane, with a geojson file of country boundaries laid out on it. The map is not react aware, it will be rendered in its own div. Remember that the results of filter computation descend from a stateful parent into the present component. So, whenever we receive new props, we manipulate the leaflet map and adjust the markers on it. More precisely, since we do not have to manipulate state, we put the marker updates in the componentDidMount() and componentDidUpdate() life cycle methods of React. At those moments we know that the DOM elements that must be rendered have mounted, so the map exists, and we can put the markers there. Source: object/EUMap.jsx Classes EUMap Methods &lt;inner&gt; computeRadius(iso2, filteredAmountOthers, amounts) Compute Marker RadiusWhen we know the filter results per country, we can put markers on countries with a radius in proportion to their scores. However, if the scores are very far apart, either the small markers get invisible, or the big markers get too big. We mitigate this effect, by using proportional radii only for values below a certain threshold (LEVEL_OFF). For higher values we essentiall take the square root. Parameters: Name Type Description iso2 string Two-letter country code, see ISO 3166-1 alpha-2 filteredAmountOthers number how many rows pass all other filters amounts Map filteredAmountOthers, but more specific: the amounts per faceted value Source: object/EUMap.jsx Returns: the desired radius for this country Type number &lt;inner&gt; inDariah(feature, countries) Parameters: Name Type Description feature Object A feature (i.e. a country) in thegeojson file of European countries countries Map The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. Source: object/EUMap.jsx Returns: Whether the country in question is a member of DARIAH. Type boolean × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-EUMap-EUMap.html":{"id":"module-EUMap-EUMap.html","title":"Class: EUMap","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: EUMap EUMap~ EUMap stateless, DOM-modifying Component An ordinary faceted filter on the country field plus a container for the map, with life cycle methods to place and update markers when the filter results have changed. new EUMap() Source: object/EUMap.jsx Methods componentDidMount(filterSettings, filteredAmountOthers, amounts`, countries) After the initial mount we get the country data and perform initializations that depend on that information: we put the map in place we put the country boundaries on the pane we add markers, style them, and maintain references to them These do not have to be repeated after subsequent updates. Parameters: Name Type Description filterSettings Map the current settings of the country facets filteredAmountOthers number how many rows pass all other filters amounts` Map filteredAmountOthers, but more specific: the amounts per faceted value countries Map The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. Source: object/EUMap.jsx Returns: Type DOM componentDidUpdate(filterSettings, filteredAmountOthers, amounts`) After getting new filter results, the only thing we have to do is to update the marker radii update the marker colors Parameters: Name Type Description filterSettings Map the current settings of the country facets filteredAmountOthers number how many rows pass all other filters amounts` Map filteredAmountOthers, but more specific: the amounts per faceted value Source: object/EUMap.jsx Returns: Type DOM render(countries, byValueProps) render() just invokes the ByValue component with the right parameters to get the country facets. And it puts a div in place that will receive the map. Parameters: Name Type Description countries Map This parameter is not used, but mentioned to select all the other parameters to pass on byValueProps Array.&lt;Object&gt; The remaining properties, to be passes to the {ByValue} component. Source: object/EUMap.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-europe_geo_js.html":{"id":"module-europe_geo_js.html","title":"Module: europe_geo_js","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: europe_geo_js European country borders Source: helpers/europe.geo.js Members &lt;static, constant&gt; countryBorders Contains low resulution geographical coordinates of borders of European countries. These coordinates can be drawn on a map, e.g. by Leaflet. More information, and the computation itself is in countries.ipynb a Jupyer notebook that you can run for yourself, if you want to tweak the resolution and precision of the border coordinates. Source: helpers/europe.geo.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-filtering.html":{"id":"module-filtering.html","title":"Module: filtering","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: filtering Filters and FacetsThe big contribution list can be filtered by any number of filters. This module contains helpers to set up the filtering and compute the results. The list of available filters is in Filters. Source: helpers/filtering.js Methods &lt;static&gt; compileFiltering(contribs, filterList) Compiling FiltersThe compile stage inspects all data rows and sets up facets according to the values that actually occur in the data. The goal is to collect all the information that is needed to display the filters and give them an initial state. The filter state is represented as follows: a search string for each fullText filter (initially empty) for every faceted field: a mapping from each of its valueIds to true (representing that every facet of that field is checked) to this mapping we add a -none- value, with the intention that it matches those rows that do not have values in this field. Parameters: Name Type Description contribs Array.&lt;Contrib&gt; The list of contribution records as it comes form mongo db filterList Array The list of available filters, statically imported from the Source: helpers/filtering.js Returns: fieldValues - a mapping of the valueId to the valueRepresentation of all values that have been encountered in the field of the contribs rows Type Map filterInit - a mapping that maps the filterId of each available filter to initial filterSettings for that filter, i.e. the situation that the user has not yet started using the filters Filters component. Type Map &lt;static&gt; computeFiltering(contribs, filterList, fieldValues, filterSettings) Computing Filters Parameters: Name Type Description contribs Array.&lt;Contrib&gt; as in compileFiltering filterList Array as in compileFiltering fieldValues Map as in compileFiltering filterSettings Map a Map of filters to their current settings Source: helpers/filtering.js Returns: filteredData - the sublist of contribs, the rows that pass all filters Type Map filteredAmountOthers - a mapping that indicates for each filter how many rows pass all other filters Type Map amounts - a mapping like filteredAmountOthers, but more specific: it splits the amount per faceted value With filteredData.length, filteredAmountOthers, amounts we have exactly the right numbers to render the &quot;(nn of mm)&quot; statistics on the user interface next to each filter and facet. Type Map &lt;static&gt; newFilterSettings(filterSettings, filterId) Updating Filter StateThe task for this function is to generate a new state, based on the current state and a user event. It is, in the Redux sense, a reducer. We take care that the new state is a shallow copy of the old state, in such a way that every inside object that contains a mutated element is replaced by a shallow copy. So if the old state is state = { x: { a: [1], b: [2] }, y: { a: [3], b: [4] }, }and we want to change state.y.b = [4,5]we do not say: state.y.b.push(5)Instead, we produce a new state like this newstate = { x: state.x, // we reuse this part y: { a: state.y.a, // we also reuse this part b: [4, 5], // this is new }, }So, newstate is a new object, and so is newstate.y and newstate.b. We need to do this, so React can compare the old and new state efficiently and make the minimum number of changes to the DOM to reflect the new state. The cases are: if the filter is FullText: data is a string: the search string entered if the filter is a Facet: data is an object {valueId, boolean}: which value has been checked or unchecked; data is a boolean: when all values have been checked or unchecked in one go Parameters: Name Type Description filterSettings Map as in computeFiltering filterId number the id of the filter that fired an event Source: helpers/filtering.js Returns: freshFilterSettings - the nature of the event Type Map &lt;static&gt; placeFacets(field, fieldValues, maxCols) Places the facets of a field in a table with at most maxCols columns. For example, if you have 20 facets, and want to save space, you can put them in three columns of 7 facets each, with the last column containing only 6. NB: if you want to put say 12 facets in 8 columns, the function discovers first that it needs two rows and then that it can place those facets in to 2 rows of only 6 columns. It will do so. Thus, the maxCols parameter specifies an upper limit, but the outcome might be less than so many columns! Parameters: Name Type Description field string the field name fieldValues Map the facets as mapping from valueIds to valueRepresentations maxCols number the maximum number of columns in the resulting table Source: helpers/filtering.js Returns: A table (nested array) of facets, ordered by facet value, vertical first. Type Array &lt;static&gt; testAllChecks(filterSettings) The facets of a field can be checked and unchecked collectively by a collective checkbox. If not all facets are checked, and not all facets are unchecked, the collective checkbox should be in an indeterminate state. Parameters: Name Type Description filterSettings Map a Map of filters to their current settings Source: helpers/filtering.js Returns: Two booleans: are they all checked? are they all unchecked? Type Object &lt;inner&gt; countFacets(field, fieldValues, rows) Performs a facet count for a specific filter, in order to determine how many hits each facet has in a given set of rows. countFacets = (field, fieldValues, rows) =&gt; (facetAmounts) Parameters: Name Type Description field string the field name fieldValues Map the facets as mapping from valueIds to valueRepresentations rows Array the data rows to look through Source: helpers/filtering.js Returns: A mapping from valueIds to the number of times they occurred. Type Map &lt;inner&gt; facetCheck(field, facetValues) Performs a facet filter action in field and delivers the result as a {boolean} function of rows. When the none of the facets have been checked, we do not have to inspect the rows: we deliver x =&gt; false, the &quot;is always false&quot; function. Parameters: Name Type Description field string the field name facetValues Map the facets as mapping from valueIds to whether they are checked Source: helpers/filtering.js Returns: A truth function characterizing the lookup result Type function &lt;inner&gt; fullTextCheck(field, term) Performs full text lookup in field and delivers the result as a {boolean} function of rows. When the search term is empty, we do not have to inspect the rows: we deliver x =&gt; true, the is always true function. Parameters: Name Type Description field string the field name term term the search term Source: helpers/filtering.js Returns: A truth function characterizing the lookup result Type function × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-Filters.html":{"id":"module-Filters.html","title":"Module: Filters","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: Filters Source: pure/Filters.jsx Classes Filters Members &lt;static, constant&gt; filterList Filter inventoryThe following types of filters are implemented. FullText: Search in a textual field for a pattern. The pattern is entered by the user, the search is incremental, after each keystroke the results are updated. ByValue: Faceted search for values of a specific field. EUMap: Faceted search on country, together with a map visualization Here we store the list of the available filter types and their characteristics. Every entry contains a few items: the component class associated with it its name (as string) the name of the data field it is filtering how many columns the grid of facets may have. filterList is used here and imported by module:filtering Source: pure/Filters.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-Filters-Filters.html":{"id":"module-Filters-Filters.html","title":"Class: Filters","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Filters Filters~ Filters new Filters(filterSettings, fieldValues, filteredAmount, filteredAmountOthers, amounts, countries, updFilter) purely functional Component All filter computations have been done by stateful parent components, such as FilterCompute. The filter results are being passed down as properties. The incoming properties can be divided into fieldValues (which facets are there per filter?) filterSettings (what has the user typed or clicked?) filteredAmount, filteredAmountOthers, amounts (what are the statistics of the filtering?) updFilter (callback coming from a stateful parent, to be passed to children that receive user events) countries (extra information for the EUMap filter) The outgoing properties are mostly the same, except that each individual filter gets only the slice it needs. This function merely selects the right filter component and calls it with the appropriate props. Whereas the incoming props contain information for all filters, each individual child filter is passed the relevant slice only. Parameters: Name Type Description filterSettings Map The current state of the facets belonging to this filter fieldValues Map A mapping of the valueIds to valueRepresentations for all values in all filtered fields filteredAmount Array.&lt;Object&gt; The number of rows that have passed all filters filteredAmountOthers Map For each filter, the number of rows that have passed all other filters amounts Map For each filter, the number of rows that have passed all filters per valueId occurring in that field countries Map The country information as fetched from the database on the server. Organized as a {Map} keyed by Two-letter country codes. updFilter FilterCompute#updFilter Callback to update the state when user event has occurred Source: pure/Filters.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-hoc.html":{"id":"module-hoc.html","title":"Module: hoc","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: hoc Higher Order ComponentsReact embraces a functional paradigm, where you enhance existing components by composition rather than by class extension. Put otherwise, you write an enhancer or decorator function, that takes a component as input and returns it wrapped inside another so that the new thing as an extra piece of functionality. Especially the pure react components that do not use life-cycle methods are very suitable to enhance. If a react component makes essential use of a life cycle method, it is easier to enhance it by class extension. But even that can be coded as function composition, as saveState shows. Source: helpers/hoc.js Methods &lt;static&gt; saveState(ComponentInner, key, object) Wraps a component to let it preserve its state across unmounts and certain property updates. We assume that the original component can access the globals through context by having been enhanced by withContext. We assume that Provider has created a Store in globals. Now the resulting component is a subclass of the original, with enhanced constructor(), componentWillReceiveProps() and componentWillMount() methods. The resulting component will retrieve an existing state, coming from the Store, before mounting. If there is no such state, the initialState parameter will be used. And when the component is destroyed, it will save its state in the Store. One subtlety, though. Sometimes a component is reused without being unmounted and reconstructed, but by just getting new props. For example, the DocMd component has a property docName. When the user browses from one document to another, the router will pass a new value for docName to the existing component, rather than destroying it and building it from scratch. Now DocMd uses the stateful Alternatives component to give the user the choice to view the MarkDown source or the formatted version. When the user switches docs, also this Alternatives just get new props instead of being unmounted and reconstructed. So our method of saving state should also apply when properties change. But not all properties. We only look at the tag property on the original component. The tag property is used in two ways: it will be part of the key under which the state will be saved if it changes, the present state will be saved (with the old value of tag as part of the key) and a previously saved state (with the new value of tag) will be loaded. If there is no property tag on the orginial component, we take it to be the empty string. Parameters: Name Type Description ComponentInner Component the incoming component (the wrappee) key string identifier to find the saved state back in the state store object initialState the state to start with Source: helpers/hoc.js Returns: ComponentOuter - the enhanced component (the wrapper) Type Component &lt;static&gt; withContext(ComponentInner) Wraps component to provide it with context. The resulting component subscribes to context and passes the content of context.globals (only the globals !) to the origianal component as props. These properties are then magically present in the methods of the original component.. Parameters: Name Type Description ComponentInner Component the incoming component (the wrappee) Source: helpers/hoc.js Returns: ComponentOuter - the enhanced component (the wrapper) Type Component × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-main.html":{"id":"module-main.html","title":"Module: main","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: main RoutingThe entry point main.jsx contains the routes configuration. This is client side routing. At the server there are other rules linking urls to behaviour. Here are a few rules that capture how routing works in a Single Page App (SPA) like this, and the diagram visualizes the same logic. the server responds to any url with sending the index.html page, which also causes the bundle.js to load. the server's rules are very simple: no matter what the url, respond with the whole app. The response is static, it is always the same. The client has to figure out what component(s) of the app to show and where, based on the details of the url. this behaviour is needed to cater for the case that the user hits the browser's refresh button. At that moment, the current url might be a deep path, and we cannot expect the server to know those paths. The best the server can do is to send the whole app again. There are a few exceptions, though: if the url points to a static file, i.e. a file under /static/, the server will respond with the file contents. Otherwise there was no way to serve the index.html and bundle.js in the first place. if the url points to /api/, the server will respond in a variety of ways, depending on the rest of the url. By means of these /api/ urls the client can ask for additional data services, from file system or database. The server side routing maps these urls to specific controllers that fetch and assemble the requested data. Providing Application wide dataThe Provider component surrounding the router provides global information to other components. Source: main.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-React.html":{"id":"module-React.html","title":"Module: React","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: React React Documentation references. This file does not contain javascript code. Source: info/react.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"module-ui.html":{"id":"module-ui.html","title":"Module: ui","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Module: ui User InterfaceThis is a collection of methods that directly address the user interface aspects of the web page. Source: helpers/ui.js Members &lt;inner, constant&gt; divWidth the widths of the main portions on the screen: left: outer left navigation bar right: everything else rightLeft: left column inside right rightRight: right column inside right Source: helpers/ui.js &lt;inner, constant&gt; divWidthSpec outer left navigation bar width and inner left columm width Source: helpers/ui.js &lt;inner, constant&gt; floatSpec we use the float property to position the leftish and rightish divs Source: helpers/ui.js &lt;inner, constant&gt; scrollBarWidth scrollbar width Source: helpers/ui.js &lt;inner, constant&gt; topHeight top navigation bar height and remaining height Source: helpers/ui.js &lt;inner, constant&gt; winHeight remaining height under the top navigation bar Source: helpers/ui.js Methods &lt;static&gt; columnStyle(kind) Sets the relevant box properties for a leftish or rightish div Parameters: Name Type Description kind string The name of the div in question, must be a key in floatSpec and divWidth. Source: helpers/ui.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"NavLink.html":{"id":"NavLink.html","title":"Class: NavLink","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: NavLink NavLink new NavLink(props) purely functional Component Displays a navigation link that is sensitive to routing. Parameters: Name Type Description props Object Incoming properties to be passed to the underlying component. Source: pure/NavLink.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"NotFound.html":{"id":"NotFound.html","title":"Class: NotFound","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: NotFound NotFound new NotFound(params) purely functional Component Displays a 404 if no route matches. Parameters: Name Type Description params Object The route parameters, among which the full path (splat) Source: pure/NotFound.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Notification.html":{"id":"Notification.html","title":"Class: Notification","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Notification Notification stateful Component Component that receives notifications and displays them in a little div with fixed position on the screen. new Notification() Upon construction this component registers itself as an object in globals. The state consists of the list of messages. Source: state/Notification.jsx Methods computeProgress() Collects the parameters to display progress information Source: state/Notification.jsx Returns: See the input of render Type Array render(lastMsg, lastNote, lastKind, busy:, visible:) Unobtrusive notification: if all is well, just a little circle fixed in the upper right corner if we are waiting for the server: a spinner and a few extra disks for each pending process clicking on the circle pops up a message panel if there are errors/warnings, the circle changes color and a message panel pops up automatically which can be dismissed by clicking on it and previous messages can be cleared Parameters: Name Type Description lastMsg number number of the last message in the panel lastNote number number of the last error/warning message in the panel lastKind number kind of the last error/warning message in the panel busy: number the sum of the individual busy attributes of the messages visible: boolean whether we should show the panel Source: state/Notification.jsx Returns: Type Fragment setView(on) Hide/show message panel and scrolls to relevant message. Parameters: Name Type Description on boolean Whether the message panel should be displayed or not Source: state/Notification.jsx Returns: Hides or shows the div containing the message panel. Type DOM × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Provider.html":{"id":"Provider.html","title":"Class: Provider","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Provider Provider stateless, context providing Component Providing information to all componentsIt is tempting to use the javascript window object to store globals However, we will not do so, because that makes the data accessible to all the javascript that happens to be injected in the current browsing episode. Instead we use the mechanism of React to pass global information around within all the components of the app. This information will then not spread further than the components. Because the context data travels from parent to children and then grandchildren, we need to make this data available in the ultimate ancestor of all components. The context device of React consists of a context provider and context receivers. The provider defines, constructs, and declares properties on context. Every component can become context receiver by subscribing in a way to those declared context properties. Context properties pass directly from provider to receiver, without intervening components having to do any work. This Provider sits at the top of the component tree and provides the property globals (which is an object), on context. At the receiving side: we do not program our components to get the globals directly from context. Instead, we enhance the receiving component by means of withContext. Once we work with the enhanced component, we may assume that it has an ordinary property globals. Inside globals, we provide the following items: StoreThe Store is a container of component states. We use it for components with a costly state, that should be preserved when components are swapped in and out from the user interface. See more about the why and how of the store in State Policy and saveState. The Store is not a React component, but an ordinary class. It will have one instance, which will be created in the constructor() of Provider. NotificationWe want one place on the interface for displaying notifications. Every component that feels the need send a notification should be able to find the notification component. Notification is a React component, but it is not available just here. It will be created as a sub component of App. When that happens, the new Notification object will inject assign itself to globals.notification.component. new Provider() Source: object/Provider.jsx × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Stats.html":{"id":"Stats.html","title":"Class: Stats","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Stats Stats new Stats( [subTotal] [, total]) purely functional Component Displays a string of the form subTotal of total. If one of the two is missing, the of will not display. Parameters: Name Type Argument Description subTotal number &lt;optional&gt; total number &lt;optional&gt; Source: pure/Stats.jsx Returns: Type Fragment × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "},"Store.html":{"id":"Store.html","title":"Class: Store","body":" Documentation Modules dataDocDocMdES6EUMapeurope_geo_jsfilteringFiltershocmainReactui Classes AlternativesAppByValueCheckboxIContribContribsContribsFilteredDocHtmlDocPdfFacetFilterComputeFullTextLoginDocMd~DocMdDoc~DocEUMap~EUMapFilters~FiltersNavLinkNotFoundNotificationProviderStatsStore Global Global Externals ComponentcomponentDidMountcomponentDidUpdatecomponentWillMountcomponentWillReceivePropscomponentWillUnmountconstructorcontextControlledComponentDOMFragmentLifeCycleMapPromisePropTypesRecomposeReconciliationReduxrenderRoutingsetStatestateStatePolicy Class: Store Store Backup for StateThe Store is a Map containing saved component states as values paired to keys. The workflow is a component presents itself and a key to the store and loads data found in the store under that key; it saves its state to the store under that key when it unmounts; when it remounts, it loads again; other components can also inspect and even manipulate saved states, if they know the key. UsageDo not use the Store directly. Provide it to your component on context by means of the withContext enhancer, and enable its functionality by means of the saveState enhancer. MotivationSee State Policy new Store() Source: helpers/store.js Methods get(key) get(key) Retrieve state from under a given key without loading it into a component state. NB: whoever has retrieved a saved state, can modify its inner parts, so that the owner component of this state will feel the changes when it loads them. As an example, you could use this to emit notifications before the Notification component mounted. Parameters: Name Type Description key string Identifier under which the saved state is stored Source: helpers/store.js Returns: The saved state object from the store found under key Type Object load(component, key, initialState) A component loads data from the store, from under a key. The key can be just any string. If component has multiple instances that need a separate key, make sure that the instances use different keys. If there is not yet data there, the components loads an initial state. This can be passed either as a concrete object, or as a function that computes an object from props. This method is typically called in the constructor() of component. Parameters: Name Type Description component Component The component that wants to load state key string Identifier under which the saved state is stored initialState Object The initial state to use for a component Source: helpers/store.js save(component, key) A Component saves its state in the store under key. Typically, save() is called in the componentWillUnmount() of component. Parameters: Name Type Description component Component The component that wants to save state key string Identifier under which the saved state is stored Source: helpers/store.js × Search results Close Documentation generated by JSDoc 3.4.2 on 2016-11-07T20:21:43+01:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
